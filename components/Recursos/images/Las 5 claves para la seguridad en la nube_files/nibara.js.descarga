!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Nibara=t():e.Nibara=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(7),a=o(i),r=n(8),l=o(r),u=n(9),c=o(u),s=n(10),d=o(s);n(11),Voonto.ready.then(function(e){var t=new l.default(e),n=new c.default(e),o=new d.default(e),i=window.nibara;i.VERSION=a.default.version,t.initialize().then(function(){Logger.debug("nibara version: "+a.default.version),n.initialize(),o.initialize(),i.moduleLoaderUpdate=function(e){e instanceof jQuery?n.initialize(e):Logger.warn("Can not initialize moduleLoader. Element is not instance of jQuery.")}}).catch(function(e){Logger.error("Main exception:"+e.message)})})},,,,,,,function(e,t){e.exports={name:"abc-nibara-static",version:"1.7.67",description:"Javascript para abc",main:"src/index.js",scripts:{test:"./node_modules/.bin/webpack && ./node_modules/.bin/mocha-phantomjs dist/spec/index.html --reporter xunit --file test-results.xml",start:"webpack-dev-server",build:"./node_modules/.bin/webpack","build:watch":"./node_modules/.bin/webpack --watch"},author:"mbiencinto@vocento.com|fgalindo@vocento.com|jvortiz@ces.vocento.com",license:"SEE LICENSE IN LICENSE.md",devDependencies:{"babel-core":"^6.17.0","babel-loader":"^6.2.5","babel-polyfill":"^6.16.0","babel-preset-es2015":"^6.16.0",chai:"^3.5.0",chalk:"^1.1.3","html-webpack-plugin":"^2.24.1","json-loader":"^0.5.4",mocha:"^3.1.0","mocha-loader":"^1.0.0","mocha-phantomjs":"^4.1.0",webpack:"^1.13.3","webpack-shell-plugin":"^0.4.3"}}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){if(n(this,e),this.app=t,this.libPath=t.lookup("vocento.config.nibara").libPath,void 0===this.libPath)throw"nibara libPath config is empty"}return o(e,[{key:"initialize",value:function(){return this.app.load(this.libPath+"js-logger/logger.min.js").then(function(){Logger.useDefaults();var t=Logger.createDefaultHandler({formatter:function(e){e.unshift("nibara_debug::")}});Logger.setHandler(function(e,n){t(e,n)}),Logger.setLevel(Logger.WARN),"1"===e.getUrlParam("nibara_debug")&&Logger.setLevel(Logger.DEBUG)})}}],[{key:"getUrlParam",value:function(e){for(var t=window.location.search.slice(1).split("&"),n=void 0,o=0;o<t.length;o++)if(n=t[o].split("="),n[0]===e)return n.length>1?n[1]:"";return null}}]),e}();t.default=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){if(n(this,e),this.app=t,this.path=t.lookup("vocento.config.nibara").path,void 0===this.path)throw"nibara path config is empty";if(this.libPath=t.lookup("vocento.config.nibara").libPath,void 0===this.libPath)throw"nibara libPath config is empty"}return o(e,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Logger.debug("ModuleLoader: Initialize");var n=[];n=null!==t?t.find(".nibara-element-inview"):Voonto.$(".nibara-element-inview"),n&&this.app.load(this.libPath+"jquery-inview-tea3/jquery.inview.min.js").then(function(){n.each(function(t,n){var o=Voonto.$(n),i=o.data("offset")||0;"live"===o.data("nibara-inview-mode")?o.on("inview",function(t,a,r,l){o.data("awakened")!==!0&&(e.callModuleMethod(o,"wakeUp"),o.data("awakened",!0)),a&&"top"===l&&(Logger.debug("[inview live] Visible TOP: "+Voonto.$(n).data("nibara-module")+" with offset:"+i),e.callModuleMethod(o,"visibleTop")),a&&"bottom"===l&&(Logger.debug("[inview live] Visible BOTTOM: "+Voonto.$(n).data("nibara-module")+" with offset:"+i),e.callModuleMethod(o,"visibleBottom")),a&&"both"===l&&(Logger.debug("[inview live] Visible ENTIRE: "+Voonto.$(n).data("nibara-module")+" with offset:"+i),e.callModuleMethod(o,"visibleEntire")),a||(Logger.debug("[inview live] NOT Visible: "+Voonto.$(n).data("nibara-module")+" with offset:"+i),e.callModuleMethod(o,"lyingDownModule"))}):o.one("inview",function(t,a){a&&(Logger.debug("[inview one] Visible: "+Voonto.$(n).data("nibara-module")+" with offset:"+i),e.callModuleMethod(o,"wakeUp"))})})});var o=[];o=null!==t?t.find(".nibara-element"):Voonto.$(".nibara-element"),o&&o.each(function(t,n){var o=Voonto.$(n);e.callModuleMethod(o,"wakeUp")})}},{key:"callModuleMethod",value:function(e,t){var n=e.data("nibara-module");if(n){var o=this.path+"/"+n+"-module.js";o=window.nibara.nTools.getStaticNode(o),this.app.require([o],function(n){"function"==typeof n[t]?n[t](e):Logger.warn('Method "'+t+'" not found in module "'+o+'"')})}}}]),e}();t.default=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){if(n(this,e),this.app=t,this.path=t.lookup("vocento.config.nibara").path,void 0===this.path)throw"nibara path config is empty"}return o(e,[{key:"initialize",value:function(){var e=this;Logger.debug("ScriptLoader: Initialize");var t=Voonto.$("body").data("nibara-loader");t&&t.split(" ").forEach(function(t){if(t.trim().length>0){var n=e.path+("/"+t+"-script.js");n=window.nibara.nTools.getStaticNode(n),Logger.debug("ScriptLoader: loading script: "+n),e.app.load(n).catch(function(e){Logger.error(n+" not found: "+e.message)})}}),Logger.debug("ScriptLoader End")}}]),e}();t.default=i},function(e,t){"use strict";var n=function(e){var t={},n=e;return e.ajaxQueue=Voonto.$({}),t.getStaticNode=function(e){if(null!==window.location.href.match("docker"))return e;var t={0:"static",1:"static1",2:"static2",3:"static3",4:"static4"},n=e.length%5;return e.match("static.abc.es")&&(e=e.replace("static",t[n]),Logger.info("static host modified: "+e)),e},t.dbDebug={init:function(){localStorage.setItem("dbDebug",""),Logger.info("[dbDebug] init: ")},addData:function(e){var t=this.getData();null!=t&&t.length>0?t.push(e):t=[e],localStorage.setItem("dbDebug",JSON.stringify(t)),Logger.info("[dbDebug] New data: ",e),Logger.info("[dbDebug] Save data: ",t)},getData:function(){var e=localStorage.getItem("dbDebug");return null!=e&&e.length>0&&(e=JSON.parse(e)),e}},t.cleanerUrl=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t&&(e=e.replace(/#\w+/g,"")),n&&(e=e.replace(/\?.*/g,"")),e},t.getUrlParams=function(){for(var e={},t=n.location.search.length>0?n.location.search.substr(1).split("&"):"",o=n.location.hash.length>0?n.location.hash.substr(1).split("&"):"",i={},a=0;a<t.length;a++){var r=t[a].split("=");r.length>1?i[r[0]]=r[1]:i[r[0]]=null}e.queryParams=i;for(var l={},u=0;u<o.length;u++){var c=o[u].split("=");c.length>1?l[c[0]]=c[1]:l[c[0]]=null}return e.queryHash=l,e},t.ajaxQueue=function(e){function t(t){n=Voonto.$.ajax(e).done(o.resolve).fail(o.reject).then(t,t)}var n=void 0,o=Voonto.$.Deferred(),i=o.promise();return ajaxQueue.queue(t),i.abort=function(a){if(n)return n.abort(a);var r=ajaxQueue.queue(),l=Voonto.$.inArray(t,r);return l>-1&&r.splice(l,1),o.rejectWith(e.context||e,[i,a,""]),i},i},{nTools:t}}(window);window.nibara=n}])});
//# sourceMappingURL=nibara.js.map