!function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.gigya.params_pro",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(){function a(){return"ParamsVocuser"}function b(a){var b="pro";return"string"!==a&&a&&(e=a),b}var c="4.0.0",d=a(),e="pro",f={subDomainSettings:{supersanos:{cnameEnabled:!1},areapersonal:{bannedScreenSets:["Profile-web-rediseno"],service:"escaparate"},"areapersonal-predes":{bannedScreenSets:["Profile-web-rediseno"],service:"escaparate"},"areapersonal-des":{bannedScreenSets:["Profile-web-rediseno"],service:"escaparate"},oferplan:{wrapperVersion:"v1"},guapabox:{wrapperVersion:"v1"},esquelas:{service:"esquelas"},escaparate:{wrapperVersion:"v3"},"":{wrapperVersion:"v2"},".":{wrapperVersion:"v2"},escueladeinversion:{service:"canal_escuela",service_movil:"canal_escuela_mvl"},"pre-escueladeinversion":{service:"canal_escuela",service_movil:"canal_escuela_mvl"},"desnlocal-vocuser":{wrapperVersion:"v4_local"},"desnlocal-vocuser-sevilla":{apiKey:"3_SmsPNgDvqtLypCPMo9VRAQS32NVvG8mkOk7U9f75THTmu0e_aAYHCE_y_HvNapxo"},"des-sevilla":{apiKey:"3_SmsPNgDvqtLypCPMo9VRAQS32NVvG8mkOk7U9f75THTmu0e_aAYHCE_y_HvNapxo"},"pre-sevilla":{apiKey:"3_SmsPNgDvqtLypCPMo9VRAQS32NVvG8mkOk7U9f75THTmu0e_aAYHCE_y_HvNapxo"},sevilla:{apiKey:"3_onq0tGtSGp2yKBgflBnPfIfxBOaKDWroI9xFl6U2JW3-siy2jHWr6_L3urBM6Ucy"}},rutaCargaJavascriptsPorSubdominio:{"areapersonalm-des":{rutaCargaJavascripts:"//des-cabeceras.vocento.com"},"areapersonal-des":{rutaCargaJavascripts:"//des-cabeceras.vocento.com"},"areapersonalm-predes":{rutaCargaJavascripts:"//des-cabeceras.vocento.com"},"areapersonal-predes":{rutaCargaJavascripts:"//des-cabeceras.vocento.com"},areapersonalm:{rutaCargaJavascripts:"//des-cabeceras.vocento.com"},areapersonal:{rutaCargaJavascripts:"//cabeceras.vocento.com"},esquelas:{rutaCargaJavascripts:"//cabeceras.vocento.com"},"desnlocal-vocuser":{rutaCargaJavascripts:window.location.host+"/js/pro/abc/"}},vocGroup:{ppll:["ideal","elcorreo","diariovasco","hoy","elcomercio","laverdad","eldiariomontanes","diariosur","lasprovincias","elnortedecastilla","degustalarioja","larioja","lomejordelvinoderioja","guiasaludrioja","conecta2aeuropa","leonoticias","elbierzonoticias","fallasvalencia","surinenglish"],abc:["abc","abcdesevilla","hoycinema","laguiatv","finanzas","lavozdigital","mujerhoy"],finanzas:["finanzas","escueladeinversion"]},media:{abc:{apiKey:"3_VjZL6dNEbebJWZu9Fa8JJuSZV00WJeDxEoQEbvVyi-0vOVjBGo7fwqGxuZRNOU5B",group:"abc",service:"abc",service_movil:"abc_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},abcdesevilla:{apiKey:"3_onq0tGtSGp2yKBgflBnPfIfxBOaKDWroI9xFl6U2JW3-siy2jHWr6_L3urBM6Ucy",group:"abc",service:"sevilla",service_movil:"sevilla_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},hoycinema:{apiKey:"3_VjZL6dNEbebJWZu9Fa8JJuSZV00WJeDxEoQEbvVyi-0vOVjBGo7fwqGxuZRNOU5B",group:"abc",service:"hoycinema",service_movil:"abc_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},laguiatv:{apiKey:"3_VjZL6dNEbebJWZu9Fa8JJuSZV00WJeDxEoQEbvVyi-0vOVjBGo7fwqGxuZRNOU5B",group:"abc",service:"laguiatv",service_movil:"abc_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},finanzas:{apiKey:"3_ZnZGo5OVtstOK_9Li8z1J-36ZcrBHoczSbW2YHlwHASWL_oI9kWO2FXAoccjf0lM",group:"finanzas",service:"finanzas",service_movil:"finanzas",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},escueladeinversion:{apiKey:"3_c9NhM4aCBfL_gRwTYF8jh1PjoTRlR8esnVlpNnykx2enQWPZQqjnEQCamqu43Shy",group:"finanzas",service:"canal_escuela",service_movil:"canal_escuela_mvl",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},lavozdigital:{apiKey:"3_6cKmBW5TLyxsw5SarrTmPWREX4Mav6VDz-foMTHY13nMODyBvZei6sDNPsIclqCZ",group:"lavoz",service:"pl_lavoz_cadiz",service_movil:"lavozdigital_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},mujerhoy:{apiKey:"3_kPQN-G04697kF9JeISq1p3xIm_MhlnvsekTzYF0XEqQ-_9TXgetC1_855be77WoG",group:"hoymujer",service:"hoymujer",service_movil:"hoymujer",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1},deshared:{apiKey:"3_VjZL6dNEbebJWZu9Fa8JJuSZV00WJeDxEoQEbvVyi-0vOVjBGo7fwqGxuZRNOU5B",group:"abc",service:"abc",service_movil:"abc",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1}},vocUserJs:{core:{"vocento-vocuser-combined-core":"vocento-vocuser-combined-core.js"},ppll:{},abc:{},site:{"vocento-vocuser-combined-siteflow":"vocento-vocuser-combined-siteflow.js"},v4:{}}};return{version:function(){return c},getParamsVocUser:function(){return f},setEnvironment:b,className:function(){return d}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.ParamsVocuser=a),a}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"undefined"!=typeof vocento&&vocento&&"undefined"!=typeof vocento.vocuser&&vocento.vocuser&&"undefined"!=typeof vocento.vocuser.VERSION&&"v3"!==vocento.vocuser.VERSION?"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.gigya.options",b):"object"==typeof exports?module.exports=b():a.returnExports=b():a.returnExports=b()}(this,function(){"use strict";function a(a){function b(){return"GigyaOptions"}function c(a){var b=g;return"undefined"!=typeof a&&a&&"undefined"!=typeof g[a]&&g[a]&&(b=g[a]),b}function d(b,c){var d=g;if("undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof g[b]&&g[b]){var e=g[b];if("undefined"!=typeof g[b][c]&&g[b][c]){var f=g[b][c],i={},j="";for(j in e)"undefined"==typeof h[j]&&(i[j]=e[j]);i=a.extend(!0,i,f),d=i}else d=e}return d}var e="4.0.0",f=b(),g={local:{debug:!0},dev:{debug:!0,abc:{enableCNAME:!0},elcorreo:{},diariovasco:{}},pre:{debug:!0,abc:{enableCNAME:!0},elcorreo:{},diariovasco:{}},pro:{debug:!1}};g.des=g.dev;var h={abc:"abc.es",csvocento:"csvocento.com",sur:"diariosur.es",diariosur:"diariosur.es",diariovasco:"diariovasco.com",elcomercio:"elcomercio.es",correo:"elcorreo.com",elcorreo:"elcorreo.com",diariomontanes:"eldiariomontanes.es",eldiariomontanes:"eldiariomontanes.es",nortedecastilla:"elnortedecastilla.es",elnortedecastilla:"elnortedecastilla.es",finanzas:"finanzas.com",grada360:"grada360.com",hoy:"hoy.es",ideal:"ideal.es",larioja:"larioja.com",lasprovincias:"lasprovincias.es",laverdad:"laverdad.es",lavoz:"lavozdigital.es",lavozdigital:"lavozdigital.es",hoymujer:"mujerhoy.com",mujerhoy:"mujerhoy.com",leonoticias:"leonoticias.com",surinenglish:"surinenglish.com",eslang:"eslang.es",xlsemanal:"xlsemanal.com",codeanyapp:"diariovasco.com",burgosconecta:"burgosconecta.es"};return{version:function(){return e},getOptions:c,getOptionsAndDomainOptions:d,className:function(){return f}}}return"undefined"!=typeof vocento&&vocento&&"undefined"!=typeof vocento.vocuser&&vocento.vocuser&&"undefined"!=typeof vocento.vocuser.VERSION&&"v3"!==vocento.vocuser.VERSION||(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.GigyaOptions=a),a}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.vocuser.params.cdn",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(){function a(){return"ParamsCdn"}var b="4.0.0",c=a(),d={transparent:{subDomain:{des:"des-cabeceras",dev:"des-cabeceras",pre:"pre-cabeceras",pro:"cabeceras"},tldDomain:{ppll:{des:"vocento.com",dev:"vocento.com",pre:"vocento.com",pro:"vocento.com"},abc:{des:"abc.es",dev:"abc.es",pre:"abc.es",pro:"abc.es"},finanzas:{des:"finanzas.com",dev:"finanzas.com",pre:"finanzas.com",pro:"finanzas.com"},mujerhoy:{des:"mujerhoy.com",dev:"mujerhoy.com",pre:"mujerhoy.com",pro:"mujerhoy.com"},eslang:{des:"eslang.es",dev:"eslang.es",pre:"eslang.es",pro:"eslang.es"},xlsemanal:{des:"xlsemanal.com",dev:"xlsemanal.com",pre:"xlsemanal.com",pro:"xlsemanal.com"}}},akamai:{subDomain:{des:"nets-despre",dev:"nets-despre",pre:"nets-despre",pro:"nets"},tldDomain:{ppll:{des:"vocento.com",dev:"vocento.com",pre:"vocento.com",pro:"vocento.com"},abc:{des:"vocento.com",dev:"vocento.com",pre:"vocento.com",pro:"vocento.com"}}}},e={akamai:{dev:{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/dev/",pro:"/despre/social-login/dev/"},des:{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/dev/",pro:"/despre/social-login/dev/"},desn:{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/dev/",pro:"/despre/social-login/dev/"},integracion2010:{des:"/despre/social-login/pre/",dev:"/despre/social-login/pre/",pre:"/despre/social-login/pre/",pro:"/despre/social-login/pre/"},"desnlocal-vocuser":{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/pre/",pro:"/social-login/"},pre:{des:"/despre/social-login/pre/",dev:"/despre/social-login/pre/",pre:"/despre/social-login/pre/",pro:"/despre/social-login/pre/"},pren:{des:"/despre/social-login/pre/",dev:"/despre/social-login/pre/",pre:"/despre/social-login/pre/",pro:"/despre/social-login/pre/"},www:{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"},"new":{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"},"":{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"},".":{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"}}};return{version:function(){return b},getParamsCdnUrl:function(){return d},getParamsCdnPathVocUser:function(){return e},className:function(){return c}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.ParamsCdn=a),a}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.vocuser.configManager",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";return function(){function a(){return"ConfigManager"}function b(a){var b="dev";return"string"!==a&&a&&(k=a,b=!0),b}function c(){var a="dev";return a=k}function d(a){var b=!1;return"undefined"!=typeof a&&a&&(b=n[a].subDomain[k]),b}function e(a){var b=!1,c=l.group;return"undefined"!=typeof a&&a&&(b=n[a].tldDomain[c][k]),b}function f(a,b){var c=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof o[a][b]&&(c=o[a][b][k]),c}function g(){var a="";return"undefined"!==l&&l&&"undefined"!=typeof l.editions&&l.editions&&"undefined"!=typeof l.editions.current&&l.editions.current&&(a=l.editions.current),a}function h(a,b,c,d){var e=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof d&&d&&(l=a,m=b,n=c,o=d,e=!0),e}var i="4.0.0",j=a(),k="dev",l={},m={},n={},o={};return{version:function(){return i},init:h,getParamsVocento:function(){return l},getParamsVocentoCurrentEdition:g,getParamsVocUser:function(){return m},getParamsCdn:function(){return n},getCdnSubDomain:d,getCdnTldDomainForGroup:e,getCdnPathVocUser:f,setEnvironment:b,getEnvironment:c,className:function(){return j}}}}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.gigya.loadGigya",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a){function b(){return"LoadGigya"}function c(a,b){var c=!1,d="info",e=2;if("undefined"!=typeof ga&&ga&&"pro"!==ga&&("undefined"!=typeof b&&b&&(d=b),"undefined"!=typeof console&&console&&"undefined"!=typeof console.log&&console.log)){var f="purple",g="";g="undefined"!=typeof a&&a&&(a.length||"object"==typeof a)?JSON.stringify(a,null,4):a,"info"!==d&&"log"!==d||2!==e||(f="purple",console.log("%c---- Log - VocUser: "+g,"color:"+f+";")),"warn"!==d||1!==e&&2!==e||(f="blue",console.warn("%c---- Log - VocUser: "+g,"color:"+f+";")),"error"!==d||0!==e&&1!==e&&2!==e||(f="red",console.error("%c---- Log - VocUser: "+g)),c=!0}return c}function d(){var a=!1;return"undefined"!=typeof da&&da&&(ea.simpleStorage=da),a=!0}function e(){var a="",b=window.location.hostname,c=b.split("."),d="";return!0===g()&&(b=f(),"undefined"!=typeof b&&b&&"/"!==b&&(c=b.split("."))),c.length<=0&&(d=b),c.length>0&&c.length<3&&(d=c[0]),c.length>2&&(d=c[1]),a=d}function f(){var a=!1,b=_.cookie(ua);if("undefined"!=typeof b&&b)try{a=decodeURIComponent(b)}catch(d){c("Error en getNfrylCookie() al decodificar la cookie: "+d,"error"),b=_.cookie(ua),"undefined"!=typeof b&&b&&(a=decodeURIComponent(b))}return"undefined"!=typeof a&&a||(a=window.location.href),decodeURIComponent(a)}function g(){var a=!1;for(var b in wa.page){var c=wa.page[b];if(-1!==window.location.pathname.indexOf(c))return a=!0}return a}function h(){var a=!1,b=i();return a=b,!0===g()&&(a=j(f()),!1===a&&(a=b)),"desnlocal-vocuser"===b&&(a=b),a}function i(){var a={},b=window.location.hostname,c=new RegExp("([a-z-0-9]{2,63}).([a-z.]{2,5})$"),d=c.exec(b);return a.domain=d[1],a.type=d[2],a.subdomain=b.replace(a.domain+"."+a.type,"").slice(0,-1),a=a.subdomain}function j(a){var b=!1;if("undefined"!=typeof a&&a){var c=a.split("/");if(c.length>=3){var d=c[2];if("undefined"!=typeof d&&d){var e=d.split(".");b=e[0]}}}return b}function k(){var a=!1;return a=ha.media}function l(a){c("LoadGigya.setVarsFromConfig => apiKey: "+ka),c("LoadGigya.setVarsFromConfig => service: "+na),c("LoadGigya.setVarsFromConfig => wrapperMainVersion: "+ra),c("LoadGigya.setVarsFromConfig => wrapperBuildVersion: "+a),c("LoadGigya.setVarsFromConfig => wrapperBuildDate: "+va.substring(3)),c("LoadGigya.setVarsFromConfig => medio: "+oa),c("LoadGigya.setVarsFromConfig => configEnvironment: "+aa.getEnvironment()),c("LoadGigya.setVarsFromConfig => vocentoGroup: "+ma),c("LoadGigya.setVarsFromConfig => gigyaParentGroup: "+la)}function m(){var a=window.location.hostname,b="service",c=s(a);"undefined"!=typeof voc_pl&&voc_pl&&(c=c||t(voc_pl)),!0===c&&(za.quickRegistration=!0,b="service_movil"),oa=k(),ma=o(oa),pa=aa.getParamsVocentoCurrentEdition(),"undefined"!=typeof pa&&pa&&"undefined"!=typeof ia.media[oa][pa]&&ia.media[oa][pa]&&"undefined"!=typeof ia.media[oa][pa].apiKey&&ia.media[oa][pa].apiKey?(ka=ia.media[oa][pa].apiKey,la=ia.media[oa][pa].group,na=ia.media[oa][pa][b],sa=ia.media[oa][pa].wrapperVersion,ta=ia.media[oa][pa].cnameEnabled,Aa=ia.media[oa][pa].hasEcommerce):(ka=ia.media[oa].apiKey,la=ia.media[oa].group,na=ia.media[oa][b],sa=ia.media[oa].wrapperVersion,ta=ia.media[oa].cnameEnabled,Aa=ia.media[oa].hasEcommerce),"undefined"!=typeof sa&&(ra=sa?sa:ra),"undefined"!=typeof ba&&ba&&(na=ba),za.env=aa.getEnvironment();var d=r(ya);if("undefined"!=typeof ya&&ya&&"undefined"!=typeof d&&d){"undefined"!=typeof d.wrapperVersion&&d.wrapperVersion&&(ra=d.wrapperVersion),"undefined"!=typeof d.apiKey&&d.apiKey&&(ka=d.apiKey);var e=na;if("undefined"!=typeof d.service&&d.service&&(na=d.service),!1===Aa&&("ppll"===ma?(na=e,delete d.service):"undefined"!=typeof d.service&&d.service&&(na=d.service)),/^areapersonal/.test(ya)){var f=window.location.href;f.indexOf("trial/success")>-1&&(d.service="trial",na="trial"),f.indexOf("servicios/newsletters")>-1&&(d.service="NL_escaparate",na="NL_escaparate")}za=_.extend(!0,za,d)}return"undefined"==typeof ta&&(ta=!1),"undefined"!=typeof za&&za&&"undefined"!=typeof za.cnameEnabled&&(ta=za.cnameEnabled),qa=aa.getCdnPathVocUser("akamai",ha.subdomain),n(ia),this}function n(a){window.__gigyaConf=a.vocUserCustomValidation}function o(a){var b=!1,c="ppll";if("undefined"!=typeof a&&a&&"undefined"!=typeof ia&&ia&&"undefined"!=typeof ia.vocGroup&&ia.vocGroup){var d=0,e=!1;for(var f in ia.vocGroup)if(ia.vocGroup.hasOwnProperty(f)&&ia.vocGroup[f].length){d=0,e=!1;do a===ia.vocGroup[f][d]&&(e=!0),d+=1;while(d<ia.vocGroup[f].length&&e===!1);!0===e&&(c=f)}}return b=c}function p(a){var b=!1,c=[];return"undefined"!=typeof a&&a&&"undefined"!=typeof ia&&ia&&"undefined"!=typeof ia.vocUserJs&&ia.vocUserJs&&"undefined"!=typeof ia.vocUserJs[a]&&ia.vocUserJs[a]&&(c=ia.vocUserJs[a]),b=c}function q(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof ia.media[a]&&ia.media[a]&&(b=ia.media[a]),b}function r(a){var b=!1,c="",d="";return"undefined"!=typeof a&&a&&("undefined"!=typeof ia.subDomainSettings[a]&&ia.subDomainSettings[a]&&(c=ia.subDomainSettings[a]),d=q(a),"undefined"!=typeof c&&c?b=_.extend(d,c):"undefined"!=typeof d&&d&&(b=d)),b}function s(a){var b=!1;return"undefined"!=typeof a&&a&&(a.indexOf(".m.")>-1||a.indexOf("m.")>-1&&"m"===a.charAt(0)&&"."===a.charAt(1)||a.indexOf("m-origin")>-1)&&(b=!0),b}function t(a){var b=!1;return"undefined"!=typeof a&&a&&"m"===a.toLowerCase()&&(b=!0),b}function u(){var a="",b=navigator.userAgent,c="",d=b.match(/(opera|chrome|safari|firefox|msie|mobile|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(d[1]))c=/\brv[ :]+(\d+)/g.exec(b)||[],a="IE "+(c[1]||"");else{if("Chrome"===d[1]&&(c=b.match(/\bOPR\/(\d+)/),null!==c))return"Opera "+c[1];d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(c=b.match(/version\/(\d+)/i))&&d.splice(1,1,c[1]),a=d.join(" ")}return a}function v(){var a=!1,b=null,c=e();return"undefined"!=typeof Vocento&&Vocento&&"undefined"!=typeof Vocento.GigyaOptions&&Vocento.GigyaOptions?(b=new Vocento.GigyaOptions(_),b=b.getOptionsAndDomainOptions(ga,c)):"undefined"!=typeof ja&&ja&&(b=ja.getOptionsAndDomainOptions(ga,c)),"undefined"!=typeof b&&b&&(za=_.extend(!0,za,b),a=!0),a}function w(){var a=!1,b="http";return"https:"===window.location.protocol&&(b="https"),a=b+"://cdn.gigya-ext.com/screenset-validation.min.js"}function x(){var a=!1,b='{autoLogin: false, signIDs: true, connectWithoutLoginBehavior: "alwaysLogin", newUsersPendingRegistration: true, forceAuthentication: false, dateFormat: "%d/%M/%yyyy", lang: "es", sessionExpiration: 31536000';if(!0===ta){var c=u();(c.indexOf("Safari")>-1||c.indexOf("Mobile")>-1||c.indexOf("-?")>-1)&&(b+=", enableSSOToken:true ")}return b+=" } ",a=b}function y(){var a=!1,b="http";"https:"===window.location.protocol&&(b="https");var c="cdn";"https"===b&&(c="cdns");var d=b+"://"+c+".gigya.com/js/socialize.js"+va+"&apiKey="+ka;return!0===ta&&(d=b+"://"+c+".gigya.com/js/gigya.js?apiKey="+ka),a=d}function z(a){var b=!1;if("undefined"!==a&&a){var c="",d="http";"https:"===window.location.protocol&&(d="https");var e=!1;if("undefined"!=typeof ya&&ya&&"undefined"!=typeof ia.rutaCargaJavascriptsPorSubdominio[ya]&&ia.rutaCargaJavascriptsPorSubdominio[ya]&&"undefined"!=typeof ia.rutaCargaJavascriptsPorSubdominio[ya].rutaCargaJavascripts&&ia.rutaCargaJavascriptsPorSubdominio[ya].rutaCargaJavascripts&&(e=!0),!0===e)c=d+"://"+ia.rutaCargaJavascriptsPorSubdominio[ya].rutaCargaJavascripts;else{var f=aa.getCdnTldDomainForGroup("transparent");c=d+"://"+aa.getCdnSubDomain("transparent")+"."+f,!0===e&&(c=c.substring(0,c.length-1));var g="/vocuser/"+ra+"/resources/js/"+a+"/";c+=g}b=c}return b}function A(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d={},e="";for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);for(e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);c=d}return c}function B(a,b,c){var d=!1,e={};if("undefined"!=typeof a&&a&&"undefined"!==b&&b){var f="";for(f in a)a.hasOwnProperty(f)&&(e[f]=b+a[f]+c)}return d=e}function C(a,b,c,d,e,f,g,h,i,j){"undefined"!=typeof ca&&ca&&(ca.require.onError=fa);var k={VOCUSER_USERUTILS:a,VOCUSER_CORE:b,VOCUSER_BASEFLOW:c,VOCUSER_GROUPFLOW:d,VOCUSER_SITEFLOW:e,VOCUSER_TAGMANAGERFLOW:f,VOCUSER_AUTOSUBSCRIBEFLOW:g,VOCUSER_NEWSLETTERSFLOW:h,VOCUSER_NFRYLFLOW:i,VOCUSER_ADDITIONALDATAFLOW:j};X(k)}function D(a){var b={};if("undefined"!==a&&a&&"undefined"!=typeof a["vocento-vocuser-combined-core"]&&a["vocento-vocuser-combined-core"]){var c="vocento."+ma+"Flow";b[a["vocento-vocuser-combined-core"]]=["vocento.gigya","vocento.gigya.utils","vocento.baseFlow",c,"vocento.tagManagerFlow","vocento.autosubscribeFlow","vocento.newslettersFlow","vocento.nfrylFlow","vocento.additionalDataFlow"]}return"undefined"!==a&&a&&"undefined"!=typeof a["vocento-vocuser-combined-siteflow"]&&a["vocento-vocuser-combined-siteflow"]&&(b[a["vocento-vocuser-combined-siteflow"]]=["vocento.siteFlow"]),b}function E(a){var b="",c=aa.getEnvironment();if("undefined"!=typeof ca&&ca){var d="vocento."+ma+"Flow";b=["vocento.gigya.utils","vocento.gigya","vocento.baseFlow",d,"vocento.siteFlow","vocento.tagManagerFlow","vocento.autosubscribeFlow","vocento.newslettersFlow","vocento.nfrylFlow","vocento.additionalDataFlow"]}return"undefined"!=typeof c&&c&&"pro"!==c&&(b="undefined"!=typeof ca&&ca?[a.VOCUSER_USERUTILS,a.VOCUSER_CORE,a.VOCUSER_BASEFLOW,a.VOCUSER_GROUPFLOW,a.VOCUSER_SITEFLOW,a.VOCUSER_TAGMANAGERFLOW,a.VOCUSER_AUTOSUBSCRIBEFLOW,a.VOCUSER_NEWSLETTERSFLOW,a.VOCUSER_NFRYLFLOW,a.VOCUSER_ADDITIONALDATAFLOW]:["VOCUSER_USERUTILS","VOCUSER_CORE","VOCUSER_BASEFLOW","VOCUSER_GROUPFLOW","VOCUSER_SITEFLOW","VOCUSER_TAGMANAGERFLOW","VOCUSER_AUTOSUBSCRIBEFLOW","VOCUSER_NEWSLETTERSFLOW","VOCUSER_NFRYLFLOW","VOCUSER_ADDITIONALDATAFLOW"]),b}function F(a,b){var c=!1;a+="core/";var d=p("core"),e=a,f=B(d,e,va);d=p(b),e=a+b+"/";var g=B(d,e,va);d=p("site"),e=a+b+"/"+oa+"/";var h=B(d,e,va);d=p("v4"),e=a;var i=B(d,e,va),j=A(f,g),k=A(j,h),l=A(k,i);if("undefined"!=typeof ca&&ca){var m=D(l);ca.require.config({bundles:m});var n=E(l);ca.require(n,C)}else!function(){vocUserRequirejsNamespace.requirejs.config({paths:l});var a=["VOCUSER_USERUTILS","VOCUSER_CORE","VOCUSER_BASEFLOW","VOCUSER_GROUPFLOW","VOCUSER_SITEFLOW","VOCUSER_TAGMANAGERFLOW","VOCUSER_AUTOSUBSCRIBEFLOW","VOCUSER_NEWSLETTERSFLOW","VOCUSER_NFRYLFLOW","VOCUSER_ADDITIONALDATAFLOW"];require(a,C)}();return c=!0}function G(a,b,c,d){var e=!1;if("undefined"!=typeof a&&a){var f=!0;"undefined"!=typeof c&&(f=c);var g=document.createElement("script");g.type="text/javascript",g.src=a,g.async=f,"undefined"!=typeof b&&b&&(g.text=b),document.getElementsByTagName("head")[0].appendChild(g),e=new xa(function(b,c){g.onload=function(){b(a),"undefined"!=typeof d&&"function"==typeof d&&d()}}),g.onreadystatechange=function(){(g.readyState||"loaded"===g.readyState||"complete"===g.readyState)&&(xa.resolve(a),"undefined"!=typeof d&&"function"==typeof d&&d())}}return e}function H(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.vocuser&&a.vocuser&&(b=!0),b}function I(){var a=window.Promise?window.Promise:window.RSVP?window.RSVP.Promise:window.ES6Promise?window.ES6Promise:function(a){};return"undefined"!=typeof a&&a||c("VocUser::initPromiseNamespace => ERROR obteniendo el namespace de JS de Promise.","error"),a}function J(b){"undefined"!=typeof b&&b&&(za=_.extend(!0,za,b)),v(),"undefined"!=typeof ca&&ca&&(fa=ca.require.onError,ca.require.onError=function(a){});var c=y(),d="",e=(w(),""),f=x(),g={};g.text=f,"undefined"!=typeof ca&&ca?d=ca.load(c,g):(d=G(c,f,!0),window.vocUserGigyaReady=e),d.then(function(b){"undefined"!=typeof ca&&ca&&(Y("gigyaready",gigya,ca),ca.when("vocuser:ready").then(function(a){l(a.version())}));var c=o(k()),d=z(c),e=aa.getEnvironment();"pro"===e||!0===H(a)?C(a.UserUtils,a.vocuser,a.BaseFlow,a.GroupFlow,a.SiteFlow,a.TagManagerFlow,a.AutoSubscribeFlow,a.NewslettersFlow,a.NfrylFlow,a.AdditionalDataFlow):F(d,c)})}function K(a){return ka=a,this}function L(){return ka}function M(a){return la=a,this}function N(){return la}function O(a){return na=a,W(na),this}function P(){return na}function Q(){return ra}function R(a){var b=!1,c="";if("undefined"!==a&&a&&a)try{c=JSON.parse(a.cookie),b=c}catch(d){try{a.cookie=decodeURIComponent(a.cookie),c=JSON.parse(a.cookie),b=c}catch(d){}}return b}function S(a){var b=_.cookie("vocuser_information"),c="",d="";if("undefined"!=typeof b&&b){"undefined"!=typeof u&&(d=u(),(d.indexOf("Safari")>-1||d.indexOf("Mobile")>-1||d.indexOf("-?")>-1)&&(b=decodeURIComponent(b)));var e={cookie:b};c=R(e),!1===c&&(c=R(e))}return"undefined"==typeof c||"undefined"==typeof a?c:c[a]}function T(a,b,c,d){var e=!1;return!0===d?(_.cookie(a,b,c),e=!0):(null===_.cookie(a)||"undefined"==typeof _.cookie(a))&&(_.cookie(a,b,c),e=!0),e}function U(a,b,c,d){var e=!1,f=S();if("undefined"!=typeof c&&c){"undefined"!=typeof f&&f||(f={}),f[c]=d;var g=JSON.stringify(f),h=u();(h.indexOf("Safari")>-1||h.indexOf("Mobile")>-1||h.indexOf("-?")>-1)&&(g=encodeURIComponent(f));var i={domain:a,path:"/",expires:b},j=!0;e=T("vocuser_information",g,i,j)}return e}function V(){var a=document.domain.split(".");return a.length>=2&&(a=a[a.length-2]+"."+a[a.length-1]),a}function W(a){var b=!1;if("undefined"!=typeof a&&a){var c=V(),d=365;U("."+c,d,"lastService",a),b=!0}return b}function X(a){var b=_;d(ea);var c=new a.VOCUSER_USERUTILS(b),e={};e=new a.VOCUSER_CORE(b,la,na,za,c,ca,ea);var f=new a.VOCUSER_BASEFLOW(b,c);e.registerFlow(f);var g=new a.VOCUSER_GROUPFLOW(b,c);e.registerFlow(g);var h=new a.VOCUSER_SITEFLOW(b,c);if(e.registerFlow(h),void 0!==a.VOCUSER_TAGMANAGERFLOW){var i=new a.VOCUSER_TAGMANAGERFLOW(b,c);e.registerFlow(i)}if(void 0!==a.VOCUSER_AUTOSUBSCRIBEFLOW){var j=new a.VOCUSER_AUTOSUBSCRIBEFLOW(b,c);e.registerFlow(j)}if(void 0!==a.VOCUSER_NEWSLETTERSFLOW){var k=new a.VOCUSER_NEWSLETTERSFLOW(b,c);e.registerFlow(k)}if(void 0!==a.VOCUSER_NFRYLFLOW){var l=new a.VOCUSER_NFRYLFLOW(b,c);e.registerFlow(l)}if(void 0!==a.VOCUSER_ADDITIONALDATAFLOW){var m=new a.VOCUSER_ADDITIONALDATAFLOW(b,c);e.registerFlow(m)}if("undefined"!=typeof gigyaUXFlows&&gigyaUXFlows&&gigyaUXFlows.length>0){for(var n=0;n<gigyaUXFlows.length;n++)if("undefined"!=typeof gigyaUXFlows[n].version)e.registerFlow(gigyaUXFlows[n]);else{var o=new gigyaUXFlows[n](b,c);e.registerFlow(o)}gigyaUXFlows=null}e.init(),"undefined"!=typeof ca&&ca?Y("ready",e,ca):window.gigyaUX=e}function Y(a,b,c){var d=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&(c.promised("vocuser:"+a,b),d=!0),d}var Z="4.0.0",$=b(),_=a.jQuery,aa=a.ConfigManager,ba=a.customService,ca=a.voontoApp,da=a.simpleStorage,ea=[],fa="",ga=aa.getEnvironment(),ha=aa.getParamsVocento(),ia=aa.getParamsVocUser(),ja=a.ParamsOptionsVocUser,ka=(aa.getParamsCdn(),null),la=null,ma=null,na=null,oa=null,pa=null,qa=null,ra="v1",sa="v1",ta=!1,ua="vocuser_nfryl_volver_al_origen",va="?v=201805031259",wa={page:{loginPage:"/login/login.html",loginAdditionalDataPage:"/login/datos-adicionales.html",registerPage:"/registro/formulario.html",registerConfirmedPage:"/registro/confirmacion.html",resendMailPage:"/registro/reenviar-mail.html",mailSendedPage:"/registro/mail-enviado.html",validateMailPage:"/registro/validacion-mail.html",recoveryPage:"/clave/recuperar.html",sendedMailPage:"/clave/mail-enviado.html",changePasswdPage:"/clave/cambiar.html",passwdchangedPage:"/clave/cambiada.html",profilePage:"/perfil/perfil.html",interestPage:"/perfil/intereses.html",changePasswdProfilePage:"/perfil/cambiar-clave.html",profileUpdatedPage:"/perfil/actualizado.html"}},xa=I(),ya=h(),za={},Aa=!1;return m(),{version:function(){return Z},init:J,setApikey:K,getApikey:L,setGroup:M,getGroup:N,setService:O,getService:P,getVersionJavascripts:Q,className:function(){return $}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.LoadGigya=a),a}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.gigya.utils",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";return function UserUtils($){function getClassName(){return"UserUtils"}function initRow(){var a=function(){};return a="undefined"!=typeof Row&&Row?Row:Vocento.Row}function initCustomValidation(){var a=function(){};return a="undefined"!=typeof customValidation&&customValidation?customValidation:Vocento.customValidation}function initInsertCustomFields(){var a=function(){};return a="undefined"!=typeof insertCustomFields&&insertCustomFields?insertCustomFields:Vocento.insertCustomFields}function initUserUtils(){"undefined"!=typeof vocento&&vocento&&"undefined"!=typeof vocento.vocuser&&vocento.vocuser&&"undefined"!=typeof vocento.vocuser.VERSION&&vocento.vocuser.VERSION&&"v4"===vocento.vocuser.VERSION?(objectRow=initRow(),objectCustomValidation=initCustomValidation(),objectInsertCustomFields=initInsertCustomFields(),objectCustomValidation=new objectCustomValidation,objectInsertCustomFields=new objectInsertCustomFields):(objectRow=null,objectCustomValidation=null,objectInsertCustomFields=null)}function log(a,b){var c=!1,d="info",e=1;if("undefined"!=typeof b&&b&&(d=b),"undefined"!=typeof console&&console){var f="purple",g="";g="undefined"!=typeof a&&a&&(a.length||"object"==typeof a)?JSON.stringify(a,null,4):a,"info"!==d&&"log"!==d||2!==e||(f="purple",console.log("%c---- Log - VocUser: "+g,"color:"+f+";")),"warn"!==d||1!==e&&2!==e||(f="blue",console.warn("%c---- Log - VocUser: "+g,"color:"+f+";")),"error"!==d||0!==e&&1!==e&&2!==e||(f="red",console.error("%c---- Log - VocUser: "+g)),c=!0}return c}function UnicodeToChar(a){var b=!1;if("undefined"!=typeof a&&a&&1===a.length)switch(a){case"a":b=String.fromCharCode(225);break;case"e":b=String.fromCharCode(233);break;case"i":b=String.fromCharCode(237);break;case"o":b=String.fromCharCode(243);break;case"u":b=String.fromCharCode(250);break;case"n":b=String.fromCharCode(241);break;case"A":b=String.fromCharCode(193);break;case"E":b=String.fromCharCode(201);break;case"I":b=String.fromCharCode(205);break;case"O":b=String.fromCharCode(211);break;case"U":b=String.fromCharCode(218);break;case"N":b=String.fromCharCode(209)}return b}function Row(fields,asColumns){function setOptions(a){
return options=a,this}function setData(a){return data=a,this}function setProfile(a){return profile=a,this}function getFieldHTML(obj){var html="",value="";try{value="undefined"!=typeof eval(obj.attr.value)?eval(obj.attr.value):"undefined"!=typeof obj.attr.onNewValue?obj.attr.onNewValue:""}catch(err){value="undefined"!=typeof obj.attr.onNewValue?obj.attr.onNewValue:""}var fieldStyle="";"undefined"!=typeof obj.attr.style&&obj.attr.style&&(fieldStyle=obj.attr.style);var type="",id="",cls="",req="",name="",selected="",extraId="";switch(obj.attr.type){case"text":req=obj.required?'<span class="required" data-bound-to="'+obj.attr.name+'">*</label>':"",type=obj.attr.type?' type="'+obj.attr.type+'"':"",id=obj.attr.id?' id="'+obj.attr.id+'"':"",name="",name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",cls=obj.attr.cssClass?' class="gigya-input-text '+obj.attr.cssClass+'"':' class="gigya-input-text"';var placeholder=obj.attr.placeholder?' placeholder="'+obj.attr.placeholder+'"':"";if(value=value?' value="'+value+'"':"",html='<div class="gigya-composite-control gigya-composite-control-textbox" style="display: block; '+fieldStyle+'">',$.trim(obj.displayText)){var textStyle="";"undefined"!=typeof fieldStyle&&fieldStyle&&(textStyle='style="'+fieldStyle+'"'),html+='<label class="gigya-label">'+obj.displayText+":"+req+"</label>"}html+="<input"+type+id+cls+name+placeholder+value+'><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div>';break;case"hidden":type=obj.attr.type?' type="'+obj.attr.type+'"':"",id=obj.attr.id?' id="'+obj.attr.id+'"':"",name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",value=value?' value="'+value+'"':"",html="<input"+type+id+name+value+">";break;case"checkbox":req=obj.required?'<label class="required" data-bound-to="'+obj.attr.name+'">*</label>':"",type=obj.attr.type?' type="'+obj.attr.type+'"':"",id=obj.attr.id?' id="'+obj.attr.id+'"':"",extraId=obj.attr.extraId?' id="'+obj.attr.extraId+'"':"",name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",cls=obj.attr.cssClass?' class="gigya-input-checkbox '+obj.attr.cssClass+'"':' class="gigya-input-checkbox"',value="true"===value||value===!0?' checked="checked"':"";var checkBoxStyle="";"undefined"!=typeof fieldStyle&&fieldStyle&&(checkBoxStyle='style="'+fieldStyle+'"'),html='<div class="gigya-composite-control gigya-composite-control-checkbox"><label class="gigya-label vocuser-custominputwrap" '+extraId+"><input"+type+id+cls+name+value+'><span class="vocuser-custominput-checkbox"></span><span class="gigya-label-checkbox vocuser-custominput-text" '+checkBoxStyle+">"+obj.displayText+"</span>"+req+'</label><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div>';break;case"label":var labelStyle="";if("undefined"!=typeof fieldStyle&&fieldStyle&&(labelStyle='style="'+fieldStyle+'"'),obj.attr.isPElement){html="<p>"+obj.displayText+"</p>";break}html='<div class="gigya-composite-control gigya-composite-control-label" '+labelStyle+"><label>"+obj.displayText+"</label></div>";break;case"textbox":name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",req=obj.required?' data-required="true" ':" ",html='<div class="gigya-composite-control gigya-composite-control-textbox form-group"><input type="text" data-gigya-placeholder="'+obj.displayText+'" class="gigya-input-text form-control" data-display-name="'+obj.displayText+'" '+name+" "+req+'  placeholder="'+obj.displayText+'  *"><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div></div>';break;case"textboxPrf":req=obj.required?' data-required="true" ':" ",html="<label>"+obj.displayText+'</label><input class="gigya-input-text" name="'+obj.attr.name+'" data-display-name="" type="text" placeholder="'+obj.displayText+'" '+req+'><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span>';break;case"select":name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",req=obj.required?' data-required="true" ':" ",html='<div class="gigya-composite-control gigya-composite-control-dropdown form-group">',html+='<select data-gigya-placeholder="'+obj.attr.placeholder+' " class="gigya-input-text form-control" data-display-name="'+obj.attr.placeholder+'" '+name+" "+req+">",$.each(obj.attr.options,function(a,b){a===obj.attr.value?(selected='data-gigya-placeholder="'+obj.attr.placeholder+'" disabled selected="selected" ',a+=" *"):selected="",html+='<option value="'+b+'" '+selected+">"+a+"</option>"}),html+="</select>",html+='<span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div>'}return html}function getColumnHTML(a){var b="";return $.each(a,function(a,c){var d=c.columnId?' id="'+c.columnId+'"':"",e=c.columnClass?' class="gigya-layout-cell '+c.columnClass+'"':' class="gigya-layout-cell"',f=c.columnStyle?' style="'+c.columnStyle+'"':"";b+="<div"+d+e+f+">"+getFieldHTML(c)+"</div>"}),b+='<div class="gigya-clear"></div>'}function getHTML(){if(asColumns)return getColumnHTML(fields);var a="";return $.each(fields,function(b,c){a+=getFieldHTML(c)}),a}function getRowFields(){var a=!1,b=[];return $.each(fields,function(a,c){b[b.length]=c.attr.name}),"undefined"!=typeof b&&b&&b.length&&(a=b),a}function changeDisplayText(a){return fields.field.displayText&&a&&(fields.field.displayText=a),this}function modifyAttr(a,b){return fields.field.attr.hasOwnProperty(a)&&b&&(fields.field.attr[a]=b),this}var options={},data={},profile={},default_obj={inSchema:!0,displayText:"",required:!1,attr:{type:"",name:"",id:"",extraId:"",isPElement:"",cssClass:"",placeholder:"",value:"",onNewValue:""}};return"undefined"!=typeof fields&&fields&&"undefined"!=typeof fields.field&&fields.field&&(fields.field=$.extend(!0,{},default_obj,fields.field)),{html:function(){return getHTML()},getRowFields:function(){return getRowFields()},setOptions:setOptions,setData:setData,setProfile:setProfile,changeDisplayText:changeDisplayText,modifyAttr:modifyAttr}}function insertCustomFields(){function a(a){return k=a,this}function b(a){return l=a,this}function c(a,b){var c="";switch(b){case"registrationEnterpriseRss":case"registrationEnterprisePositionRss":c=a;break;default:c='<div class="gigya-layout-row" data-vocento-row-key="'+b+'">'+a+"</div>"}return c}function d(a){var b=!1;return"undefined"!=typeof a&&a&&a.length&&(b=!0),b}function e(a){var b=!1;return"undefined"!=typeof a&&a&&(b=!0),b}function f(a,b){$.each(l.fieldsGroup[b.group],function(f,g){var h=!1,i=!1,j=l.fields[g];j.setOptions(k);var m=c(j.html(),g),n="",o="",p="";if(e(b.elementId)&&!1===i&&(o=b.elementId,p="#"+o,n=$("#"+a).find("div"+p),d(n)===!1&&(n=$(p)),d(n)?(n.append(m),n.find("input[placeholder]:visible").placeholder(),i=!0):(p="#"+o,n=$("#"+a).find("div"+p),d(n)===!1?n=$(p):(p='div [name="'+o+'"]',n=$(p)),d(n)&&(n.append(m),i=!0))),(e(b.beforeField)||e(b.afterField))&&!1===i){if(o=e(b.beforeField)?b.beforeField:b.afterField,p=' form div input[name="'+o+'"]',n=$("div#"+a+p).parents(".gigya-layout-row:first"),d(n)===!1&&(n=$("div#"+a+p).parents(".gigya-layout-row:first")),d(n))h=!0;else if(p="div#"+a+' form [name="'+o+'"]',n=$(p),d(n)===!1&&(n=$(p)),d(n)){var q="";if("gigya-complete-registration-screen"===a)q=n.parents("div.gigya-composite-control.gigya-composite-control-textbox.form-group"),d(q)&&(h=!0,n=q);else if(q=n.parents(".gigya-layout-row:first"),d(q))h=!0,n=q;else{var r=n.parents(".gigya-layout-cell:first");d(r)?(h=!0,n=r):h=!0}}!0===h&&(e(b.beforeField)?n.before(m):n.after(m),i=!0)}e(b.lastRow)&&!0===b.lastRow&&!1===i&&(o=b.lastRow,p=" .gigya-layout-row:last",n=$("#"+a+p),d(n)===!1&&(n=$(p)),d(n)?(n.after(m),i=!0):(p=" div.gigya-layout-row:last",n=$("form."+a+p),d(n)===!1&&(n=$(p)),d(n)&&(n.append(m),i=!0)))})}function g(a){if("undefined"!=typeof l&&l&&"undefined"!=typeof l.screens&&l.screens&&"undefined"!=typeof a&&a&&"undefined"!=typeof l.screens[a])for(var b in l.screens[a])if(l.screens[a].hasOwnProperty(b)){var c=l.screens[a][b];f(a,c)}return this}function h(){return $("div[data-vocento-row-key]").remove(),this}function i(){return $("form:visible [vocento-name]")}function j(a){$.each(a,function(a,b){var c=$('form:visible [vocento-name="'+a+'"]');c.is("input:checkbox")&&c.attr("checked",b),c.val(b)})}var k={},l={fields:{},fieldsGroup:{},externalFieldsSection:{},screens:{}};return{setOptions:a,setManifest:b,getHTML:g,removeHTML:h,getExternalFieldsNames:i,setExternalFields:j}}function translateError(a){var b="";switch(a.errorCode){default:b=a.errorMessage}return b}function customValidation(){function a(a){return z=a,this}function b(a){return A=a,this}function c(a){return B=a,this}function d(a){return C=$.extend(!0,C,a),this}function e(a){return"undefined"!=typeof UnicodeToChar&&UnicodeToChar?UnicodeToChar(a):Vocento.UnicodeToChar(a)}function f(a){var b=!0,c=null;if("undefined"!=typeof a)try{c=grecaptcha.getResponse(a)}catch(d){c=$("#g-recaptcha-response").val()}if("undefined"!=typeof c&&c){var e=z.authServer+"/validate/captcha?captchaResponse="+c;try{var f=new XMLHttpRequest;if("withCredentials"in f?f.open("GET",e,!1):"undefined"!=typeof XDomainRequest?(f=new XDomainRequest,f.open("GET",e,!1)):f=null,!f)return;f.send(null),'{"success":true}'===JSON.parse(f.responseText)&&(b=!0)}catch(g){}}return b}function g(a,b){var c=!0;return"string"==typeof a&&(a="form."+a+":visible"),$(a).find("input:visible[name], input:visible[vocento-name], select:visible[name], select:visible[vocento-name], textarea:visible[name], textarea:visible[vocento-name]").each(function(a,b){c=h($(b))&&c}),"undefined"!=typeof b&&!0===c&&!0!==f(b)?(c=!1,"undefined"!=typeof b&&grecaptcha.reset(b),$("#vocento-error-captcha-msg").show(),$("#vocento-error-captcha-msg").html("<p>El valor del captcha es incorrecto</p>"),$("#vocento-error-captcha-msg").addClass("gigya-error-msg gigya-error-msg-active"),c):c}function h(a){var b=!0,c="undefined"!=typeof $(a).attr("name")&&$(a).attr("name")?$(a).attr("name"):$(a).attr("vocento-name");return"undefined"!=typeof c&&"function"==typeof C[c]&&(b=C[c]($(a),$('[data-bound-to="'+c+'"].gigya-error-msg'))),"undefined"!=typeof c&&"object"==typeof C[c]&&(b=C[c].validationName($(a),$('[data-bound-to="'+c+'"].gigya-error-msg'),C[c].validationParams)),b}function i(a,b,c){if("undefined"!=typeof a&&a){var d=$(a),e="";if("undefined"!=typeof d&&d&&d.length){e=d.attr("data-display-name")||"",c=c||"El campo %name% no es v&aacute;lido";var f=d.parents("form:visible").find("input[type=submit]");if("undefined"==typeof f.data("originalValue")&&f.data("originalValue",f.val()),f.val("Corrige los errores"),"undefined"!=typeof d.offset&&d.offset()&&"undefined"!=typeof d.offset().top){var g=$("#header"),h=0;"undefined"!=typeof g.offset&&g.offset()&&"undefined"!=typeof g.offset().top&&(h=g.offset().top),$("html, body").animate({scrollTop:d.offset().top-h-1},200)}d.addClass("gigya-error")}"undefined"!=typeof b&&b&&($(b).addClass("gigya-error-msg gigya-error-msg-active"),$(b).html(c.replace("%name%",e)),$(b).show())}return!1}function j(a,b){$(a).removeClass("gigya-error"),$(a).removeClass("gigya-error-msg gigya-error-msg-active"),$(b).html("").hide();var c=$(a).parents("form").find("input[type=submit]"),d=c.data("originalValue");return"undefined"!=typeof d&&d&&c.val(c.data("originalValue")),!0}function k(a,b){return"checkbox"===$(a).attr("type")?$(a).is(":checked")?j(a,b):i(a,b,"El campo %name% es obligatorio"):"undefined"!=typeof $.trim($(a).val())&&$.trim($(a).val())?j(a,b):i(a,b,"El campo %name% es obligatorio")}function l(a,b,c,d,e){var f="undefined"!=typeof e?e:"El campo %name% no es correcto",g=/^\d{5}$/,h=c;"string"==typeof c&&(c=new RegExp(c));var k=$(a).val();return"undefined"!=typeof d&&d&&(k=d),"undefined"!=typeof k.match(c)&&k.match(c)?j(a,b):h.toString()===g.toString()?i(a,b,f):i(a,b,f)}function m(a){var b=["ESPA"+e("N")+"A","ESPANYA","SPAIN","ESP","ES"],c=$(a).parents("form:visible"),d=$(c).find('[name="profile.country"]').val();if("undefined"==typeof d)return!1;var f=b.indexOf(d.toUpperCase());return-1===f?!1:!0}function n(a){return""!==$.trim($(a).val())}function o(a,b){var c="El campo %name% no es correcto, debes introducir 5 d"+e("i")+"gitos";return m(a)?k(a,b)&&l(a,b,/^\d{5}$/,!1,c):k(a,b)}function p(a,b){var c=a.val(),d=a.parents("form:visible"),e=$(d).find('[name="profile.birthMonth"]').val(),f=$(d).find('[name="profile.birthDay"]').val();if(!f||!e||!c)return i(a,b,"La fecha de nacimiento es obligatoria");var g=new Date(c,e-1,f);return g&&g.getFullYear()!==Number(c)||g.getMonth()!==Number(e)-1||g.getDate()!==Number(f)?i(a,b,"La fecha no es v&aacute;lida"):j(a,b)}function q(a,b){return m(a)&&n(a)?l(a,b,/^(8|9)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function r(a,b){return n(a)?l(a,b,/^(8|9)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function s(a,b){return m(a)&&n(a)?l(a,b,/^(6|7)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function t(a,b){return n(a)?l(a,b,/^(6|7)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function u(a,b){var c=function(){var a="TRWAGMYFPDXBNJZSQVHLCKET",b="^\\d{8}[a-zA-Z]{1}$",c="^[a-zA-Z]{1}\\d{7}[a-jA-J0-9]{1}$";return checkAll=function(a){return checkCIF(a)?!0:checkTR(a)?!0:checkNIF(a)?!0:!1},checkNIF=function(c){if(8!==c.length&&9!==c.length)return!1;8===c.length&&(c="0"+c);var d=new RegExp(b);if(!c.match(d))return!1;var e=c.substring(0,c.length-1),f=a.charAt(e%23);return f===c.charAt(c.length-1).toUpperCase()},checkTR=function(a){if(10!==a.length&&9!==a.length)return!1;if("X"!==a.charAt(0).toUpperCase()&&"Y"!==a.charAt(0).toUpperCase()&&"Z"!==a.charAt(0).toUpperCase())return!1;var b="0";return"Y"===a.charAt(0).toUpperCase()&&(b="1"),9===a.length?checkNIF(b+a.substring(1,a.length)):checkNIF(a.substring(1,a.length))},checkCIF=function(a){var b,d=new Array(0,2,4,6,8,1,3,5,7,9),e=a.toUpperCase(),f=0,g=new RegExp(c);if(!e.match(g))return!1;if(!/^[ABCDEFGHJKLMNPRQSUVW]/.test(e))return!1;for(var h=2;6>=h;h+=2)f+=d[parseInt(a.substr(h-1,1))],f+=parseInt(a.substr(h,1));return f+=d[parseInt(a.substr(7,1))],f=10-f%10,10===f&&(f=0),b=a.toUpperCase().charAt(8),b===f||1===f&&"A"===b||2===f&&"B"===b||3===f&&"C"===b||4===f&&"D"===b||5===f&&"E"===b||6===f&&"F"===b||7===f&&"G"===b||8===f&&"H"===b||9===f&&"I"===b||0===f&&"J"===b},{checkAll:checkAll}}();return n(a)&&!c.checkAll($(a).val())?i(a,b):j(a,b)}function v(a,b){var c=function(){var a="TRWAGMYFPDXBNJZSQVHLCKET",b="^\\d{8}[a-zA-Z]{1}$",c="^[a-zA-Z]{1}\\d{7}[a-jA-J0-9]{1}$";return checkAll=function(a){return checkCIF(a)?!0:checkTR(a)?!0:checkNIF(a)?!0:!1},checkNIF=function(c){if(8!==c.length&&9!==c.length)return!1;8===c.length&&(c="0"+c);var d=new RegExp(b);if(!c.match(d))return!1;var e=c.substring(0,c.length-1),f=a.charAt(e%23);return f===c.charAt(c.length-1).toUpperCase()},checkTR=function(a){if(10!==a.length&&9!==a.length)return!1;if("X"!==a.charAt(0).toUpperCase()&&"Y"!==a.charAt(0).toUpperCase()&&"Z"!==a.charAt(0).toUpperCase())return!1;var b="0";return"Y"===a.charAt(0).toUpperCase()&&(b="1"),9===a.length?checkNIF(b+a.substring(1,a.length)):checkNIF(a.substring(1,a.length))},checkCIF=function(a){var b,d=new Array(0,2,4,6,8,1,3,5,7,9),e=a.toUpperCase(),f=0,g=new RegExp(c);if(!e.match(g))return!1;if(!/^[ABCDEFGHJKLMNPRQSUVW]/.test(e))return!1;for(var h=2;6>=h;h+=2)f+=d[parseInt(a.substr(h-1,1))],f+=parseInt(a.substr(h,1));return f+=d[parseInt(a.substr(7,1))],f=10-f%10,10===f&&(f=0),b=a.toUpperCase().charAt(8),b===f||1===f&&"A"===b||2===f&&"B"===b||3===f&&"C"===b||4===f&&"D"===b||5===f&&"E"===b||6===f&&"F"===b||7===f&&"G"===b||8===f&&"H"===b||9===f&&"I"===b||0===f&&"J"===b},{checkAll:checkAll}}();return m(a)&&n(a)&&!c.checkAll($(a).val())?i(a,b):j(a,b)}function w(a,b){return n(a)?l(a,b,/^[0-9]+$/,$(a).val().replace(/(\(|\)|-| )/g,""),"El campo %name% no es correcto, debes introducir solamente d"+e("i")+"gitos"):j(a,b)}function x(a,b,c){if(n(a)&&"undefined"!=typeof c&&c){var d="^.{1,"+c+"}$";return l(a,b,d,!1,"El campo %name% no es correcto, debes introducir como m"+e("a")+"ximo "+c+" caracteres")}return j(a,b)}function y(a,b,c){if(n(a)&&"undefined"!=typeof c&&c){var d="^.{"+c+",}$";return l(a,b,d,!1,"El campo %name% no es correcto, debes introducir como m"+e("i")+"nimo "+c+" caracteres")}return j(a,b)}var z={},A={},B={},C={};return{setOptions:a,setUser:b,setAccount:c,setFields:d,validateForm:g,validateField:h,addField:function(a,b){C[a]=b},showError:function(a,b,c){i(a,b,c)},hideError:function(a,b){j(a,b)},_validateCaptcha:f,_requiredField:k,_regexField:l,_isSpain:m,_hasValue:n,_isZip:o,_isBirthDate:p,_isSpanishPhone:q,_isSpanishMobilePhone:s,_isValidMobilePhone:t,_isSpanishNIF:v,_isValidNIF:u,_isValidPhone:r,_isNumber:w,_maxLength:x,_minLength:y}}function safeInvoke(a,b){if(a)return a(b);var c='safeInvoke => Método: "'+a+'" no encontrado. Parámetros: "'+b+'"';return"undefined"!=typeof options&&options&&"undefined"!=typeof options.debug&&options.debug,c}function getContext(){var a=new Date,b=Math.floor(a.getTime()/1e3);return{url:window.location.href,timestamp:b}}function reload(){document.location.reload()}function getMainDomain(){var a=document.domain.split(".");return a.length>=2&&(a=a[a.length-2]+"."+a[a.length-1]),a}function webBrowserDetector(){var a="",b=navigator.userAgent,c="",d=b.match(/(opera|chrome|safari|firefox|msie|mobile|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(d[1]))c=/\brv[ :]+(\d+)/g.exec(b)||[],a="IE "+(c[1]||"");else{if("Chrome"===d[1]&&(c=b.match(/\bOPR\/(\d+)/),null!==c))return"Opera "+c[1];d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(c=b.match(/version\/(\d+)/i))&&d.splice(1,1,c[1]),a=d.join(" ")}return a}function emailDomainBanned(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=b+"/api/v1/emailDomainBanned";try{$.ajax({url:d+"?callback=?",data:{email:a},type:"get",contentType:"application/json",dataType:"jsonp",async:!1,success:function(a){"undefined"!=typeof a&&a&&!0===a.result&&(c=!0)},error:function(a,b,d){c=!1}})}catch(e){}}return c}var version="4.0.0",className=getClassName(),objectRow=function(){},objectCustomValidation=function(){},objectInsertCustomFields=function(){};return initUserUtils(),function(a){function b(a,b){for(var c=a.split("."),d=b.split("."),e=0;e<c.length;++e){var f=parseInt(c[e]),g=parseInt(d[e]);if(d.length===e)return-1;if(f!==g)return f>g?-1:1}return c.length!==d.length?1:0}var c=a().jquery;b("1.7",c)<0&&(a.fn.on||(jQuery.fn.on=function(b,c,d,e){if(null===d&&null===e?(e=c,d=c=void 0):null===e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=function(){return!1};else if(!e)return this;return a(this).bind(b,d,e)}))}(jQuery),function(a){var b="placeholder"in document.createElement("input"),c=window.opera&&parseFloat(window.opera.version())<10.5;a.fn.placeholder=function(d){var e=a.extend({},a.fn.placeholder.defaults,d),f=e.placeholderCSS.left;return b?this:this.each(function(){var b=a(this),d=a.trim(b.val()),g=b.width(),h=b.height(),i=this.id?this.id:"placeholder"+Math.floor(1123456789*Math.random()),j=b.attr("placeholder"),k=a("<label for="+i+">"+j+"</label>");e.placeholderCSS.width=g,e.placeholderCSS.height=h,e.placeholderCSS.color=e.placeholderCSS.color,e.placeholderCSS.left=!c||"email"!==this.type&&"url"!==this.type?f:"11%",k.css(e.placeholderCSS),b.wrap(e.inputWrapper),b.attr("id",i).after(k),d&&k.hide(),b.focus(function(){a.trim(b.val())||k.hide()}),b.blur(function(){a.trim(b.val())||k.show()})})},a.fn.placeholder.defaults={inputWrapper:'<span class="placeholder_emulate" style="position:relative; display:block;"></span>',placeholderCSS:{color:"#aaaaaa",position:"absolute",left:"5px",top:"3px","overflow-x":"hidden",display:"block"}}}(jQuery),{version:function(){return version},initUserUtils:initUserUtils,log:log,UnicodeToChar:UnicodeToChar,translateError:translateError,safeInvoke:safeInvoke,getContext:getContext,reload:reload,getMainDomain:getMainDomain,webBrowserDetector:webBrowserDetector,emailDomainBanned:emailDomainBanned,Row:objectRow,customValidation:objectCustomValidation,insertCustomFields:objectInsertCustomFields,className:function(){return className}}}}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.gigya",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function vocuser($,ssoGroup,service,externalOptions,userUtils,voontoApp,externalDependencies,externalFunctions){function getClassName(){return"vocuser"}function initSubDomainEnvFront(a){var b="www";if("undefined"!==a&&a){"pro"===a&&(b="www"),"pre"===a&&(b="pren"),"des"===a&&(b="desn");var c=window.location.host;if(/^des-/.test(c)&&(b="des-www"),/^pre-/.test(c)&&(b="pre-www"),/^new-/.test(c)&&(b="new-www"),!0===options.enableHttps&&("pro"===a&&(b="secure"),"pre"===a&&(b="pre-secure"),"des"===a&&(b="des-secure"),/^www-/.test(c)&&(b="secure"),/^new-/.test(c)&&(b="secure"),/^pre-/.test(c)&&(b="pre-secure"),/^des-/.test(c)&&(b="des-secure")),"local"===a){var d=c.split(".");b=d[0]}}return b}function initCurrentEnv(){var a="pro";return(/^des/.test(window.location.host)||/^integracion/.test(window.location.host)||/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host)||/^docker/.test(window.location.host))&&(a="des"),(/^pre/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host))&&(a="pre"),(/^pro/.test(window.location.host)||/^secure/.test(window.location.host)||/^new/.test(window.location.host)||/^www/.test(window.location.host))&&(a="pro"),(/^local/.test(window.location.host)||/^userplayground-miguelromero2000/.test(window.location.host)||/^desnlocal/.test(window.location.host)||/^deshared/.test(window.location.host)||/^desn-user/.test(window.location.host)||/^des-vocuser/.test(window.location.host))&&(a="local"),a}function initUserUtils(a){var b="undefined"!=typeof a&&a?a:Vocento;return b}function initSimpleStorage(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.simpleStorage&&a.simpleStorage?b=a.simpleStorage:"undefined"!=typeof simpleStorage&&simpleStorage&&(b=simpleStorage),b}function getSimpleStorageDependency(){var a={};return"undefined"!=typeof simpleStorageDependency&&simpleStorageDependency?a=simpleStorageDependency:(a.get=function(){log("initSimpleStorage => get() => No se ha podido cargar la librería simpleStorage","warn")},a.set=function(){log("initSimpleStorage => set() => No se ha podido cargar la librería simpleStorage","warn")},a.deleteKey=function(){log("initSimpleStorage => deleteKey() => No se ha podido cargar la librería simpleStorage","warn")}),a}function promiseWithTimeout(a,b){var c=!1;if("undefined"!=typeof a&&a){var d="undefined"!=typeof b&&b?b:3e3,e=null,f=new promiseNamespace(function(a,b){e=setTimeout(function(){clearTimeout(e),b("Timed out in "+d+" ms.")},d)}),g=promiseNamespace.race([a,f]);g.then(function(a){return clearTimeout(e),a}),c=g}return c}function initPromiseNamespace(){var a=window.Promise?window.Promise:window.RSVP?window.RSVP.Promise:window.ES6Promise?window.ES6Promise:function(a){};return"undefined"!=typeof a&&a||log("VocUser::initPromiseNamespace => ERROR obteniendo el namespace de JS de Promise.","error"),a}function initReactFramework(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.R&&a.R&&(b=a.R),"undefined"!=typeof b&&b&&"function"!=typeof b||"undefined"!=typeof React&&React&&(b=React),b}function initReactDOMFramework(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.RDOM&&a.RDOM&&(b=a.RDOM),"undefined"!=typeof b&&b&&"function"!=typeof b||"undefined"!=typeof ReactDOM&&ReactDOM&&(b=ReactDOM),b}function reactLoaded(){var a=!1;return"undefined"!=typeof reactFw&&reactFw&&"undefined"!=typeof reactDOM&&reactDOM&&(a=!0),a}function getOptions(){var a=window.location.protocol,b="",c="",d="",e="www",f="",g="",h=window.location.host,i=h.split("."),j=(i[0],"pro"),k=a+"//postalcodes.vocento.com/pcodes/v1/get",l="voccore.";checkUserFlowUrlsContains("sevilla",window.location.href)&&(l="voccore-sevilla.");domains[ssoGroup].split(".");b="https://auth."+domains[ssoGroup];var m="",n="";g="https://"+m+n+l,f=g+domains[ssoGroup],(/^des/.test(window.location.host)||/^integracion/.test(window.location.host)||/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host)||/^docker/.test(window.location.host)||/^userplayground-miguelromero2000/.test(window.location.host))&&(b=a+"//pre-auth."+domains[ssoGroup],c="des-",d="des-",m="des",n="-","https:"===window.location.protocol&&(b=a+"//pre-auth."+domains[ssoGroup]),l="voccore-",checkUserFlowUrlsContains("sevilla",window.location.href)&&(l="voccore-sevilla."),l="voccore.",checkUserFlowUrlsContains("sevilla",window.location.href)&&(l="voccore-sevilla."),g="https://"+m+n+l,f=g+domains[ssoGroup]),(/^pre/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host))&&(b=a+"//pre-auth."+domains[ssoGroup],c="pre-",d="pre-",m="pre",n="-","https:"===window.location.protocol&&(b=a+"//pre-auth."+domains[ssoGroup]),l="voccore-",checkUserFlowUrlsContains("sevilla",window.location.href)&&(l="voccore-sevilla."),l="voccore.",checkUserFlowUrlsContains("sevilla",window.location.href)&&(l="voccore-sevilla."),g="https://"+m+n+l,f=g+domains[ssoGroup]),(/^local/.test(window.location.host)||/^desnlocal/.test(window.location.host)||/^deshared/.test(window.location.host)||/^desn-user/.test(window.location.host)||/^des-vocuser/.test(window.location.host))&&(b=a+"//pre-auth."+domains[ssoGroup],c="des-",d="des-",m="pre",n="-","https:"===window.location.protocol&&(b=a+"//pre-auth."+domains[ssoGroup]),l="voccore.",checkUserFlowUrlsContains("sevilla",window.location.href)&&(l="voccore-sevilla."),g="https://"+m+n+l,f=g+domains[ssoGroup]),j=initCurrentEnv(),e=initSubDomainEnvFront(j);var o="/personalizacion/perfil/perfil.html",p="/personalizacion/perfil/intereses.html",q="/personalizacion/perfil/cambiar-clave.html",r="/personalizacion/perfil/actualizado.html";return-1===window.location.host.indexOf("abc")&&-1===window.location.host.indexOf("lavozdigital")&&(o="/perfil/perfil.html",p="/perfil/intereses.html",q="/perfil/cambiar-clave.html",r="/perfil/actualizado.html"),{currentRoute:!1,cid:ssoGroup,ssoGroup:ssoGroup,service:service,authServer:b,envVoccore:d,envFront:e,authServerVocCore:f,authServerVocCoreSubDomain:g,currentEnvironment:j,debug:!1,hasPaywall:!1,hasEcommerce:!1,hasGlobalSSO:!1,autoVerifyUser:!1,loginOnVerify:!1,reloadOnLogin:!0,reloadOnLogout:!0,captcha:{isVisible:!1,loginAttemps:2},domains:domains,enableCNAME:!1,addPictureInLoginScreen:!1,addSubmenuOptionMusiK:!0,addSubmenuOptionLaButaca:!0,addSubmenuOptionDinero:!0,addSubmenuOptionTerritorio:!0,addSubmenuOptionEvasion:!1,forceProvidersLogout:!1,enabledProviders:"facebook,google",requiredCapabilities:"login",loggedInSelector:".gigya-logged-in",loggedOutSelector:".gigya-logged-out",loginLinkSelector:".gigya-login-link",registrationLinkSelector:".gigya-registration-link",recoveryLinkSelector:".gigya-recovery-link",backLinkSelector:".gigya-back-link",profileLinkSelector:".gigya-profile-link",profileAreaPersonalLinkSelector:".vocuser-profile-areapersonal-link",profileInterestsLinkSelector:".gigya-profile-interests-link",profileChangePasswdLinkSelector:".gigya-profile-change-passwd-link",loginAdditionalDataLinkSelector:".gigya-additional-data-link",logoutLinkSelector:".gigya-logout-link",idDivHtmlCustomBenefits:"collapseExample",addConnectionsID:"gigya-add-connections",userThumbnailSelector:".gigya-user-thumbnail",userFirstNameSelector:".gigya-user-first-name",userLastNameSelector:".gigya-user-last-name",userEmailSelector:".gigya-user-email",url_creacion_mongo:"https://"+c+"voccore."+domains[ssoGroup]+"/v1/datastore/new",url_busqueda_mongo:"https://"+c+"voccore."+domains[ssoGroup]+"/v1/datastore/find",url_edicion_mongo:"https://"+c+"voccore."+domains[ssoGroup]+"/v1/datastore/edit",sectionsWithExternalFields:[],screenSet:{web:{auth:"",profile:""},mobile:{auth:"",profile:""}},screenName:{login:"gigya-login-screen",registration:"gigya-register-screen",formulario:"gigya-register-screen",profile:"gigya-update-profile-screen",completeRegistration:"gigya-complete-registration-screen",completo:"gigya-complete-registration-screen",interests:"gigya-update-profile-screen-3",change:"gigya-change-password-screen",updated:"gigya-update-thanks-screen"},parentDivClass:"",hasMenuOptionNewsletters:!1,setUserNewslettersByFieldAdsMedia:!1,saveGigyaCommunications:!1,updateSelligentCommunications:!1,saveGigyaCustomerServices:!0,progressiveProfile:!1,saveGigyaCustomerServiceFromComments:!1,serviceId:"100",device:"Sin especificar",platform:"Sin especificar",serviceReference:"",backURL:"/",page:{loginPage:"/login/login.html",loginAdditionalDataPage:"/login/datos-adicionales.html",registerPage:"/registro/formulario.html",registerConfirmedPage:"/registro/confirmacion.html",resendMailPage:"/registro/reenviar-mail.html",mailSendedPage:"/registro/mail-enviado.html",validateMailPage:"/registro/validacion-mail.html",recoveryPage:"/clave/recuperar.html",sendedMailPage:"/clave/mail-enviado.html",changePasswdPage:"/clave/cambiar.html",passwdchangedPage:"/clave/cambiada.html",profilePage:"/perfil/perfil.html",interestPage:"/perfil/intereses.html",changePasswdProfilePage:"/perfil/cambiar-clave.html",profileUpdatedPage:"/perfil/actualizado.html"},route:{loginURL:"/login/login.html",loginAdditionalDataURL:"/login/datos-adicionales.html",registerURL:"/registro/formulario.html",registerConfirmedURL:"/registro/confirmacion.html",resendMailURL:"/registro/reenviar-mail.html",mailSendedURL:"/registro/mail-enviado.html",validateMailURL:"/registro/validacion-mail.html",recoveryURL:"/clave/recuperar.html",sendedMailURL:"/clave/mail-enviado.html",changePasswdURL:"/clave/cambiar.html",passwdchangedURL:"/clave/cambiada.html",profileURL:o,interestURL:p,changePasswdProfileURL:q,profileUpdatedURL:r,personalAreaSuscriptionSectionURL:"/suscripcion/",personalAreaCheckoutSectionURL:"/checkout/"},popUpMode:!1,popUpModeProfile:!1,enableRedirect:!0,htmlBenefits:'<ul class="vocuser-listchecks"><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Podr&aacute;s participar en concursos, sorteos y promociones</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Disfrutar&aacute;s de ofertas exclusivas</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Estar&aacute;s siempre actualizado con las &uacute;ltimas noticias</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Recibir&aacute;s nuestras newsletters con contenido exclusivo en tu email</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Podr&aacute;s comentar las noticias y compartirlas</span></li></ul>',autosubscribeConfig:{},webComponents:!1,showAdditionalDataPage:!1,showGoldenRecords:!1,showAdsGroup:!1,showAdsThirdparty:!1,goldenRecordsFields:[],additionalDataCustomText:{title:"",description:"",footer:""},
interestsGroups:{},newslettersGroup:{},enableHttps:!1,userIsInFlow:!1,vocServicesPath:vocServicesPath,serviceCallToMediaDataTransfer:!1,hasMenuOptionsForAreaPersonal:!0,urlPostalCode:k,showAdditionalDataPageWithExtraRequirements:!1,redirectedFromQualifio:!1,allowEditGoldenRecords:!1,allowEditAdditionalUserInfo:!1,editableFields:["profile.lastName","data.secondLastName","data.nif","data.phone","data.phoneMobile","data.industry"]}}function updateAccountData(a){var b={};if("undefined"!=typeof a&&a){"undefined"!=typeof account.data&&account.data||(account.data={});for(var c in a)a.hasOwnProperty(c)&&(account.data[c]=a[c]);b=account.data}return b}function checkBackUrlCookieContains(a){var b=!1;if("undefined"!=typeof a&&a){var c=getNfrylCookie();"undefined"!=typeof c&&c&&c.indexOf(a)>-1&&(b=!0)}return b}function checkUserFlowUrlsContains(a,b){var c=!1;return"undefined"!=typeof a&&a&&("undefined"!=typeof b&&b&&b.indexOf(a)>-1&&(c=!0),!1===c&&(c=checkBackUrlCookieContains(a))),c}function registerFlow(a){if("undefined"!=typeof a&&a)if("undefined"!=typeof a.className){var b=a.className(),c=getAllFlowsNames(flows);isStringInArray(b,c)?log("La clase "+b+" ya está registrada","warn"):flows.push(a)}else flows.push(a);return this}function getAllFlowsNames(a){for(var b=[],c=0;c<a.length;c++)"undefined"!=typeof a&&a&&"undefined"!=typeof a[c].className()&&b.push(a[c].className());return b}function isStringInArray(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b)for(var d=0;d<b.length;d++)b[d]===a&&(c=!0);return c}function initOptions(){var a=0;for(a=0;a<flows.length;a++)options=$.extend(!0,options,flows[a].getOptions());options=$.extend(!0,options,externalOptions)}function initProtectedFunctions(){for(var a=0;a<flows.length;a++)"undefined"!=typeof flows[a].getProtectedFunctions&&(protectedFunctions=$.extend(!0,protectedFunctions,flows[a].getProtectedFunctions()));"undefined"!=typeof externalFunctions&&externalFunctions&&(protectedFunctions=$.extend(!0,protectedFunctions,externalFunctions))}function initCustomValidationPlugin(){var a=!1;if(userUtils.customValidation.setOptions){userUtils.customValidation.setOptions(options);for(var b=0;b<flows.length;b++)userUtils.customValidation.setFields(flows[b].getCustomValidationFields());a=!0}return a}function initFlows(){for(var a=!1,b=0;b<flows.length;b++)flows[b].setOptions(options),flows[b].setProtectedFunctions(protectedFunctions);return a=!0}function executeFlows(){for(var a=!1,b=0;b<flows.length;b++)flows[b].execute();return a}function openScreenByRoute(){for(var a in options.page){var b=options.page[a];-1!==window.location.pathname.indexOf(b)&&(options.currentRoute=!0,callToShowScreenFunction(a))}}function callToShowScreenFunction(a){switch(a){case"changePasswdPage":showScreen(options.screenName.resetear);break;case"changePasswdProfilePage":showScreen(options.screenName.cambiar,options.screenSet.web.profile,options.screenSet.mobile.profile);break;case"interestPage":showScreen(options.screenName.intereses,options.screenSet.web.profile,options.screenSet.mobile.profile);break;case"loginAdditionalDataPage":showAditionalDataScreen();break;case"loginPage":showScreen(options.screenName.login);break;case"mailSendedPage":showScreen(options.screenName.reenviado);break;case"passwdchangedPage":showScreen(options.screenName.cambiado);break;case"profilePage":showScreen(options.screenName.perfil,options.screenSet.web.profile,options.screenSet.mobile.profile);break;case"profileUpdatedPage":showScreen(options.screenName.actualizado,options.screenSet.web.profile,options.screenSet.mobile.profile);break;case"recoveryPage":showScreen(options.screenName.recuperar);break;case"registerConfirmedPage":showScreen(options.screenName.confirmacion);break;case"registerPage":showScreen(options.screenName.formulario);break;case"resendMailPage":showScreen(options.screenName.reenviar);break;case"sendedMailPage":showScreen(options.screenName.enviado);break;case"validateMailPage":var b=getQueryVariable("errorCode");"undefined"!=typeof b&&b?("0"===b&&showScreen(options.screenName.validacion),"403002"===b.substring(0,6)&&showScreen(options.screenName.expirado),"404000"===b.substring(0,6)&&showScreen(options.screenName.unexist),"400010"===b.substring(0,6)&&showScreen(options.screenName.reserved)):showScreen(options.screenName.validacion),"206005"===b.substring(0,6)&&showScreen(options.screenName.autologin)}}function getQueryVariable(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])===a)return decodeURIComponent(e[1])}}function addProtectedFunctionsToUnitTesting(){var a=!1;if("undefined"!=typeof objectUnitTesting&&objectUnitTesting){for(var b in protectedFunctions)protectedFunctions.hasOwnProperty(b)&&"undefined"!=typeof protectedFunctions[b]&&(objectUnitTesting[b]=protectedFunctions[b]);a=!0}return a}function addPublicFunctionsToUnitTesting(){var a=!1;if("undefined"!=typeof objectUnitTesting&&objectUnitTesting){for(var b in publicFunctions)publicFunctions.hasOwnProperty(b)&&"undefined"!=typeof publicFunctions[b]&&(objectUnitTesting[b]=publicFunctions[b]);a=!0}return a}function deleteUnitTesting(a){var b=!1;return("undefined"==typeof a||!a||"desn"!==a&&"des"!==a&&"desnlocal"!==a&&"local"!==a&&"desnlocal-vocuser"!==a)&&("undefined"!=typeof objectUnitTesting&&(objectUnitTesting=null),"undefined"!=typeof gigyaUX&&gigyaUX&&"undefined"!=typeof gigyaUX.objectUnitTesting&&gigyaUX.objectUnitTesting&&(gigyaUX.objectUnitTesting=null),b=!0),b}function mockupSetMenuStructure(){var a=!1,b=$(".voc-header-right.voc-affix-hidden");if(("undefined"==typeof b||!b||b.length<=0)&&(b=$(".voc-header-right")),("undefined"==typeof b||!b||b.length<=0)&&(b=$("#voc-header-right")),"undefined"!=typeof b&&b&&b.length){var c=$("div [data-voc-vocuser-menu]");("undefined"==typeof c||!c||c.length<=0)&&(b.html(""),b.append("<div data-voc-vocuser-button-onplus></div><div data-voc-vocuser-menu></div>")),a=!0}return a}function addCustomFieldsInScreen(a,b){if("undefined"!=typeof b&&b||(b=options),userUtils.insertCustomFields.setOptions(b),"undefined"!=typeof a||a)for(var c=0;c<flows.length;c++)userUtils.insertCustomFields.setManifest(flows[c].getInsertCustomField()),userUtils.insertCustomFields.getHTML(a)}function enableAdditionalData(a){var b=!0;return enableAdditionalDataPage=a?!0:!1,b}function isActivatedAdditionalData(){return enableAdditionalDataPage}function getEventAdditionalData(){return eventAdditionalData}function showAditionalDataScreen(){if(isActivatedAdditionalData()){var a=getEventAdditionalData();$.when(a).done(function(a){showScreen(options.screenName.additionalData)})}}function injectFieldsInCompleteRegistationScreen(a){var b=getManifestOfScreenNameFromFlows(a.screenName.completo);if(isActivatedAdditionalData()&&getInterestsActivationStatus())b=customizeInterestsFieldsInManifest(b);else if(b.fieldsGroup.hasOwnProperty("interestsFields")){var c=b.fieldsGroup.interestsFields;$.each(c,function(a,c){b.fields.hasOwnProperty(c)&&delete b.fields[c]}),delete b.fieldsGroup.interestsFields}isActivatedAdditionalData()&&getsNewslettersActivationStatus()&&(b=addNewslettersManifestInManifest(a.screenName.completo,b)),addCustomManifestInScreen(a.screenName.completo,a,b)}function injectFieldsInRegisterScreen(a,b){var c=getManifestOfScreenNameFromFlows(a);if(isActivatedAdditionalData()&&getInterestsActivationStatus())c=customizeInterestsFieldsInManifest(c);else if(c.fieldsGroup.hasOwnProperty("interestsFields")){var d=c.fieldsGroup.interestsFields;$.each(d,function(a,b){c.fields.hasOwnProperty(b)&&delete c.fields[b]}),delete c.fieldsGroup.interestsFields}isActivatedAdditionalData()&&getsNewslettersActivationStatus()&&(c=addNewslettersManifestInManifest(a,c)),addCustomManifestInScreen(a,b,c)}function addNewslettersManifestInManifest(a,b){var c=b,d=createNewslettersManifestFromCustomizeOptions();return d&&Object.keys(d).length>0&&($.each(d.fields,function(a,b){c.fields[a]=b}),d.fieldsGroup.hasOwnProperty("newslettersDataGroupFields")&&d.fieldsGroup.newslettersDataGroupFields.length>0&&(c.fieldsGroup.newslettersDataGroupFields=d.fieldsGroup.newslettersDataGroupFields),a&&""!==a&&d.screens.hasOwnProperty(a)&&(c.screens.hasOwnProperty(a)||(c.screens[a]=[]),c.screens[a].push(d.screens[a][0]))),c}function injectFieldsinScreensByScreenNameExceptAdditionalDataScreen(a){"undefined"!=typeof a&&a&&(a!==options.screenName.additionalData&&a!==options.screenName.formulario&&addCustomFieldsInScreen(a,options),a===options.screenName.formulario&&injectFieldsInRegisterScreen(a,options),(a===options.screenName.login||a===options.screenName.formulario)&&injectFieldsInCompleteRegistationScreen(options))}function objectHasProperties(a,b){for(var c=a,d=b.split("."),e=0;e<d.length;e++){if(!c.hasOwnProperty(d[e]))return!1;c=c[d[e]]}return!0}function getValueFromObjectProperties(a,b){for(var c=a,d=b.split("."),e=0;e<d.length;e++){if(!c.hasOwnProperty(d[e]))return!1;c=c[d[e]]}return"false"===c&&(c=!1),c}function fieldNameHasToBeRemovedFromManifest(a,b,c){var d=!1,e="";return a.fields.hasOwnProperty(c)&&(e=a.fields[c].getRowFields()[0],""!==e&&fieldHasToBeRemovedFromManifest(b,e)&&(d=!0)),d}function removeFieldsFromFieldsManifest(a,b,c){var d=!1,e="";return b.fields.hasOwnProperty(c)&&(e=b.fields[c].getRowFields()[0],""!==e&&fieldHasToBeRemovedFromManifest(a,e)&&(delete b.fields[c],d=!0)),d}function removeNewsletterFieldFromFieldsManifest(a,b){var c=!1,d="";return a.fields.hasOwnProperty(b)&&(d=a.fields[b].getRowFields()[0].replace("newsletter-",""),""!==d&&newslettersHasSuscription(d)&&(delete a.fields[b],c=!0)),c}function removeHiddenCountryFromHtml(){var a=$("#gigya-login-additional-data-screen").find("div#hiddenCountry");"undefined"!=typeof a&&a&&a.remove()}function removeFieldsFromGroupsManifest(a,b,c){var d=!1,e=a.fieldsGroup[b].indexOf(c);return e>=0&&a.fieldsGroup[b].splice(e,1),d}function getAdditionalManifest(){return 0===Object.keys(additionalManifest).length&&(additionalManifest=getAdditionalManifestFromFlows()),additionalManifest}function getInterestsCustomFieldsForCustomize(){return customInterestsFields}function getNewslettersCustomFieldsForCustomize(){return customNewsLettersFields}function getUserNewslettersList(){return userNewslettersList}function setUserNewslettersList(a){userNewslettersList=a}function getNewslettersListFromResponse(a){var b=[];return"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.newsletter&&a.data.newsletter&&a.data.newsletter.length>0&&(b=a.data.newsletter),b}function loadNewslettersListFromResponse(a){var b=!0;if(isActivatedAdditionalData()&&getsNewslettersActivationStatus()){var c=getNewslettersListFromResponse(a);setUserNewslettersList(c)}return b}function newsletterFieldNameHasToBeRemovedFromManifest(a,b){var c=!1,d="";return a.fields.hasOwnProperty(b)&&(d=a.fields[b].getRowFields()[0].replace("newsletter-",""),""!==d&&userHasSuscriptionToNewsletterCode(d)&&(c=!0)),c}function userHasSuscriptionToNewsletterCode(a){var b=!1;return a&&""!==a&&newslettersHasSuscription(a)&&(b=!0),b}function newslettersHasSuscription(a){var b=!1,c=getUserNewslettersList();return $.each(c,function(c,d){return d.ID===a&&"subscribe"===d.status?b=!0:void 0}),b}function prepareDataForAdditionalFilledMark(a){var b="undefined"!=typeof a.data&&a.data?a.data:{};if("undefined"!=typeof options.serviceReference&&""!==options.serviceReference){var c={};"undefined"!=typeof b&&b&&"undefined"!=typeof b.additionalDataFilled&&b.additionalDataFilled&&b.additionalDataFilled.length>0&&(c=b.additionalDataFilled),b.additionalDataFilled=protectedFunctions.setAdditionalDataStructure(c)}return b}function processInterestsOptions(a){var b=0,c="text",d="Selecciona los temas que te interesen:",e={controlTexts:{counterTexts:0,texts:[]},texts:[],interestsFields:[]};return a&&Object.keys(a).length>0?($.each(a,function(a,f){b>=1&&(c="text"+b,e.controlTexts.texts.push(c)),f.displayText&&""!==f.displayText?e.texts[c]=f.displayText:e.texts[c]=d,e.controlTexts.counterTexts++,f.interestsFields&&f.interestsFields.length>0&&(f.interestsFields.unshift(c),e.interestsFields.length>0&&(e.interestsFields=e.interestsFields.concat(f.interestsFields)),0===e.interestsFields.length&&(e.interestsFields=f.interestsFields)),b++}),void(customInterestsFields=e)):{}}function processNewslettersOptions(a){var b="Suscr&iacute;bete a nuestras newsletters:",c={displayText:"",newsletters:{}};a.hasOwnProperty("displayText")&&a.displayText&&""!==a.displayText?c.displayText=a.displayText:c.displayText=b,a&&a.hasOwnProperty("newsletters")&&Object.keys(a.newsletters).length>0&&$.each(a.newsletters,function(a,b){b.newsletterCode&&""!==b.newsletterCode&&b.newsletterLabel&&""!==b.newsletterLabel&&(c.newsletters[b.newsletterCode]=b.newsletterLabel)}),customNewsLettersFields=c}function modifyAndAddInterestsFieldsLabelInManifest(a,b){var c=a,d="";return c&&"object"==typeof c&&b.controlTexts.counterTexts>0&&(b.texts.hasOwnProperty("text")&&(d=b.texts.text,c.fields.text.changeDisplayText(d),c.fields.text.modifyAttr("isPElement",!0)),b.controlTexts.counterTexts>1&&b.controlTexts.texts.length>0&&$.each(b.controlTexts.texts,function(a,e){if(b.texts.hasOwnProperty(e)){d=b.texts[e];var f={};f.field={displayText:d,attr:{type:"label"}},c.fields[e]=new userUtils.Row(f),c.fields[e].modifyAttr("isPElement",!0)}})),c}function changeInterestsGroupsFieldInManifest(a,b){var c=a,d=[];return c&&"object"==typeof c&&b.controlTexts.counterTexts>0&&b.interestsFields.length>0&&(d=b.interestsFields,$.each(d,function(a,d){c.fields.hasOwnProperty(d)||b.interestsFields.splice(a,1)}),$.each(c.fieldsGroup,function(a,d){a.indexOf("interests")>=0&&($.each(b.interestsFields,function(a,b){c.fields.hasOwnProperty(b)&&c.fields[b].modifyAttr("extraId","check-column-interests")}),c.fieldsGroup[a]=b.interestsFields)})),c}function customizeInterestsFieldsInManifest(a){var b=a;if(isActivatedAdditionalData()&&getInterestsActivationStatus()){var c=getInterestsCustomFieldsForCustomize();b=modifyAndAddInterestsFieldsLabelInManifest(b,c),b=changeInterestsGroupsFieldInManifest(a,c)}return b}function createNewslettersManifestFromCustomizeOptions(){var a={},b={displayText:"Suscr&iacute;bete a nuestras newsletters",attr:{type:"label",isPElement:!0}},c={displayText:"",inSchema:!1,attr:{type:"checkbox",name:"",value:"false",extraId:"check-column-newsletters"}},d=[],e={},f={},g={},h={"gigya-register-screen":[{group:"newslettersDataGroupFields",elementId:"vocento-vocuser-newsletters-fields"}],"gigya-complete-registration-screen":[{group:"newslettersDataGroupFields",elementId:"vocento-vocuser-newsletters-fields"}],"gigya-login-additional-data-screen":[{group:"newslettersDataGroupFields",elementId:"vocento-vocuser-newsletters-fields"}]},i=getNewslettersCustomFieldsForCustomize(),j="newsletterField";if(i.displayText&&""!==i.displayText){var k="Label";b.displayText=i.displayText,f={},f.field=b,e[j+k]=new userUtils.Row(f)}if(!(i.newsletters&&Object.keys(i.newsletters).length>0))return a;var l=1;return $.each(i.newsletters,function(a,b){c.attr.name="newsletter-"+a,c.displayText=b,f={},f.field=c,e[j+l]=new userUtils.Row(f),l++}),f={},Object.keys(e).length>0&&$.each(e,function(a,b){f[a]=b,d.push(a)}),d.length>0&&(g.newslettersDataGroupFields=d),a.fields=f,a.fieldsGroup=g,a.screens=h,a}function calculateGroupsActivation(a,b){var c=[],d={},e="adsMedia",f=["hiddenCity","hiddenProvince","hiddenMunicipality"];return activatedByOptions(),additionalDataActivatedBy&&""!==additionalDataActivatedBy&&(c=additionalDataActivatedBy.split(",")),""===additionalDataActivatedBy?!1:($.each(b.fieldsGroup,function(g,h){var i={};if(g.indexOf("interests")>=0)return void(d[g]=!0);if(g.indexOf("golden")>=0)return i[g]=[],$.each(h,function(c,d){"firstName"!==d||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(b,a,d)&&i[g].push(d),"zip"!==d||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(b,a,d)&&(i[g].push(d),$.each(f,function(a,b){i[g].push(b)})),"zip"!==d&&"firstName"!==d}),void(i[g].length>=0&&(d[g]=b.fieldsGroup[g].length-i[g].length));if(g.indexOf("communication")>=0)return i[g]=[],$.each(h,function(d,f){"adsGroup"===f&&(fieldNameHasToBeRemovedFromManifest(b,a,f)||c.indexOf("adsGroup")<0)&&(i[g].push(e),i[g].push(f)),"adsThirdparty"===f&&(fieldNameHasToBeRemovedFromManifest(b,a,f)||c.indexOf("adsThirdparty")<0)&&i[g].push(f),"adsGroup"!==f&&"adsThirdparty"!==f}),void(i[g].length>=0&&(d[g]=b.fieldsGroup[g].length-i[g].length));if(g.indexOf("additional")>=0)return i[g]=[],$.each(h,function(c,d){options.allowEditAdditionalUserInfo&&validateIfEditableField(b,d)||fieldNameHasToBeRemovedFromManifest(b,a,d)&&i[g].push(d)}),void(i[g].length>=0&&(d[g]=b.fieldsGroup[g].length-i[g].length));if(g.indexOf("newsletters")>=0){i[g]=[],$.each(h,function(a,c){"newsletterFieldLabel"!==c&&newsletterFieldNameHasToBeRemovedFromManifest(b,c)&&i[g].push(c)});var j=$(b.fieldsGroup[g]).not(i[g]).get();return j&&1===j.length&&"newsletterFieldLabel"===j[0]&&i[g].push("newsletterFieldLabel"),void(i[g].length>=0&&(d[g]=b.fieldsGroup[g].length-i[g].length))}g.indexOf("extra")>=0&&(d[g]=!0)}),d)}function mustToShowAdditionalDataPage(a){var b=!1;if(checkAdditionalDataFilled(a))return b;var c={},d=0,e=!1,f=protectedFunctions.getAdditionalManifest();return loadNewslettersListFromResponse(a),c=calculateGroupsActivation(a,f),$.each(c,function(a,b){a.indexOf("additional")>=0&&(d+=b),a.indexOf("communication")>=0&&(d+=b),a.indexOf("golden")>=0&&(d=b),a.indexOf("interests")>=0&&(e=b),a.indexOf("newslettersDataGroupFields")>=0&&(d+=b),a.indexOf("extra")>=0&&(d+=b)}),0===d&&(b="marca"),(d>0||e)&&(b=!0),b}function removeFilledFieldsFromManifest(a,b){var c={},d=[],e=b,f="adsMedia",g=["hiddenCity","hiddenProvince","hiddenMunicipality"];return activatedByOptions(),additionalDataActivatedBy&&""!==additionalDataActivatedBy&&(d=additionalDataActivatedBy.split(",")),""===additionalDataActivatedBy?!1:($.each(e.fieldsGroup,function(b,h){return c[b]=[],b.indexOf("golden")>=0?($.each(h,function(d,f){"firstName"!==f||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(e,a,f)&&(c[b].push(f),removeFieldsFromFieldsManifest(a,e,f)),"zip"!==f||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(e,a,f)&&(c[b].push(f),removeFieldsFromFieldsManifest(a,e,f),$.each(g,function(d,f){c[b].push(f),removeFieldsFromFieldsManifest(a,e,f)}),removeHiddenCountryFromHtml()),"zip"!==f&&"firstName"!==f}),c[b].length>0&&!options.allowEditGoldenRecords&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),void(0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b])):(d.indexOf("golden")<0&&removeHiddenCountryFromHtml(),b.indexOf("communication")>=0?($.each(h,function(g,h){"adsGroup"===h&&(fieldNameHasToBeRemovedFromManifest(e,a,h)||d.indexOf("adsGroup")<0)&&(c[b].push(f),removeFieldsFromFieldsManifest(a,e,f),c[b].push(h),removeFieldsFromFieldsManifest(a,e,h)),"adsThirdparty"===h&&(fieldNameHasToBeRemovedFromManifest(e,a,h)||d.indexOf("adsThirdparty")<0)&&(c[b].push(h),removeFieldsFromFieldsManifest(a,e,h)),"adsGroup"!==h&&"adsThirdparty"!==h}),c[b].length>0&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),void(0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b])):b.indexOf("additional")>=0?($.each(h,function(d,f){options.allowEditAdditionalUserInfo&&validateIfEditableField(e,f)||fieldNameHasToBeRemovedFromManifest(e,a,f)&&(c[b].push(f),removeFieldsFromFieldsManifest(a,e,f))}),c[b].length>0&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),void(0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b])):b.indexOf("newsletters")>=0?($.each(h,function(a,d){"newsletterFieldLabel"!==d&&newsletterFieldNameHasToBeRemovedFromManifest(e,d)&&(c[b].push(d),removeNewsletterFieldFromFieldsManifest(e,d))}),c[b].length>0&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),1===e.fieldsGroup[b].length&&"newsletterFieldLabel"===e.fieldsGroup[b][0]&&(removeNewsletterFieldFromFieldsManifest(e,"newsletterFieldLabel"),removeFieldsFromGroupsManifest(e,b,"newsletterFieldLabel")),void(0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b])):void 0)}),e)}function activatedByOptions(){var a="";options.showAdditionalDataPage&&(a+="additional,"),options.showGoldenRecords&&(a+="golden,"),(options.showAdsGroup||options.showAdsThirdparty)&&(a+="communication,",options.showAdsGroup&&(a+="adsGroup,"),options.showAdsThirdparty&&(a+="adsThirdparty,")),getInterestsActivationStatus()&&(a+="interests,"),getsNewslettersActivationStatus()&&(a+="newsletters,"),getSectionsWithExternalFields()&&(a+="extra,"),a=a.replace(/\,$/,""),additionalDataActivatedBy=a}function getAdditionalManifestFromFlows(){var a=0,b="gigya-login-additional-data-screen",c={},d={},e={},f={},g=[],h=[],i=[];for(activatedByOptions(),additionalDataActivatedBy&&""!==additionalDataActivatedBy&&(i=additionalDataActivatedBy.split(",")),a=0;a<flows.length;a++)if(flows[a].getInsertCustomField().hasOwnProperty("screens")&&flows[a].getInsertCustomField().screens.hasOwnProperty(b)&&flows[a].getInsertCustomField().screens[b].length>0){var j=flows[a].getInsertCustomField().screens[b];$.each(j,function(f,j){var k=j.group;$.each(i,function(f,i){"adsGroup"!==i&&"adsThirdparty"!==i&&k.toLowerCase().indexOf(i.toLowerCase())>=0&&(h.push(j),flows[a].getInsertCustomField().hasOwnProperty("fieldsGroup")&&flows[a].getInsertCustomField().fieldsGroup.hasOwnProperty(k)&&flows[a].getInsertCustomField().fieldsGroup[k].length>0&&(d[k]=flows[a].getInsertCustomField().fieldsGroup[k],g=flows[a].getInsertCustomField().fieldsGroup[k],$.each(g,function(b,d){flows[a].getInsertCustomField().fields.hasOwnProperty(d)&&(c[d]=flows[a].getInsertCustomField().fields[d])})),e[b]=h)})})}return f.fields=c,f.fieldsGroup=d,f.screens=e,isActivatedAdditionalData()&&getsNewslettersActivationStatus()&&(f=addNewslettersManifestInManifest(b,f)),f}function getManifestOfScreenNameFromFlows(a){var b=0,c="undefined"!=typeof a?a:"",d={},e={},f={},g={},h=[],i=[];for(b=0;b<flows.length;b++)if(c&&""!==c&&flows[b].getInsertCustomField().hasOwnProperty("screens")&&flows[b].getInsertCustomField().screens.hasOwnProperty(c)&&flows[b].getInsertCustomField().screens[c].length>0){var j=flows[b].getInsertCustomField().screens[c];$.each(j,function(a,g){var j=g.group;i.push(g),flows[b].getInsertCustomField().hasOwnProperty("fieldsGroup")&&flows[b].getInsertCustomField().fieldsGroup.hasOwnProperty(j)&&flows[b].getInsertCustomField().fieldsGroup[j].length>0&&(e[j]=flows[b].getInsertCustomField().fieldsGroup[j],h=flows[b].getInsertCustomField().fieldsGroup[j],$.each(h,function(a,c){flows[b].getInsertCustomField().fields.hasOwnProperty(c)&&(d[c]=flows[b].getInsertCustomField().fields[c])})),f[c]=i})}return g.fields=d,g.fieldsGroup=e,g.screens=f,g}function fieldHasToBeRemovedFromManifest(a,b){var c=!1;return"undefined"!=typeof a&&a&&"object"==typeof a&&b&&""!==b&&objectHasProperties(a,b)&&""!==getValueFromObjectProperties(a,b)&&getValueFromObjectProperties(a,b)&&(c=!0),c}function addCustomFieldsInAdditionalDataScreen(a,b,c){"undefined"!=typeof b&&b||(b=options),userUtils.insertCustomFields.setOptions(b),("undefined"!=typeof a||a)&&(userUtils.insertCustomFields.setManifest(c),userUtils.insertCustomFields.getHTML(a),eventAdditionalData.resolve())}function addCustomManifestInScreen(a,b,c){"undefined"!=typeof b&&b||(b=options),userUtils.insertCustomFields.setOptions(b),("undefined"!=typeof a||a)&&(userUtils.insertCustomFields.setManifest(c),userUtils.insertCustomFields.getHTML(a))}function activateInterestsFields(){showInterestsFields=!0}function getInterestsActivationStatus(){return showInterestsFields}function activateNewslettersFields(){showNewslettersFields=!0}function getsNewslettersActivationStatus(){return showNewslettersFields}function activateAdditionalData(){options.showAdditionalDataPageWithExtraRequirements&&(options.showGoldenRecords=!0),options.interestsGroups&&Object.keys(options.interestsGroups).length>0&&(activateInterestsFields(),processInterestsOptions(options.interestsGroups)),options.newslettersGroup&&options.newslettersGroup.hasOwnProperty("newsletters")&&Object.keys(options.newslettersGroup.newsletters).length>0&&(activateNewslettersFields(),processNewslettersOptions(options.newslettersGroup));var a=options.showGoldenRecords||options.showAdditionalDataPage||options.showAdsGroup||options.showAdsThirdparty||getInterestsActivationStatus()||getsNewslettersActivationStatus()||options.sectionsWithExternalFields.length>0;enableAdditionalData(a)}function getNewslettersCookie(){var a=!1,b=$.cookie(NEWSLETTERS_COOKIE_NAME);if("undefined"!=typeof b&&b)try{a=decodeURIComponent(b)}catch(c){log("Error en getNewslettersCookie() al decodificar la cookie: "+c,"error"),b=$.cookie(NEWSLETTERS_COOKIE_NAME),"undefined"!=typeof b&&b&&(a=decodeURIComponent(b))}return"undefined"!=typeof a&&a?decodeURIComponent(a):!1}function getDataFromNewsLettersCookie(a,b){var c="undefined"!=typeof a&&a?a:!1,d="undefined"!=typeof b&&b?b:!1,e="",f="",g=[],h=!1,i=getNewslettersCookie();if(!1===i)return i;if(h=i.split("|"),"object"==typeof h&&h[0]&&h[1]){if(f=h[0].replace("UID=",""),e=h[1].replace("newsletters=","").split("*"),""===f&&""===e)return!1;if(""===f&&!1===c&&!1===d)return e;if(""===f&&!1===c&&d)return h[1].replace("newsletters=","");if("object"==typeof e&&""!==f&&c&&!1===d)return g.UID=f,g.newsletters=e,g;if("object"==typeof e&&!1!==f&&c&&"UIDOnly"===d)return f;if("object"==typeof e&&""!==f&&c&&d)return h[0].replace("UID=","")+"|"+h[1].replace("newsletters=","")}else if(!1===h)return h;return"object"==typeof e?e:""===e||!1===e?!1:void 0}function getNlsFreeZone(){var a=[],b=getDataFromNewsLettersCookie();if("object"==typeof b&&b&&b.length>0)for(var c=0;c<b.length;c++)a.push(b[c]);return a}function saveNlsOnLogin(a,b,c,d){var e=!1,f="false";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof d&&d){var g={UID:a,UIDSignature:b,signatureTimestamp:c,registrationToken:f,NL_ID:d};$.ajax({url:options.authServerVocCore+"/vocuser/v1/user/newsletters/subscribe/freezone",type:"POST",dataType:"json",data:g,async:!0,success:handleSuccessSaveNlsOnLogin}),e=!0}return e}function handleSuccessSaveNlsOnLogin(a){}function saveNlsOnRegister(a,b,c){var d=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c){var e={UID:a,registrationToken:b,NL_ID:c};$.ajax({url:options.authServerVocCore+"/vocuser/v1/user/newsletters/subscribe/freezone",type:"POST",dataType:"json",data:e,success:handleSuccessSaveNlsOnRegister}),d=!0}return d}function handleSuccessSaveNlsOnRegister(a){}function createStringResponseForCookie(a,b){var c="undefined"!=typeof a&&a?a:!1,d="undefined"!=typeof b&&b?b:!1,e="UID=",f="newsletters=";return c&&(e+=c),d&&(f+=d),e+"|"+f}function setNewslettersChecksBox(a){var b=!1;return"undefined"!=typeof a&&a&&(newslettersChecksBox.push(a),b=!0),b}function getNewslettersChecksBox(){return newslettersChecksBox}function printFrameworkOptions(){log(options,"info"),!1===options.hasPaywall&&log("---- Log - VocUser: No se realizarán llamadas a Evolok. El medio no tiene paywall; hasPaywall = false","warn"),!1===options.hasEcommerce&&log("---- Log - VocUser: No se realizarán llamadas a servicios de Ecommerce. (busSynchronize, userProducts - MDM, Evolok). El medio no tiene Ecommerce; hasEcommerce = false","warn")}function activateAdditionaleDataPageWithExtraRequirements(a,b){a===options.screenName.additionalData&&"undefined"!=typeof b&&b&&activateGoldenRecordsAndAdditionalDataPage()}function activateGoldenRecordsAndAdditionalDataPage(){options.showGoldenRecords=!0,enableAdditionalData(!0)}function validateIfEditableField(a,b){var c=!1,d="";return"undefined"!=typeof a&&"object"==typeof a&&"undefined"!=typeof b&&"string"==typeof b&&a.fields.hasOwnProperty(b)&&(d=a.fields[b].getRowFields()[0]),"undefined"!=typeof options.editableFields&&"object"==typeof options.editableFields&&options.editableFields&&options.editableFields.length>0&&""!==d&&"undefined"!==d&&options.editableFields.indexOf(d)>=0&&(c=!0),c}function init(){options=getOptions(),options.userIsInFlow=userIsInFlowScreen(),!0===options.userIsInFlow&&(service=getLastServiceFromVocUserInformationCookie(),options.service=service),options.backURL=getNfrylCookie(),setOptionIfRedirectedFromQualifio(),initAreaPersonalPageRouting(),initOptions(),options.envFront=initSubDomainEnvFront(options.currentEnvironment),initProtectedFunctions(),activateAdditionalData(),openScreenByRoute(),initFlows(),initCustomValidationPlugin();var a=$("div#"+options.idDivHtmlCustomBenefits);"undefined"!=typeof a&&a.append(options.htmlBenefits),!1===options.userIsInFlow&&(updateFieldInCookieVocUser("extensionFlowUrl","",!0),updateFieldInCookieVocUser("lastAction","",!0)),saveLastServiceInCookieVocUser(options.service,!1),log=options.debug&&userUtils.log?userUtils.log:function(){},executeFlows(),processesOutsideUserFlows(),printFrameworkOptions(),userDataReady(),registerUI(),redirectToBackUrlOnLogin(),gigya.socialize.addEventHandlers({onLogin:function(a){user=a.user,createCookies(user),options.reloadOnLogin||(fireEvent("socialize"+eventSeparator+"onLogin",a),getUserInfo({})),eventSocializeOnLogin.resolve()},onLogout:function(a){removeCookies(),removeSimpleStorage(),clearFieldReturnUrlInCookieVocUser(),options.reloadOnLogout||(fireEvent("socialize"+eventSeparator+"onLogout",a),user=null,registerUI())}}),gigya.accounts.addEventHandlers({onLogin:function(a){account=a,"undefined"!=typeof user&&user||(user=a),fireEvent("accounts"+eventSeparator+"onLogin",a),actionsAfterLogin(a),eventAccountsOnLogin.resolve()},onLogout:function(a){removeCookies(),removeSimpleStorage(),clearFieldReturnUrlInCookieVocUser(),options.reloadOnLogout?userUtils.reload():(fireEvent("accounts"+eventSeparator+"onLogout",a),account=null)}}),getUserInfo({}),getAccountInfo({}),$.when(eventServiceAdd,eventCheckService,eventSetAccountInfoCallback).done(function(a,b,c){fireEvent("accounts"+eventSeparator+"addServiceCompleted",c)}),addGigyaEventMap(),userUtils.insertCustomFields.removeHTML();var b=getCurrentScreenName();return activateAdditionaleDataPageWithExtraRequirements(b,options.showAdditionalDataPageWithExtraRequirements),isActivatedAdditionalData()&&(additionalManifest=getAdditionalManifest()),b!==options.screenName.additionalData&&injectFieldsinScreensByScreenNameExceptAdditionalDataScreen(b),b===options.screenName.additionalData&&isActivatedAdditionalData()&&$.when(eventGetAccountInfo).done(function(a){loadNewslettersListFromResponse(a),additionalManifest=removeFilledFieldsFromManifest(a,additionalManifest),additionalManifest=customizeInterestsFieldsInManifest(additionalManifest),addCustomFieldsInAdditionalDataScreen(b,options,additionalManifest)}),deleteUnitTesting(options.envFront),addProtectedFunctionsToUnitTesting(),addPublicFunctionsToUnitTesting(),this}function getVoontoApp(){return voontoApp}function voontoPromised(a,b,c){var d=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&(c.promised(eventProjectNamespace+eventSeparator+a,b),d=!0),d}function addGigyaEventMap(){var a=!1,b=[],c={events:"beforeRequest",method:globalHookEventMapOnBeforeRequest,args:[function(a){return a}]};b.push(c),c={events:"onRefreshExternalComponentsEvent",method:globalHookEventMapOnBeforeRequest,args:[function(a){return a}]},b.push(c);var d={eventMap:b};return gigya.defaultEventMaps=[],gigya.defaultEventMaps.push(d),a=!0}function getUrlProtocolForCurrentSite(){var a=!1,b=options.hasHttpsInFront,c="http:";return!0===b&&(c="https:"),a=c}function getDomainTldFromUrl(a){var b=!1;if("undefined"!=typeof a&&a){var c=a.split(".");c.length>=2&&(c=c[c.length-2]+"."+c[c.length-1],b=c)}return b}function getSubDomainDomainTldFromUrl(a){var b=!1;if("undefined"!=typeof a&&a){var c=a.split("/");c.length>=3&&(c=c[2],b=c)}return b}function setNewCommunicationsStructure(obj){var result=!1;if("undefined"!=typeof obj&&obj&&"undefined"!=typeof obj.params&&obj.params&&"undefined"!=typeof obj.params.data&&obj.params.data){
var communicationsArray=new Array,date=(new Date).toISOString();obj.params.data.hasOwnProperty("adsGroup")&&communicationsArray.push({ID:"adsGroup",status:obj.params.data.adsGroup,updateDate:date}),obj.params.data.hasOwnProperty("adsThirdparty")&&communicationsArray.push({ID:"adsThirdparty",status:obj.params.data.adsThirdparty,updateDate:date}),obj.params.data.hasOwnProperty("adsMedia")&&obj.params.data.adsMedia.hasOwnProperty(obj.params.cid)&&communicationsArray.push({ID:"adsMedia",status:eval("obj.params.data.adsMedia."+obj.params.cid),updateDate:date}),communicationsArray.length>=1&&(result=communicationsArray)}return result}function setNewCustomerServicesStructure(a){var b=!1,c=new Array,d=(new Date).toISOString();return b=getCustomerServiceFromCookieAndUpdateOptions(),c.push({ID:options.serviceId,firstService:!0,siteID:options.siteId,createdDate:d,platform:options.platform,device:options.device,serviceReference:options.serviceReference}),c.length>=1&&(b=c),b}function setAdditionalDataStructure(a){a="undefined"!=typeof a?a:{};var b=!1,c=(new Date).toISOString(),d=new Array,e={};return e.serviceID=options.serviceId,e.serviceReference=options.serviceReference,e.createdAt=c,a.length>0&&(d=a),d.push(e),d.length>=1&&(b=d),b}function globalHookEventMapOnBeforeRequest(a){var b=$("#gigya-complete-registration-screen:visible"),c=$("#gigya-update-profile-screen:visible");if("beforeRequest"===a.eventName){if(("accounts.register"===a.methodName||"accounts.setAccountInfo"===a.methodName&&("undefined"!=typeof b&&b&&b.length>0||"undefined"!=typeof c&&c&&c.length>0))&&options.saveGigyaCommunications){var d=setNewCommunicationsStructure(a);!1!==d&&("undefined"!==a.params.data&&a.params.data||(a.params.data={}),a.params.data.communications=d)}if(("accounts.register"===a.methodName||"accounts.setAccountInfo"===a.methodName&&"undefined"!=typeof b&&b&&b.length>0)&&options.saveGigyaCustomerServices){var e=setNewCustomerServicesStructure(a);!1!==e&&("undefined"!==a.params.data&&a.params.data||(a.params.data={}),a.params.data.customerService=e)}if(("accounts.register"===a.methodName||"accounts.setAccountInfo"===a.methodName&&"undefined"!=typeof b&&b&&b.length>0)&&isActivatedAdditionalData()){var f=setAdditionalDataStructure();!1!==f&&("undefined"!==a.params.data&&a.params.data||(a.params.data={}),a.params.data.additionalDataFilled=f)}}}function sendCustomerService(a,b){var c=!1;if("undefined"!=typeof a&&a){var d=getNfrylCookie();"undefined"!=typeof d&&d&&"/"!==d||(d=window.location.href),"undefined"!=typeof d&&d&&"/"===d[d.length-1]&&(d=d.substring(0,d.length-1));var e=getCookieVocUidInformation("uid"),f=getCookieVocUidInformation("uidSignature"),g=getCookieVocUidInformation("signatureTimestamp"),h=getCookieVocUserInformation("regToken"),i="";"undefined"!=typeof b&&b&&(i=b);var j={UID:e,UIDSignature:f,signatureTimestamp:g,url:d,serviceId:a,customerServiceAdditionalInformation:i};"undefined"!=typeof h&&h&&(j.regToken=h);var k=options.authServerVocCore+"/vocuser/v1/user/customer-service/subscribe-by-id";try{c=$.ajax({url:k,type:"POST",data:j,async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(l){}}return c}function saveRegTokenOnRegister(a,b){var c=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&(options.screenName.formulario===b||options.screenName.completo===b)&&(c=updateFieldInCookieVocUser("regToken",a,!0)),c}function saveLastActionInVocUserCookie(a){var b=!1;return"undefined"!=typeof a&&a&&(b=updateFieldInCookieVocUser("lastAction",a,!0)),b}function saveExtensionFlowUrlInVocUserCookie(a){var b=!1;return"undefined"!=typeof a&&a&&(b=updateFieldInCookieVocUser("extensionFlowUrl",a,!0)),b}function checkLegalTerms(a){var b=(a.profile,a.data);return"undefined"!=typeof b&&b&&("undefined"==typeof b.legaltermsLastUpdate||b.legaltermsLastUpdate<options.legaltermsLastUpdate),this}function isFirstLogin(a){var b=!1,c=getGigyaResponse(a);if("undefined"!=typeof c&&c&&"undefined"!=typeof c.data&&c.data){var d=c.data;("undefined"==typeof d.initLoginComplete||!1===d.initLoginComplete)&&(b=!0)}else"undefined"!=typeof account&&account&&"undefined"!=typeof account.data&&account.data&&("undefined"==typeof account.data.initLoginComplete||!1===account.data.initLoginComplete)&&(b=!0);return b}function userCreatedWithinTenMinutes(a){var b=!1,c=getGigyaResponse(a);if("undefined"!=typeof c&&c&&"undefined"!=typeof c.createdTimestamp&&c.createdTimestamp){Date.now||(Date.now=function(){return(new Date).getTime()});var d=Math.floor(Date.now()/1e3),e=d-c.createdTimestamp/1e3;b=e>600?!1:!0}return b}function checkFirstLogin(a){return!0===isFirstLogin(a)&&fireEvent("user"+eventSeparator+"firstLogin",a),this}function setLastLogin(a){var b=getContext(),c={};c.lastLogin={url:options.backURL,timestamp:b.timestamp};var d=setAccountInfo({data:c,callback:a.callback});return d}function setCurrentService(a){var b=!1;return"undefined"!=typeof a&&a&&(service=a,options.service=a,b=saveLastServiceInCookieVocUser(a,!0)),b}function getCurrentService(){return service}function getAuthServer(){return options.authServer}function saveServiceAndServices(a,b){var c=!1;if("undefined"==typeof a&&(a={}),"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=!1;if("undefined"==typeof a[options.ssoGroup]||!1===a[options.ssoGroup])a[options.ssoGroup]=b,d=!0;else{for(var e=a[options.ssoGroup].split(","),f=!1,g=0;g<e.length;g++)b.toLowerCase()===e[g].toLowerCase()&&(f=!0);!1===f&&(a[ssoGroup]+=","+b,d=!0)}if(d){var h={};h.services=a;var i={data:h},j=setAccountInfo(i);j.then(function(a){return!0})}}return c}function checkService(a){var b=a.data,c=!1,d=getLastServiceFromVocUserInformationCookie();if(c=saveServiceAndServices(b.services,d)){var e={e:a,account:account};eventCheckService.resolve(e)}return this}function checkNickname(a){var b=a.profile;a.data;if("undefined"!=typeof b&&b&&"undefined"!=typeof b.nickname&&b.nickname){var c=!1;if("undefined"!=typeof simpleStorageDependency&&simpleStorageDependency&&(c=simpleStorageDependency.get("verifyUniqueNicknameFlushed"),"undefined"==typeof c||!0!==c)){var d=options.authServer+"/verify_unique_nickname.html?UID="+a.UID+"&nickname="+encodeURIComponent(b.nickname)+"&callback=?";$.getJSON(d,function(b){simpleStorageDependency.set("verifyUniqueNicknameFlushed",!0,{TTL:3e5}),b.isValid||fireEvent("user"+eventSeparator+"duplicateNickname",a)})}}else fireEvent("user"+eventSeparator+"noNickname",a)}function safeEncodeUserSignature(a,b,c){var d=!1;if("undefined"!=typeof a&&"undefined"!=typeof b&&"undefined"!=typeof c){var e=encodeURIComponent(a),f=encodeURIComponent(b),g=encodeURIComponent(c);d="UID="+e+"&UIDSignature="+f+"&signatureTimestamp="+g}return d}function verifyUser(a){return $.ajax({url:options.authServer+"/api/v1/verifiedRegistration?callback=?",data:{UID:a.response.UID,UIDSignature:a.response.UIDSignature,signatureTimestamp:a.response.signatureTimestamp},type:"GET",dataType:"jsonp",success:function(b){b.success&&options.loginOnVerify&&notifyLoginUser(a)},error:function(a,b,c){log("verifyUser => ERROR xhr","error")}}),this}function notifyLoginUser(a){return $.ajax({url:options.authServer+"/api/v1/notifyLogin",data:{targetUID:a.response.UID,UID:a.response.UID,UIDSignature:a.response.UIDSignature,signatureTimestamp:a.response.signatureTimestamp},type:"GET",dataType:"jsonp",success:function(a){log("notifyLoginUser => Login notificado a Gigya","info"),userUtils.reload()},error:function(a,b,c){log("notifyLoginUser => ERROR xhr","error")}}),this}function createCookieVocUid(a,b,c){var d=!1,e="",f=gigya.partnerSettings.ssoKey,g="",h="",i="",j="",k="",l="",m="",n="",o="",p="";if("undefined"!=typeof account&&account&&(g=account.UID,h=account.UIDSignature,i=account.signatureTimestamp,"undefined"!=typeof account.data&&account.data&&("undefined"!=typeof account.data.registration&&account.data.registration&&"undefined"!=typeof account.data.registration.service&&account.data.registration.service&&(o=account.data.registration.service),"undefined"!=typeof account.data.services&&account.data.services&&"undefined"!=typeof account.data.services[ssoGroup]&&account.data.services[ssoGroup]&&(p=account.data.services[ssoGroup]))),"undefined"!=typeof user&&user&&(g=user.UID,h=user.UIDSignature,i=user.signatureTimestamp,j=user.age,k=user.zip,l=user.gender,m=user.firstName,n=user.lastName),"undefined"!=typeof account&&account&&"undefined"!=typeof user&&user){var q='{    "uid": "'+g+'", "uidSignature": "'+h+'", "signatureTimestamp": "'+i+'", "ssoApiKey": "'+f+'", "age": "'+j+'", "zip": "'+k+'", "gender": "'+l+'", "firstName": "'+m+'", "lastName": "'+n+'", "dataRegistrationService": "'+o+'", "dataServicesSsoGroup": "'+p+'" }';e=q;var r=userUtils.webBrowserDetector();(r.indexOf("Safari")>-1||r.indexOf("Mobile")>-1||r.indexOf("-?")>-1)&&(e=encodeURIComponent(q));var s={domain:a,path:"/",expires:b};d=createCookie(UID_COOKIE_NAME,e,s,c)}return d}function createCookieVocUser(a,b,c,d){var e="",f=service;"undefined"!=typeof d.lastService&&(f=d.lastService);var g='{    "lastService": "'+f+'" }';e=g;var h=userUtils.webBrowserDetector();(h.indexOf("Safari")>-1||h.indexOf("Mobile")>-1||h.indexOf("-?")>-1)&&(e=encodeURIComponent(g));var i={domain:a,path:"/",expires:b};createCookie(VOCUSER_COOKIE_NAME,e,i,c)}function decodeJsonCookieToObject(a){var b=!1,c="";if("undefined"!==a&&a&&a)try{c=JSON.parse(a.cookie),b=c}catch(d){try{a.cookie=decodeURIComponent(a.cookie),c=JSON.parse(a.cookie),b=c}catch(d){}}return b}function getLastServiceFromVocUserInformationCookie(){var a=!1;return a=getCookieVocUserInformation("lastService"),("undefined"==typeof a||!1===a)&&(a=service),a}function getCookieVocUserInformation(a){var b=$.cookie(VOCUSER_COOKIE_NAME),c="",d="";if("undefined"!=typeof b&&b){"undefined"!=typeof userUtils&&userUtils&&"undefined"!=typeof userUtils.webBrowserDetector&&(d=userUtils.webBrowserDetector(),(d.indexOf("Safari")>-1||d.indexOf("Mobile")>-1||d.indexOf("-?")>-1)&&(b=decodeURIComponent(b)));var e={cookie:b};c=decodeJsonCookieToObject(e),!1===c&&(c=decodeJsonCookieToObject(e))}return"undefined"==typeof c||"undefined"==typeof a?c:c[a]}function getCookieVocUidInformation(a){var b=$.cookie(UID_COOKIE_NAME),c="",d="";if("undefined"!=typeof b&&b){"undefined"!=typeof userUtils&&userUtils&&"undefined"!=typeof userUtils.webBrowserDetector&&(d=userUtils.webBrowserDetector(),(d.indexOf("Safari")>-1||d.indexOf("Mobile")>-1||d.indexOf("-?")>-1)&&(b=decodeURIComponent(b)));var e={cookie:b};c=decodeJsonCookieToObject(e),!1===c&&(c=decodeJsonCookieToObject(e))}return"undefined"==typeof c||"undefined"==typeof a?c:c[a]}function saveLastServiceInCookieVocUser(a,b){var c=!1,d="";return d="undefined"!=typeof a&&a?a:service,c="undefined"==typeof b||!1===b?updateFieldInCookieVocUser("lastService",d,!options.userIsInFlow):updateFieldInCookieVocUser("lastService",d,b)}function updateFieldInCookieVocUser(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e={};e=getCookieVocUserInformation(),"undefined"!=typeof e&&e||(e={}),"undefined"==typeof b&&(b=""),e[a]=b;var f=JSON.stringify(e),g=userUtils.getMainDomain(),h=365,i=userUtils.webBrowserDetector();(i.indexOf("Safari")>-1||i.indexOf("Mobile")>-1||i.indexOf("-?")>-1)&&(f=encodeURIComponent(f));var j={domain:g,path:"/",expires:h};d=createCookie(VOCUSER_COOKIE_NAME,f,j,c)}return d}function updateReturnUrlInVocUserCookie(a){var b=!1;if("undefined"!=typeof a&&a){var c=!0;b=updateFieldInCookieVocUser("returnUrl",a,c)}return b}function updateReturnUrlTimeoutInVocUserCookie(a){var b=!1;if("undefined"!=typeof a&&a){var c=!0;b=updateFieldInCookieVocUser("returnUrlTimeout",a,c)}return b}function createCookieResend(){var a="",b="rvalle@ces.vocento.com",c="RT1_stDlnJ~02045353544b0736323836393631010000~gANPsGEkUDFODVj0TmHZFdLcvDG9P5ER4cHFocTD8GB12-pc9s9l0GBazjxyHd1yhcC-s1Zg2X4uIKfbZTMJnjuI7c_RB_Sqkcu-NnG5d55oGlM7Ae1GzR6_8uV_4vL1DCufatwP3aVKCqKhIWppPqLrRxlW2Bv2Dcg0Lh2ZYWMcZBGXfDZA6329d_Ui4KuYv8AG082xeMXCsgwWiTpWVPpXZYDMjfvxK66m9OuIBqhejRtWaA7Rqht4TWEffaI-JQq7pQbc95gqHpoLQ8h_sz0PWbSKmlKDCZWRH9MWuh1XpbVFaw87X_gXU3X91G-ktL3eRHOS0PYMgW8Igj04c6yVirZjhOJGRBTZyU-tPi_tiRFguZRLCckcw0UlCWKE-0MPmnXmMPUoVLgqcvylycUmGN9GT5mYgFIJbwhClejApYe60djvEJz21Sj7qZmDvSZGoucgsDGavBfkjP1MVsJI1_yu1NtSSoZcC5tujUXv52-S-PpYEWcV7_BkRE6x7mkQKSxCo-FhfWJIJX6icwIPrA~",d="false",e='{    "userMail": "'+b+'" ,    "regToken": "'+c+'" ,    "sended": "'+d+'"   }';a=e;var f=userUtils.webBrowserDetector();(f.indexOf("Safari")>-1||f.indexOf("Mobile")>-1||f.indexOf("-?")>-1)&&(a=encodeURIComponent(e));var g="."+userUtils.getMainDomain(),h={domain:g,path:"/",expires:1};createCookie(RESEND_EMAIL_COOKIE_NAME,a,h,!0)}function getResendEmailCookie(){var a=$.cookie(RESEND_EMAIL_COOKIE_NAME),b="",c="";if("undefined"!=typeof a&&a){"undefined"!=typeof userUtils&&userUtils&&"undefined"!=typeof userUtils.webBrowserDetector&&(c=userUtils.webBrowserDetector(),(c.indexOf("Safari")>-1||c.indexOf("Mobile")>-1||c.indexOf("-?")>-1)&&(a=decodeURIComponent(a)));var d={cookie:a};return b=decodeJsonCookieToObject(d),!1===b&&(b=decodeJsonCookieToObject(d)),b}}function hasToResendEmailCookieFound(){var a=!1,b=getResendEmailCookie();return"undefined"!=typeof b&&""!==b&&b.hasOwnProperty("userMail")&&""!==b.userMail&&b.hasOwnProperty("regToken")&&""!==b.regToken&&b.hasOwnProperty("sended")&&("false"===b.sended||b.sended===!1)&&(a=b),a}function hasToRemoveCookieResend(){var a=!1,b=getResendEmailCookie();return"undefined"!=typeof b&&""!==b&&b.hasOwnProperty("userMail")&&""!==b.userMail&&b.hasOwnProperty("regToken")&&""!==b.regToken&&b.hasOwnProperty("sended")&&("true"===b.sended||b.sended===!0)&&(a=!0),a}function removeResendMailVerficationCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(RESEND_EMAIL_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(RESEND_EMAIL_COOKIE_NAME,null,{domain:a,path:"/"})}function updateFieldInCookieResend(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e={};if(e=getResendEmailCookie(),"undefined"==typeof e||!e||""===e)return d;if("undefined"==typeof b&&(b=""),!e.hasOwnProperty(a)||""===e[a])return d;e[a]=b;var f=JSON.stringify(e),g="."+userUtils.getMainDomain(),h=1,i=userUtils.webBrowserDetector();(i.indexOf("Safari")>-1||i.indexOf("Mobile")>-1||i.indexOf("-?")>-1)&&(f=encodeURIComponent(f));var j={domain:g,path:"/",expires:h};createCookie(RESEND_EMAIL_COOKIE_NAME,f,j,c)}return d}function updateSendedInResendCookie(){var a=!1;return a=updateFieldInCookieResend("sended","true",!0)}function userIsInFlowScreen(){var a=!1;for(var b in options.page){var c=options.page[b];if(-1!==window.location.pathname.indexOf(c))return a=!0}return a}function getCurrentScreenName(){var a=!1,b="",c=!1;return b=options.page.loginPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.login),b=options.page.loginAdditionalDataPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.additionalData),b=options.page.registerPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.formulario),b=options.page.registerConfirmedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.confirmacion),b=options.page.resendMailPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.reenviar),b=options.page.mailSendedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.reenviado),b=options.page.validateMailPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.validacion),b=options.page.recoveryPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.recuperar),b=options.page.sendedMailPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.enviado),b=options.page.changePasswdPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.resetear),b=options.page.passwdchangedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.actualizado),b=options.page.profilePage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.perfil),b=options.page.interestPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.intereses),b=options.page.changePasswdProfilePage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.cambiar),b=options.page.profileUpdatedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.actualizado),a}function createCookies(a){log("createCookies => Creando cookies","info");var b="."+userUtils.getMainDomain();"undefined"==typeof a.bio&&(a.bio="");var c=365;$.cookie.raw=!0,$.cookie(QUEID_COOKIE_NAME,"1",{path:"/",expires:c});var d='<?xml version="1.0" encoding="ISO-8859-1"?><resp tipo="ok"><msg id="201">Datos de acceso correctos</msg><user>'+a.nickname+"</user><user_email>"+a.email+"</user_email><user_nombre>"+a.firstName+"</user_nombre><user_apellido>"+a.lastName+"</user_apellido><user_avatar>"+a.thumbnailURL+"</user_avatar><user_profileurl>"+a.profileURL+"</user_profileurl><user_bio>"+a.bio+"</user_bio><url_retorno></url_retorno><moiden></moiden><servicio>"+service+"</servicio><time>"+a.signatureTimestamp+"</time><hash>"+a.UIDSignature+"</hash></resp>";$.cookie(REG_COOKIE_NAME,d,{path:"/",expires:c}),protectedFunctions.createCookieEvolok(),createCookieVocUid(b,c,!0),fireEvent("user"+eventSeparator+"createCookie")}function createCookieAutoNewsletters(a){var b="."+userUtils.getMainDomain(),c=1,d=encodeURIComponent(a),e={domain:b,path:"/",expires:c};createCookie(AUTO_NEWSLETTERS_COOKIE_NAME,d,e,!0)}function getCookieAutoNewsletters(){var a=!1,b=$.cookie(AUTO_NEWSLETTERS_COOKIE_NAME);if("undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){log("Error en getCookieVocUserTemporal() al decodificar la cookie: "+c,"error"),b=$.cookie(AUTO_NEWSLETTERS_COOKIE_NAME),"undefined"!=typeof b&&b&&(b=decodeURIComponent(b))}return a=b?decodeURIComponent(b):b}function removeAutoNewslettersCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(AUTO_NEWSLETTERS_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(AUTO_NEWSLETTERS_COOKIE_NAME,null,{domain:a,path:"/"})}function createCookieVocUserTemporal(a){var b="."+userUtils.getMainDomain(),c=1,d=encodeURIComponent(a),e={domain:b,path:"/",expires:c};createCookie(VOCUSER_THANKYOU_COOKIE_NAME,d,e,!0)}function getCookieVocUserTemporal(){var a=!1,b=$.cookie(VOCUSER_THANKYOU_COOKIE_NAME);if("undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){log("Error en getCookieVocUserTemporal() al decodificar la cookie: "+c,"error"),b=$.cookie(VOCUSER_THANKYOU_COOKIE_NAME),"undefined"!=typeof b&&b&&(b=decodeURIComponent(b))}return a=b?decodeURIComponent(b):b}function removeCookieVocUserTemporal(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(VOCUSER_THANKYOU_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(VOCUSER_THANKYOU_COOKIE_NAME,null,{domain:a,path:"/"})}function getNfrylCookie(){var a=!1,b=$.cookie(NFRYL_COOKIE_NAME);if("undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){log("Error en getNfrylCookie() al decodificar la cookie: "+c,"error"),b=$.cookie(NFRYL_COOKIE_NAME),"undefined"!=typeof b&&b&&(b=decodeURIComponent(b))}return"undefined"!=typeof b&&b||(b=window.location.href),a=decodeURIComponent(b)}function removeNfrylCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(NFRYL_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(NFRYL_COOKIE_NAME,null,{domain:a,path:"/"})}function removeNewslettersCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(NEWSLETTERS_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(NEWSLETTERS_COOKIE_NAME,null,{domain:a,path:"/"})}function removeVocUserInformationCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(VOCUSER_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(VOCUSER_COOKIE_NAME,null,{domain:a,path:"/"})}function createCookieForNfryl(a){var b="."+userUtils.getMainDomain(),c=1,d=encodeURIComponent(a),e={domain:b,path:"/",expires:c};createCookie(NFRYL_COOKIE_NAME,d,e,!0)}function processesOutsideUserFlows(){if(!1===options.currentRoute){protectedFunctions.createCookieForNfryl(window.location.href);var a=protectedFunctions.getCookieVocUserInformation("customerService");(""!==a||"undefined"!==a)&&protectedFunctions.updateFieldInCookieVocUser("customerService","",!0)}}function getFromQualifyoCookie(){var a=!1,b=$.cookie(FROM_QUALIFIO_COOKIE_NAME);if("undefined"!=typeof b&&b)try{a=decodeURIComponent(b)}catch(c){log("Error en getNfrylCookie() al decodificar la cookie: "+c,"error"),b=$.cookie(FROM_QUALIFIO_COOKIE_NAME),"undefined"!=typeof b&&b&&(a=decodeURIComponent(b))}return"undefined"!=typeof a&&a||(a=window.location.href),decodeURIComponent(a)}function cookieFromQualifioNoExists(){var a=!1;return("undefined"==typeof $.cookie(FROM_QUALIFIO_COOKIE_NAME)||null===$.cookie(FROM_QUALIFIO_COOKIE_NAME))&&(a=!0),a}function setOptionIfRedirectedFromQualifio(){cookieFromQualifioNoExists()||"true"!==getFromQualifyoCookie()||(options.redirectedFromQualifio=!0)}function createCookie(a,b,c,d){var e=!1;return!0===d?($.cookie(a,b,c),e=!0):(null===$.cookie(a)||"undefined"==typeof $.cookie(a))&&($.cookie(a,b,c),e=!0),e}function deleteCookie(a,b){log("deleteCookie => Eliminando cookie","info"),"undefined"!=typeof $.removeCookie?$.removeCookie(a,b):$.cookie(a,null,b)}function removeCookies(){log("removeCookies => Eliminando cookies","info");var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?($.removeCookie(QUEID_COOKIE_NAME,{path:"/"}),$.removeCookie(REG_COOKIE_NAME,{path:"/"}),$.removeCookie(UID_COOKIE_NAME,{domain:a,path:"/"})):($.cookie(QUEID_COOKIE_NAME,null,{path:"/"}),$.cookie(REG_COOKIE_NAME,null,{path:"/"}),$.cookie(UID_COOKIE_NAME,null,{domain:a,path:"/"})),protectedFunctions.removePaywallCookies(),fireEvent("user"+eventSeparator+"deleteCookie")}function removeFromQualifioCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(FROM_QUALIFIO_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(FROM_QUALIFIO_COOKIE_NAME,null,{domain:a,path:"/"})}function clearFieldReturnUrlInCookieVocUser(){var a=!1,b=!0;return a=updateFieldInCookieVocUser("returnUrl","",b)}function updateXMLCookie(a,b,c,d,e,f){var g=!1,h="";if(null===$.cookie(a)||"undefined"==typeof $.cookie(a))g=!1;else{h=$.cookie(a);var i="<"+c+">",j="</"+c+">",k="</"+e+">";if(-1!==h.indexOf(c))if(!0===f){var l=h.match(i+"(.*)"+j);h=h.replace(l[1],d),g=!0}else g=!1;else if(-1!==h.indexOf(e)){var m=h.indexOf(k);d=i+d+j;var n=[h.slice(0,m),d,h.slice(m)].join("");h=n,g=!0}else g=!1}return!0===g&&($.cookie.raw=!0,$.cookie(a,h,b)),g}function fireEvent(a,b){if("string"!==a&&a){var c=getEventNamespaceForBody(),d=a.replace(":","."),e=c+d,f=$.Event(e);f.gigya_event=b,$("body").trigger(f),log("fireEvent => Evento disparado:"+e,"info"),log(b,"info"),"undefined"!=typeof voontoApp&&voontoApp&&(c=getEventNamespaceForVoonto(),d=a.replace(".",":"),e=c+d,f=$.Event(e),f.gigya_event=b,voontoApp.trigger(f),log("fireEvent => Evento disparado:"+e,"info"),log(b,"info"))}else log("fireEvent => Evento NO disparado, no se ha especificado el nombre del evento","warn")}function getUserInfo(a){try{"undefined"!=typeof window.sessionStorage&&window.sessionStorage&&window.sessionStorage.length&&(a.cacheTimeout=a.cacheTimeout?a.cacheTimeout:!0)}catch(b){log("Gigya.getUserInfo => Error al acceder a window.sessionStorage.localStorage no habilitado ó cookies de terceros bloqueadas o todas las cookies están bloqueadas","warn")}a.includeAllIdentities=a.includeAllIdentities?a.includeAllIdentities:!0,a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var c={callback:a.callback},d={callback:function(a){protectedFunctions.compareGigyaErrorCode(a.errorCode,0)&&(authenticated=a.user.UID&&""!==a.user.UID),authenticated?(log("getUserInfo => Usuario autenticado","info"),user=a.user,createCookies(user),fireEvent("user"+eventSeparator+"onDataReady",a)):(log("getUserInfo => Usuario no autenticado. ERROR ( "+a.errorCode+"): "+a.errorMessage,"info"),protectedFunctions.compareGigyaErrorCode(a.errorCode,"500026")?log("getUserInfo => Usuario no autenticado. BUG GIGYA. ERROR de red: ( "+a.errorCode+"): "+a.errorMessage,"error"):(removeCookies(),clearFieldReturnUrlInCookieVocUser()),user=null,account=null,fireEvent("user"+eventSeparator+"onDataNoReady",a)),setEmailVerifiedMessage(authenticated),registerUI(),eventGetUserInfo.resolve(a)}},e={callback:function(a){d.callback(a),safeInvoke(c.callback,a)}},f=$.extend(a,e);return gigya.socialize.getUserInfo(f),!1}function checkFirstComment(a){if(isFirstComment=!0,"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.customerService&&a.data.customerService.length>0)for(var b=0,c=a.data.customerService.length;c>b;b++)if("110"===a.data.customerService[b].ID){isFirstComment=!1;break}}function checkAdditionalDataFilled(a){var b=!1,c=0,d=0;if("undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.additionalDataFilled&&a.data.additionalDataFilled&&Object.keys(a.data.additionalDataFilled).length>0){for(c=0,d=a.data.additionalDataFilled.length;d>c;c++)if(a.data.additionalDataFilled[c].serviceID===options.serviceId&&a.data.additionalDataFilled[c].serviceReference===options.serviceReference){b=!0;break}}else if("undefined"!=typeof account&&account&&"undefined"!=typeof account.data&&account.data&&"undefined"!=typeof account.data.additionalDataFilled&&account.data.additionalDataFilled&&Object.keys(account.data.additionalDataFilled).length>0)for(c=0,d=account.data.additionalDataFilled.length;d>c;c++)if(account.data.additionalDataFilled[c].serviceID===options.serviceId&&account.data.additionalDataFilled[c].serviceReference===options.serviceReference){b=!0;break}return b}function getAccountInfo(a){a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext(),a.extraProfileFields=a.extraProfileFields?a.extraProfileFields:"nickname, firstName, lastName, birthDay, birthMonth, birthYear, address, zip, city, country, gender, work";var b={callback:a.callback},c={callback:function(a){if(protectedFunctions.compareGigyaErrorCode(a.errorCode,0)&&"undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID&&(authenticated=!0),authenticated){log("getAccountInfo => Usuario autenticado","info"),account=a,checkFirstComment(a),!0===isFirstLogin(a)&&removeSimpleStorage();var b="."+userUtils.getMainDomain(),c=365;createCookieVocUid(b,c,!0),protectedFunctions.checkPaywallId(a,protectedFunctions.sincronizarLlamadasEcommercePaywall),checkService(a),checkLegalTerms(a),checkNickname(a),checkFirstLogin(a),fireEvent("accounts"+eventSeparator+"onDataReady",a);var d=a,e={responseAccountsOnDataReady:d};voontoPromised("accountsondataready",e,voontoApp)}else log("getAccountInfo => Usuario no autenticado. ERROR ( "+a.errorCode+"): "+a.errorMessage,"info"),user=null,account=null,fireEvent("accounts"+eventSeparator+"onDataNoReady",a),protectedFunctions.compareGigyaErrorCode(a.errorCode,0)&&log("getAccountInfo => Usuario no autenticado. BUG GIGYA. ERROR ( "+a.errorCode+"): "+a.errorMessage,"error");eventGetAccountInfo.resolve(a)}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.getAccountInfo(e),!1}function setAccountInfo(a){return new promiseNamespace(function(b,c){a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var d={callback:a.callback},e={callback:function(a){if(b(a),protectedFunctions.compareGigyaErrorCode(a.errorCode,0))log("setAccountInfo => Datos de cuenta de usuario enviados","info");else if(log("setAccountInfo => ERROR ( "+a.errorCode+"): "+a.errorMessage,"error"),"undefined"!=typeof a.validationErrors&&a.validationErrors&&"undefined"!=typeof a.validationErrors[0]&&a.validationErrors[0]&&"undefined"!=typeof a.validationErrors[0].fieldName&&a.validationErrors[0].fieldName&&"undefined"!=typeof a.validationErrors[0].message&&a.validationErrors[0].message){var c=a.validationErrors[0].fieldName;log("setAccountInfo => Error al guardar campo: "+c+"; "+a.validationErrors[0].message,"error");var d="";-1!==c.indexOf("data")?(c=c.replace("data.",""),d=a.requestParams.data[c]):d=a.requestParams[c],log("setAccountInfo => Intentado escribir el valor: "+d,"error")}var e={e:a,account:account};eventSetAccountInfoCallback.resolve(e),fireEvent("accounts"+eventSeparator+"setAccountInfo",e)}},f={callback:function(a){e.callback(a),safeInvoke(d.callback,a)}},g=$.extend(a,f);gigya.accounts.setAccountInfo(g)})}function logout(a){a=a?a:{},a.forceProvidersLogout=a.forceProvidersLogout?a.forceProvidersLogout:options.forceProvidersLogout,a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext(),options.reloadOnLogout="undefined"!=typeof a.reloadOnLogout?a.reloadOnLogout:options.reloadOnLogout;var b={callback:a.callback},c={callback:function(a){log("logout => logout correcto","info"),authenticated=!1,user=null,registerUI()}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return removeCookies(),removeNfrylCookie(),removeNewslettersCookie(),removeVocUserInformationCookie(),removeSimpleStorage(),removeResendMailVerficationCookie(),removeFromQualifioCookie(),gigya.accounts.logout(e),!1}function resetPassword(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("resetPassword => reset password correcto","info"),authenticated=!1,user=null,registerUI()}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return removeCookies(),removeSimpleStorage(),clearFieldReturnUrlInCookieVocUser(),gigya.accounts.resetPassword(e),!1}function switchScreen(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("accounts.switchScreen =>  Cambio Screen correcto","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.switchScreen(e),!1}function hideScreenSet(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("accounts.hideScreenSet =>  Ocultar Screen correcto","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.hideScreenSet(e),!1}function resendVerificationCode(a){a=a?a:{},a.forceProvidersLogout=a.forceProvidersLogout?a.forceProvidersLogout:options.forceProvidersLogout,a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("accounts.resendVerificationCode => resendVerificationCode correcto","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.resendVerificationCode(e),!1}function removeSimpleStorage(){var a=account;"undefined"!=typeof a&&a||(a=user),"undefined"!=typeof simpleStorageDependency&&simpleStorageDependency&&("undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID&&(simpleStorageDependency.set("products."+a.UID,""),simpleStorageDependency.set("trials."+a.UID,""),simpleStorageDependency.deleteKey("products."+a.UID),simpleStorageDependency.deleteKey("trials."+a.UID)),simpleStorageDependency.set("busSynchronizeFlushed",""),simpleStorageDependency.set("listRegisteredFlushed",""),simpleStorageDependency.set("verifyUniqueNicknameFlushed",""),simpleStorageDependency.deleteKey("busSynchronizeFlushed"),simpleStorageDependency.deleteKey("listRegisteredFlushed"),simpleStorageDependency.deleteKey("verifyUniqueNicknameFlushed"))}function socialLogin(a){log("socialLogin => ("+a.provider+") llamado ...","info"),a.provider=a.provider?a.provider:"no provider",a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();
var b={callback:a.callback},c={callback:function(a){setTimeout(function(){for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onSocialLoginHandler,a)},250)}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.socialLogin(e),!1}function screenSetIsBanned(a){var b=!1;if("undefined"!=typeof a&&a&&"undefined"!==options.bannedScreenSets&&options.bannedScreenSets&&options.bannedScreenSets.length){var c=options.bannedScreenSets.length,d=0;do a===options.bannedScreenSets[d]&&(b=!0),d+=1;while(c>d&&!1===b)}return b}function onScreenSubmitScrollToFirstError(){var a=$(".gigya-input-submit");a.click(function(){setTimeout(function(){var a=$('[class*="gigya-error-code"]:first');if("undefined"!=typeof a&&a&&a.length){var b=0,c=a.offset().top,d=$("#header"),e=0;"undefined"!=typeof d.offset&&d.offset()&&"undefined"!=typeof d.offset().top&&(e=d.offset().top),b=c-e-1;var f=$('[class*="gigya-error-code"]:first').prevAll("input");if(("undefined"==typeof f||!f||f.length<=0)&&(f=$('[class*="gigya-error-code"]:first').prevAll().find("input")),"undefined"!=typeof f&&f&&f.length){var g=f.offset().top;b=g-e-1}$("html, body").animate({scrollTop:b},200);var h=$("form:visible input[type=submit]");"undefined"!=typeof h&&h&&h.length&&h.val("Corrige los errores")}},100)})}function setButtonMessage(a,b,c,d){a="undefined"!=typeof a?a:!1,b="undefined"!=typeof b?b:!1,c="undefined"!=typeof c?c:!0,d="undefined"!=typeof d?d:!1;var e="";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var f=protectedFunctions.findFieldInScreen(a,b);f&&(e=f.parents("form:visible").find("input[type=submit]"))}else a||b||(e=$("form:visible input[type=submit]"));if("undefined"!=typeof e&&e&&""!==e)if(c)e.val("Corrige los errores");else if(!c){var g="Cambiar Contrase"+userUtils.UnicodeToChar("n")+"a";d&&(g=d),e.val(g)}}function hideError(a,b){$(a).removeClass("gigya-error"),$(a).removeClass("gigya-error-msg gigya-error-msg-active"),$(b).html("").hide()}function onScreenSubmitChangeSubmitButtonText(a){setTimeout(function(){var b=$('[class*="gigya-error-code"]');if(0===b.length)switch(a.screen){case options.screenName.login:setButtonMessage(!1,!1,!1,"Inicia sesi"+userUtils.UnicodeToChar("o")+"n");break;case options.screenName.formulario:setButtonMessage(!1,!1,!1,"Registrarme");break;case options.screenName.additionalData:$("form:visible").find(".gigya-error").removeClass("gigya-error"),setButtonMessage(!1,!1,!1,"Completar informaci"+userUtils.UnicodeToChar("o")+"n")}b.length>0&&setButtonMessage(),a.screen!==options.screenName.cambiar||a.isValid?a.screen===options.screenName.cambiar&&a.isValid&&setButtonMessage(a.field,a,!1):setButtonMessage(a.field,a),a.screen===options.screenName.reenviar&&a.isValid&&(hideError("#"+a.screen+' input[name="email"]',"#"+a.screen+' span[data-bound-to="email"]'),setButtonMessage(a.field,a,!1,"Reenviar email"))},100)}function showAllErrorsOnFieldTab(){setTimeout(function(){var a=$('[class*="gigya-error-code"]');"undefined"!=typeof a&&a&&a.length&&a.show()},100)}function validateZipNumberAndGetData(a){var b=!1;return"undefined"!=typeof a&&a&&(b=$.ajax({url:options.urlPostalCode,data:{filters:"ge_codpostal:"+a,output:"ge_municipio,ge_provincia,ge_localidad"},contentType:"application/json",dataType:"jsonp",success:function(a){},error:function(a){}})),b}function addDataValidation(a){"undefined"!=typeof a&&a&&(dataValidationZipObject=a)}function dataValidation(){return dataValidationZipObject}function showScreenSet(a){log("showScreenSet => ("+a.startScreen+") llamado ...","info"),a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={onError:a.onError,onBeforeScreenLoad:a.onBeforeScreenLoad,onAfterScreenLoad:a.onAfterScreenLoad,onFieldChanged:a.onFieldChanged,onBeforeSubmit:a.onBeforeSubmit,onAfterSubmit:a.onAfterSubmit,onHide:a.onHide,onBeforeValidation:a.onBeforeValidation},c={onError:function(a){"undefined"!=typeof a.screen&&$("form."+a.form+":visible #vocento-error-msg").html(translateError(a));for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onErrorHandler,a);fireEvent("showScreenSet"+eventSeparator+"onError",a)},onBeforeScreenLoad:function(a){!0===options.captcha.isVisible&&($(".pls-container").remove(),captcha=void 0,$("#g-recaptcha").hide(),$("#g-recaptcha-login").hide(),loginAttemps=0);for(var b=0;b<flows.length;b++)if(safeInvoke(flows[b].screenSetHandlers.onBeforeScreenLoadHandler,a)===!1)return fireEvent("showScreenSet"+eventSeparator+"onBeforeScreenLoad",a),!1;fireEvent("showScreenSet"+eventSeparator+"onBeforeScreenLoad",a)},onAfterScreenLoad:function(a){!0===options.captcha.isVisible&&("gigya-register-screen"===a.currentScreen||"gigya-quick-register-screen"===a.currentScreen)&&($("#g-recaptcha").show(),captcha=grecaptcha.render("g-recaptcha",{sitekey:"6LdmZgYTAAAAADQC06sXwn22WX7n0s4Nc1cuj-v7",callback:captchaVerifyCallback}));var b=$("input[placeholder]:visible");"undefined"!=typeof b&&b&&"undefined"!=typeof b.placeholder&&b.placeholder&&$("input[placeholder]:visible").placeholder();for(var c=0;c<flows.length;c++){var d=flows[c].getInsertCustomField().externalFieldsSection;"undefined"!=typeof d&&rellenarCamposExternos(d,options.ssoGroup,a),safeInvoke(flows[c].screenSetHandlers.onAfterScreenLoadHandler,a)}fireEvent("showScreenSet"+eventSeparator+"onAfterScreenLoad",a),a.currentScreen===options.screenName.autologin&&eventLastActionBeforeRedirect.resolve()},onFieldChanged:function(a){for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onFieldChangedHandler,a);fireEvent("showScreenSet"+eventSeparator+"onFieldChanged",a)},onBeforeValidation:function(a){options.sectionsWithExternalFields.length>0&&$.each(options.sectionsWithExternalFields,function(a,b){var c=$("form:visible [vocento-name="+b+"]");userUtils.customValidation.validateField(c)});for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onBeforeValidationHandler,a);fireEvent("showScreenSet"+eventSeparator+"onBeforeValidation",a)},onBeforeSubmit:function(a){var b=$("form."+a.form+":visible input[type=submit]");if("undefined"==typeof b.data("originalValue")&&b.data("originalValue",b.val()),b.val("Validando datos"),"gigya-register-screen"===a.screen){var c=isValidMail(a);if(!1===c)return fireEvent("showScreenSet"+eventSeparator+"onBeforeSubmit",a),!1}if(a.form&&(userUtils.customValidation.setUser(user),userUtils.customValidation.setAccount(account),log("screenSetHandlers => Validando formulario "+a.screen+" -> "+a.form,"info"),userUtils.customValidation.validateForm(a.form,captcha)===!1))return fireEvent("showScreenSet"+eventSeparator+"onBeforeSubmit",a),!1;for(var d=0;d<flows.length;d++)if(safeInvoke(flows[d].screenSetHandlers.onBeforeSubmitHandler,a)===!1)return fireEvent("showScreenSet"+eventSeparator+"onBeforeSubmit",a),!1;fireEvent("showScreenSet"+eventSeparator+"onBeforeSubmit",a)},onAfterSubmit:function(a){if(protectedFunctions.compareGigyaErrorCode(a.response.errorCode,"206002")||protectedFunctions.compareGigyaErrorCode(a.response.errorCode,0))for(var b=0;b<options.sectionsWithExternalFields.length;b++)setSeccionesDeCamposExternos();!0===options.captcha.isVisible&&("gigya-login-screen"===a.screen&&"FAIL"===a.response.status?(loginAttemps+=1,loginAttemps>=options.captcha.loginAttemps&&("undefined"==typeof captcha?($("#g-recaptcha-login").show(),captcha=grecaptcha.render("g-recaptcha-login",{sitekey:"6LdmZgYTAAAAADQC06sXwn22WX7n0s4Nc1cuj-v7",callback:captchaVerifyCallback})):(!0===$.browser.mozilla?resetCaptchaFirefox("g-recaptcha-login"):grecaptcha.reset(captcha),$("#vocento-error-captcha-msg").hide()))):"gigya-register-screen"!==a.screen&&"gigya-quick-register-screen"!==a.screen||"FAIL"!==a.response.status||(!0===$.browser.mozilla?resetCaptchaFirefox("g-recaptcha"):grecaptcha.reset(captcha),$("#vocento-error-captcha-msg").hide())),a.screen===options.screenName.registration&&options.autoVerifyUser&&protectedFunctions.compareGigyaErrorCode(a.response.errorCode,"206002")&&verifyUser(a);for(var c=0;c<flows.length;c++)safeInvoke(flows[c].screenSetHandlers.onAfterSubmitHandler,a);if(!0===options.updateSelligentCommunications&&""===options.envVoccore&&("gigya-register-screen"===a.screen||"gigya-complete-registration-screen"===a.screen)&&(protectedFunctions.compareGigyaErrorCode(a.response.errorCode,"206002")||protectedFunctions.compareGigyaErrorCode(a.response.errorCode,0))){var d=options.authServerVocCore+"/vocuser/v1/user/communication/selligent/add",e={UID:a.response.UID,data:{communications:a.response.data.communications}};try{$.ajax({url:d,type:"POST",data:JSON.stringify(e),async:!0,dataType:"json",success:function(a){log("updateSelligentCommunications => comunicaciones grabadas correctamente.","info")},error:function(a){log("updateSelligentCommunications => error al grabar las comunicaciones.","error")}})}catch(f){}}fireEvent("showScreenSet"+eventSeparator+"onAfterSubmit",a),eventLastActionBeforeRedirect.resolve()},onHide:function(a){userUtils.insertCustomFields.removeHTML();for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onHideHandler,a);protectedFunctions.removeParentDiv("gigya-screen-dialog","",options.parentDivClass),fireEvent("showScreenSet"+eventSeparator+"onHide",a)}},d={onError:function(a){c.onError(a),safeInvoke(b.onError,a)},onBeforeScreenLoad:function(a){return c.onBeforeScreenLoad(a)===!1||safeInvoke(b.onBeforeScreenLoad,a)===!1?!1:void 0},onAfterScreenLoad:function(a){c.onAfterScreenLoad(a),safeInvoke(b.onAfterScreenLoad,a)},onFieldChanged:function(a){c.onFieldChanged(a),safeInvoke(b.onFieldChanged,a)},onBeforeSubmit:function(a){return c.onBeforeSubmit(a)===!1||safeInvoke(b.onBeforeSubmit,a)===!1?!1:void 0},onBeforeValidation:function(a){c.onBeforeValidation(a),safeInvoke(b.onBeforeValidation,a)},onAfterSubmit:function(a){c.onAfterSubmit(a),safeInvoke(b.onAfterSubmit,a)},onHide:function(a){c.onHide(a),safeInvoke(b.onHide,a)}},e=screenSetIsBanned(a.screenSet);if("undefined"==typeof e||e!==!0){var f=$.extend(a,d);gigya.accounts.showScreenSet(f)}return!1}function showScreen(a,b,c){var d=options.screenSet.web.auth,e=options.screenSet.mobile.auth;return"undefined"!=typeof b&&b&&(d=b),"undefined"!=typeof c&&c&&(e=c),showScreenSet({screenSet:d,mobileScreenSet:e,startScreen:a,containerID:options.containerID}),!1}function getNewslettersFieldsChecked(){var a=!1,b=$('form:visible [vocento-name^="newsletter-"]').get(),c="";return b.length>0&&$.each(b,function(b,d){var e=$(d);e&&e.is(":checked")&&(c=e.attr("vocento-name").replace("newsletter-",""),c&&""!==c&&(setNewslettersChecksBox(c),a=!0))}),a}function getSectionsWithExternalFields(){return options.sectionsWithExternalFields}function setSeccionesDeCamposExternos(){options.sectionsWithExternalFields=[];for(var a=0;a<flows.length;a++){var b=flows[a].getInsertCustomField().externalFieldsSection;if("undefined"!=typeof b)for(var c in b){for(var d=b[c],e={name:c,fields:[]},f=0;f<d.length;f++){var g={name:d[f],value:$("form:visible [vocento-name="+d[f]+"]").val()};e.fields.push(g)}options.sectionsWithExternalFields.push(e)}}}function getUidUsuarioGigya(a){var b=null;return"undefined"!=typeof a.response.UID?b=a.response.UID:user&&"undefined"!=typeof user.UID&&(b=user.UID),b}function rellenarCamposExternos(a,b,c){var d=getUidUsuarioGigya(c);for(var e in a){var f=buscarCampoEnMongoDeUsuario(b,d,e),g=f.result.fields[0];if("No se han encontrado campos con las caracteristicas pedidas"!==f.msg)for(var h=0;h<g.fieldData.length;h++)$("form:visible [vocento-name="+g.fieldData[h].name+"]").val(g.fieldData[h].value)}}function buscarCampoEnMongoDeUsuario(a,b,c){var d;if("undefined"!=typeof a&&null!==b&&"undefined"!=typeof c){var e={sso:a,uid:b,section:c};d=llamadaApiMongo(options.url_busqueda_mongo,JSON.stringify(e),!1)}return d}function modificarNuevoCampoExterno(a,b,c,d){var e,f=getUidUsuarioGigya(d),g=buscarCampoEnMongoDeUsuario(b,f,a.name);g&&"No se han encontrado campos con las caracteristicas pedidas"!==g.msg?(e=generacionJsonParaApiMongo(a,b,c,f,d),llamadaApiMongo(options.url_edicion_mongo,JSON.stringify(e),!0)):(e=generacionJsonParaApiMongo(a,b,c,f,d),llamadaApiMongo(options.url_creacion_mongo,JSON.stringify(e),!0))}function generacionJsonParaApiMongo(a,b,c,d,e){for(var f=e.profile.email,g=encodeURIComponent(d),h=[],i=0;i<a.fields.length;i++){var j={name:a.fields[i].name,value:a.fields[i].value};h.push(j)}var k={field:{sso:b,uid:d,uidSafeEncoded:g,email:f,service:c,section:a.name,fieldData:h}};return"undefined"!=typeof e.response.UIDSignature&&e.response.UIDSignature&&(k.field.uidSignature=encodeURIComponent(e.response.UIDSignature)),"undefined"!=typeof e.response.signatureTimestamp&&e.response.signatureTimestamp&&(k.field.signatureTimestamp=encodeURIComponent(e.response.signatureTimestamp)),"undefined"!=typeof e.response.regToken&&e.response.regToken&&(k.field.regToken=encodeURIComponent(e.response.regToken)),k}function llamadaApiMongo(a,b,c){var d;return $.ajax({url:a,type:"POST",data:b,async:c,dataType:"json",success:function(a){d=a},error:function(a){d=a,log("MongoApi:: Llamada a la api ajax errónea.","error")}}),d}function serviceCall(a,b){var c=!1,d="undefined"!=typeof b&&b?b:{},e="undefined"!=typeof d.url&&d.url?d.url:"";if("undefined"!=typeof e&&e){var f="undefined"!=typeof d.type&&d.type?d.type:"POST",g="undefined"!=typeof d.async?d.async:!0,h="undefined"!=typeof d.dataType&&d.dataType?d.dataType:"json",i="undefined"!=typeof d.contentType&&d.contentType?d.contentType:"application/json;charset=utf-8",j="undefined"!=typeof d.timeout&&d.timeout?d.timeout:3e3,k="undefined"!=typeof d.withCredentials?d.withCredentials:!1;try{var l=new Promise(function(b,c){var d=new XMLHttpRequest;d.onerror=c,d.onreadystatechange=function(){var a;4===d.readyState&&(a=d.status,200===a?b():(log("The request for "+e+" returned status code: "+a,"warn"),b()))},d.ontimeout=function(){log("The request for "+e+" timed out more than: "+j+" seconds","warn"),b()},d.open(f,e,g),d.withCredentials=k,!0===g&&(d.timeout=j,"undefined"!=typeof i&&i&&d.setRequestHeader("Content-Type",i),"undefined"!=typeof h&&h&&(d.responseType=h,d.setRequestHeader("Accept","application/json, text/javascript","text/plain","*/*")));try{d.send(a)}catch(l){log("The request for "+e+" returned error: "+l,"error"),b()}});c=promiseWithTimeout(l,j)}catch(m){log("The request for "+e+" returned error: "+m,"error")}}return c}function getAuthServerSubDomainByProject(a){var b="";return"undefined"!=typeof a&&a&&"undefined"!=typeof a&&a&&"undefined"!=typeof vocServicesSubdomain[a]&&vocServicesSubdomain[a]&&(b=vocServicesSubdomain[a]),b}function getAuthServerEnvironmentPrefixByProject(a){var b="";return"undefined"!=typeof a&&a&&"undefined"!=typeof vocServicesEnvironmentPrefix[a]&&vocServicesEnvironmentPrefix[a]&&"undefined"!=typeof vocServicesEnvironmentPrefix[a][options.currentEnvironment]&&vocServicesEnvironmentPrefix[a][options.currentEnvironment]&&(b=vocServicesEnvironmentPrefix[a][options.currentEnvironment]),b}function getAuthServerSeparatorByProject(a){var b="";return"undefined"!=typeof a&&a&&"undefined"!=typeof vocServicesPrefix[a][options.currentEnvironment]&&vocServicesPrefix[a][options.currentEnvironment]&&(b=vocServicesPrefix[a][options.currentEnvironment]),b}function buildAuthServerUrl(a){var b="";if("undefined"!=typeof a&&a&&"undefined"!=typeof a.serviceProject&&a.serviceProject&&"undefined"!=typeof a.servicePath&&a.servicePath){var c=getAuthServerEnvironmentPrefixByProject(a.serviceProject),d=getAuthServerSubDomainByProject(a.serviceProject),e=getAuthServerSeparatorByProject(a.serviceProject),f="";if("undefined"!=typeof a.authServer&&a.authServer){var g=a.authServer.split("/");f=getDomainTldFromUrl(g.length>1&&"undefined"!=typeof g[2]&&g[2]?g[2]:a.authServer)}else f=getDomainTldFromUrl(window.location.href);b="https://"+c+e+d+"."+f+a.servicePath}return b}function callVocUserService(a,b){var c=!1,d="undefined"!=typeof b&&b?b:{},e="undefined"!=typeof d.servicePath&&d.servicePath?d.servicePath:"";return d.authServer="undefined"!=typeof d.authServer&&d.authServer?d.authServer:"","undefined"!=typeof e&&e&&(d.url=buildAuthServerUrl(d),c=serviceCall(a,d)),c}function callServiceMediaDataTransfer(a,b){var c=!1;if("undefined"!=typeof a&&a){a=JSON.stringify(a);var d="undefined"!=typeof b&&b?b:{},e="POST",f={type:e,async:!0,dataType:"json",withCredentials:!0};f.serviceProject="media-data-transfer-service",f.serviceName="data-transfer",f.servicePath=options.vocServicesPath[f.serviceProject][f.serviceName][e],f=$.extend(!0,f,d),c=callVocUserService(a,f)}return c}function getAllCookiesOriginalContent(){var a=!1,b={};b.cookies=[];var c="",d="";return c=getCookieOriginalContent(QUEID_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:QUEID_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(REG_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:REG_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(UID_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:UID_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(EDITION_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:EDITION_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(NFRYL_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:NFRYL_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(NEWSLETTERS_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:NEWSLETTERS_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(VOCUSER_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:VOCUSER_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(VOCUSER_THANKYOU_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:VOCUSER_THANKYOU_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(AUTO_NEWSLETTERS_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:AUTO_NEWSLETTERS_COOKIE_NAME,value:c}):void 0,b.cookies=protectedFunctions.getPaywallCookiesOriginalContent(b.cookies),a=b.cookies}function sendRequestToServiceMediaDataTransfer(a){var b=!1;if(options.serviceCallToMediaDataTransfer&&"undefined"!=typeof a&&a){var c=getAllCookiesOriginalContent();b=callServiceMediaDataTransfer(c,a)}return b}function handleRedirectOnResponseCallToVocUserService(a,b,c){if("undefined"!=typeof a&&a){var d=function(){redirectToUrl(b,c)},e=function(){d()},f=function(a){d()};a.then(e,f)}}function redirectOnCallVocUserService(a,b){var c=!1;if("undefined"!=typeof a&&a)if("/"!==a){var d=!1,e=window.location.href.split("/");e=getDomainTldFromUrl(e[2]);var f=a.split("/");if(f=getDomainTldFromUrl(f.length>1&&"undefined"!=typeof f[2]&&f[2]?f[2]:f),e!==f){var g={};g.authServer=a,d=sendRequestToServiceMediaDataTransfer(g)}"object"!=typeof d?c=redirectToUrl(a,b):handleRedirectOnResponseCallToVocUserService(d,a,b)}else c=redirectToUrl(a,b);return c}function getRootUrl(){var a=window.location.protocol,b=window.location.host,c=options.domains[options.ssoGroup];return!0===options.enableHttps?a="https:":!1===options.userIsInFlow&&(a="http:"),0===window.location.pathname.indexOf("/app_dev.php/")?a+"//"+b+"/app_dev.php":0===window.location.pathname.indexOf("/app.php/")?a+"//"+b+"/app.php":b.indexOf("srv.vocento.in")>-1?a+"//"+b:a+"//"+options.envFront+"."+c}function getUrlRegisterConfirmationScreen(){return getRootUrl()+options.route.registerConfirmedURL}function getUrlRegisterPendingConfirmationScreen(){return getRootUrl()+options.route.resendMailURL}function getUrlPasswdSendScreen(){return getRootUrl()+options.route.sendedMailURL}function getUrlPasswordChangedScreen(){return getRootUrl()+options.route.passwdchangedURL}function getUrlProfileScreen(){return getRootUrl()+options.route.profileURL}function getUrlInterestsScreen(){return getRootUrl()+options.route.interestURL}function getUrlAdditionalDataScreen(){return getRootUrl()+options.route.loginAdditionalDataURL}function showLoginPage(){var a=getRootUrl()+options.route.loginURL;redirectOnCallVocUserService(a)}function showLoginAdditionalDataPage(){var a=getRootUrl()+options.route.loginAdditionalDataURL;redirectOnCallVocUserService(a)}function showRegisterPage(){var a=getRootUrl()+options.route.registerURL;redirectOnCallVocUserService(a)}function showRecoveryPage(){var a=getRootUrl()+options.route.recoveryURL;redirectOnCallVocUserService(a)}function showProfilePage(){var a=getRootUrl()+options.route.profileURL;redirectOnCallVocUserService(a)}function showInterestsPage(){var a=getRootUrl()+options.route.interestURL;redirectOnCallVocUserService(a)}function showProfileUpdatedPage(){var a=getRootUrl()+options.route.profileUpdatedURL;redirectOnCallVocUserService(a)}function showChangePasswdProfilePage(){var a=getRootUrl()+options.route.changePasswdProfileURL;redirectOnCallVocUserService(a)}function redirectToProfileAreaPersonal(){var a=urlAreaPersonal+"/gestion/mi-cuenta.html";redirectOnCallVocUserService(a)}function showBackPageForBackLink(){if(options.backURL=getNfrylCookie(),"undefined"!=typeof options.backURL&&options.backURL){removeNfrylCookie(),removeFromQualifioCookie();var a=options.backURL;redirectOnCallVocUserService(a)}}function selectPopUpMode(a){var b=options.popUpMode;return"undefined"!=typeof a&&(b=a),b}function showLogin(a,b,c){var d=selectPopUpMode(b),e=options.screenName.login;return"undefined"!=typeof c&&c&&(e=c),"undefined"==typeof d||!0===d?("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet.web.auth,mobileScreenSet:options.screenSet.mobile.auth,startScreen:e,containerID:a})):showLoginPage(),!1}function showRegistration(a,b,c){var d=selectPopUpMode(b),e=options.screenName.registration;return"undefined"!=typeof c&&c&&(e=c),"undefined"==typeof d||!0===d?("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet.web.auth,mobileScreenSet:options.screenSet.mobile.auth,startScreen:e,containerID:a})):showRegisterPage(),!1}function showProfile(a,b,c){var d=selectPopUpMode(b),e=options.screenName.profile;return"undefined"!=typeof c&&c&&(e=c),"undefined"==typeof d||!0===d?("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet.web.profile,mobileScreenSet:options.screenSet.mobile.profile,startScreen:e,containerID:a})):showProfilePage(),!1}function showInterests(a,b,c){var d=selectPopUpMode(b),e=options.screenName.interests;return"undefined"!=typeof c&&c&&(e=c),"undefined"==typeof d||!0===d?("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet.web.profile,mobileScreenSet:options.screenSet.mobile.profile,startScreen:e,containerID:a})):showInterestsPage(),!1}function showChangePasswdProfile(a,b,c){var d=selectPopUpMode(b),e=options.screenName.change;return"undefined"!=typeof c&&c&&(e=c),"undefined"==typeof d||!0===d?("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet.web.profile,mobileScreenSet:options.screenSet.mobile.profile,startScreen:e,containerID:a})):showChangePasswdProfilePage(),!1}function showProfileUpdated(a,b,c){var d=selectPopUpMode(b),e=options.screenName.updated;return"undefined"!=typeof c&&c&&(e=c),"undefined"!=typeof d&&!0!==d?showProfileUpdatedPage():("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet.web.profile,mobileScreenSet:options.screenSet.mobile.profile,startScreen:e,containerID:a}),!1)}function showLoginAdditionalData(a,b,c){var d=selectPopUpMode(b),e=options.screenName.additionalData;return"undefined"!=typeof c&&c&&(e=c),"undefined"!=typeof d&&!0!==d?showLoginAdditionalDataPage():("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet.web.profile,mobileScreenSet:options.screenSet.mobile.profile,startScreen:e,containerID:a}),!1)}function showSocialLoginCheckOut(a,b){return"string"!=typeof a&&(a=""),showScreenSet({screenSet:"ss-checkout",mobileScreenSet:"ss-checkout",startScreen:"gigya-rrss-login-form",containerID:a,onBeforeScreenLoad:b.onBeforeScreenLoad,onAfterScreenLoad:b.onAfterScreenLoad,onAfterSubmit:b.onAfterSubmit}),!1}function isMobile(){var a=!1,b=userUtils.webBrowserDetector();return(b.toLowerCase().indexOf("mobile")>-1||b.toLowerCase().indexOf("iphone")>-1||b.toLowerCase().indexOf("ipod")>-1||b.toLowerCase().indexOf("ipad")>-1||b.toLowerCase().indexOf("android")>-1||b.toLowerCase().indexOf("blackberry")>-1||b.toLowerCase().indexOf("bada")>-1||b.toLowerCase().indexOf("symbian")>-1||b.toLowerCase().indexOf("firefoxos")>-1||b.toLowerCase().indexOf("tizen")>-1||b.toLowerCase().indexOf("-?")>-1)&&(a=!0),a}function bindOnClickEventToDomElement(a,b){var c=!1;return"undefined"!=typeof a&&a&&a.length&&(a.unbind(),a.off("click"),a.off("touchstart"),a.click(b),!0===isMobile()&&a.bind("touchstart",b),c=!0),c}function bindOnClickEventToDomElementName(a,b){var c=!1;if("undefined"!=typeof a&&a){var d=$(a);"undefined"!=typeof d&&d&&d.length&&(d.unbind(),d.off("click"),d.off("touchstart")),$(document).on("click",a,function(a){a.stopPropagation(),a.stopImmediatePropagation(),b()}),!0===isMobile()&&$(document).on("touchstart",a,function(a){a.stopPropagation(),a.stopImmediatePropagation(),b()}),c=!0}return c}function bindOnClickEventToLogin(){function a(){showLogin("",options.popUpMode,"")}var b="";b=options.loginLinkSelector,bindOnClickEventToDomElementName(b,a)}function bindOnClickEventToLogout(){function a(){logout()}var b="";b=options.logoutLinkSelector,bindOnClickEventToDomElementName(b,a)}function registerUI(){function a(){showRegistration("",options.popUpMode,"")}function b(){showRecoveryPage()}function c(){showBackPageForBackLink()}function d(){showProfile("",options.popUpModeProfile,options.screenName.perfil)}function e(){redirectToProfileAreaPersonal()}function f(){showInterests("",options.popUpModeProfile,options.screenName.intereses)}function g(){showChangePasswdProfile("",options.popUpModeProfile,options.screenName.change)}var h="";bindOnClickEventToLogin(),h=options.registrationLinkSelector,bindOnClickEventToDomElementName(h,a),h=options.recoveryLinkSelector,bindOnClickEventToDomElementName(h,b),h=options.backLinkSelector,bindOnClickEventToDomElementName(h,c),h=options.profileLinkSelector,bindOnClickEventToDomElementName(h,d),h=options.profileAreaPersonalLinkSelector,bindOnClickEventToDomElementName(h,e),h=options.profileInterestsLinkSelector,bindOnClickEventToDomElementName(h,f),h=options.profileChangePasswdLinkSelector,bindOnClickEventToDomElementName(h,g),bindOnClickEventToLogout(),authenticated?($(options.loggedOutSelector).hide(),$(options.userFirstNameSelector).text("undefined"!=typeof user.firstName&&user.firstName?user.firstName:user.nickname),$(options.userLastNameSelector).text("undefined"!=typeof user.lastName&&user.lastName?user.lastName:user.nickname),$(options.userEmailSelector).text("undefined"!=typeof user.email&&user.email?user.email:""),user.thumbnailURL?$(options.userThumbnailSelector).attr("src",user.thumbnailURL).show():$(options.userThumbnailSelector).hide(),$(options.loggedInSelector).show(),fireEvent("registerUI"+eventSeparator+"loggedIn",user)):($(options.loggedInSelector).hide(),$(options.loggedOutSelector).show(),fireEvent("registerUI"+eventSeparator+"loggedOut"))}function getUserSignature(a,b){if("undefined"==typeof b)var b=!0;var c="";return"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.paywall&&a.data.paywall&&"undefined"!=typeof a.data.paywall.userId&&a.data.paywall.userId&&(c=b?encodeURIComponent(a.data.paywall.userId):a.data.paywall.userId),{UID:b?encodeURIComponent(a.UID):a.UID,UIDSignature:b?encodeURIComponent(a.UIDSignature):a.UIDSignature,signatureTimestamp:b?encodeURIComponent(a.signatureTimestamp):a.signatureTimestamp,evolokId:c}}function redirectToUrl(a,b){var c=!1;return"undefined"!=typeof a&&a&&("undefined"!=typeof b&&b>=1?setTimeout(function(){window.location.href=a},b):window.location.href=a,c=!0),c}function redirectToBackUrl(a){var b=!1;return b=redirectToUrl(options.backURL,a)}function fireEventRedirectToBackUrlOnLogin(a){var b=!1;if("undefined"!=typeof options.enableRedirect&&options.enableRedirect){var c={};"undefined"!=typeof a&&a&&(c.timeoutMiliseconds=a),eventRedirectToBackUrlOnLogin.resolve(c),b=!0}return b}function redirectToBackUrlOnLogin(){var a=!1;return a=$.when(eventAccountsOnLogin,eventSocializeOnLogin,eventRedirectToBackUrlOnLogin,eventLastActionBeforeRedirect).done(function(a,b,c,d){var e=0;"undefined"!=typeof c&&c&&"undefined"!=typeof c.timeoutMiliseconds&&c.timeoutMiliseconds&&(e=c.timeoutMiliseconds),redirectOnCallVocUserService(options.backURL,e)})}function userDataReady(){var a=!1;return a=$.when(eventGetUserInfo,eventGetAccountInfo).done(function(a,b){var c={responseGetUserInfo:a,responseGetAccountInfo:b};voontoPromised("userdata",c,voontoApp)})}function updateLastestBackUrlWithUserFieldReturnUrlOnFirstLogin(){var a=!1;return"undefined"!=typeof account&&account&&"undefined"!=typeof account.data&&account.data&&"undefined"!=typeof account.data.registration&&account.data.registration&&("undefined"!=typeof account.data.registration.url&&account.data.registration.url&&(a=account.data.registration.url),"undefined"!=typeof account.data.registration.returnUrl&&account.data.registration.returnUrl&&(a=account.data.registration.returnUrl)),a&&(options.backURL=a),a}function updateLastestBackUrl(a){var b=!1;return"undefined"!=typeof a&&a&&(options.backURL=a,b=!0),b}function updateLastestBackUrlWithUserFieldReturnUrl(){var a=!1;if(!0===isFirstLogin())a=updateLastestBackUrlWithUserFieldReturnUrlOnFirstLogin();else{var b=getCookieVocUserInformation("returnUrl");a=updateLastestBackUrl(b)}return a}function updateReturnUrlTimeout(){var a=0;return!0===isFirstLogin()||(a=getCookieVocUserInformation("returnUrlTimeout")),a}function reloadOnLoginForEcommerce(){var a=gigyaCnameSetSsoToken();if("undefined"==typeof a||!1===a)if("undefined"!=typeof options.popUpMode&&!1===options.popUpMode){if("undefined"!=typeof options.enableRedirect&&options.enableRedirect){updateLastestBackUrlWithUserFieldReturnUrl();var b=updateReturnUrlTimeout();fireEventRedirectToBackUrlOnLogin(b)}}else options.reloadOnLogin&&userUtils.reload()}function showLoadingSpinner(){var a=!1,b=$("#vocuser-loading-indicator");return"undefined"!=typeof b&&b&&b.length&&(b.css("display","flex"),b.show(),a=!0),a}function getUserTypeFromCookieOrSimpleStorage(a){var b="anonimo",c="";if(c="undefined"!=typeof a&&a?"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.account&&a.gigya_event.account?a.gigya_event.account.UID:"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.UID&&a.gigya_event.UID?a.gigya_event.UID:"undefined"!=typeof a.response&&a.response&&"undefined"!=typeof a.response.account&&a.response.account?a.response.account.UID:"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.e&&a.gigya_event.e&&"undefined"!=typeof a.gigya_event.e.UID&&a.gigya_event.e.UID?a.gigya_event.e.UID:vocUserGetData("uid"):vocUserGetData("uid"),"undefined"!=typeof c&&c&&(b="registrado"),options.hasEcommerce){var d=protectedFunctions.getVocPaywallCookie();if("undefined"!=typeof d&&d&&"undefined"!=typeof d.vocUserType&&d.vocUserType)b=d.vocUserType;else if("undefined"!=typeof c&&c){var e=getProducts(c);if("undefined"!=typeof e&&e&&e.length){var f=protectedFunctions.getSuscriptionsFromProducts(e),g=protectedFunctions.getTrialsFromProducts(e);b=f.length?"suscriptor":g.length?"trial":"registrado"}else log("getUserType => Información: El usuario actual no tiene productos.","info")}}else log("getUserType => El medio no tiene ecommerce activado: hasEcommerce = false","info");return b}function getUserType(){var a="anonimo",b="",c=protectedFunctions.getVocPaywallCookie();if("undefined"!=typeof c&&c&&"undefined"!=typeof c.vocUserType&&c.vocUserType)a=c.vocUserType;else if("function"==typeof vocUserGetData&&(b=vocUserGetData("uid")),"undefined"!=typeof b&&b||"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID&&(b=account.UID),"undefined"!=typeof b&&b||"undefined"!=typeof user&&user&&"undefined"!=typeof user.UID&&user.UID&&(b=user.UID),"undefined"!=typeof b&&b){"undefined"!=typeof account&&account||(account={
UID:b});var d={gigya_event:account};a=getUserTypeFromCookieOrSimpleStorage(d)}else log("getUserType => Error: No se ha encontrado el UID del usuario.","info");return a}function getVocEdition(){var a=null;try{a=$.cookie(EDITION_COOKIE_NAME)}catch(b){}return"undefined"!=typeof a&&a||"undefined"!=typeof window.vocento&&window.vocento&&"undefined"!=typeof window.vocento.site&&window.vocento.site&&"undefined"!=typeof window.vocento.site.editions&&window.vocento.site.editions&&"undefined"!=typeof window.vocento.site.editions.current&&window.vocento.site.editions.current&&(a=window.vocento.site.editions.current),a}function getDomainForSsoGroup(a){var b="";if("undefined"!=typeof a&&a){var c=domains[a];"undefined"!=typeof c&&c&&(c=c.split("."),c=c[0],b=c)}return b}function getAreaPersonalDomain(a){var b="javascript:void(0)",c=window.location.host;return c="undefined"!=typeof a&&a?a:c,b="https://areapersonal."+domains[options.ssoGroup],(/^des/.test(c)||/^areapersonal-des/.test(c)||/^areapersonalm-des/.test(c)||/^local/.test(c)||/^deshared/.test(c))&&(b="https://areapersonal-des."+domains[options.ssoGroup]),(/^integracion/.test(c)||/^pre/.test(c)||/^areapersonal-pre/.test(c)||/^areapersonalm-pre/.test(c))&&(b="https://areapersonal-predes."+domains[options.ssoGroup]),b}function isSiteAreaPersonal(){var a=!1;return(/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host)||/^areapersonal/.test(window.location.host))&&(a=!0),a}function initAreaPersonalPageRouting(){var a=getAreaPersonalDomain(window.location.host),b="undefined"!=typeof options.route.personalAreaSuscriptionSectionURL&&options.route.personalAreaSuscriptionSectionURL?options.route.personalAreaSuscriptionSectionURL:"",c="undefined"!=typeof options.route.personalAreaCheckoutSectionURL&&options.route.personalAreaCheckoutSectionURL?options.route.personalAreaCheckoutSectionURL:"";options.page.areaPersonalSuscriptionPathname=a+b,options.page.areaPersonalCheckoutPathname=a+c}function getSubdomainContenidoExtra(){var a="www";return/^new-www/.test(window.location.host)&&(a="new-www"),(/^integracion/.test(window.location.host)||/^pre/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host))&&(a="pre-www"),(/^des/.test(window.location.host)||/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host))&&(a="des-www"),a}function getFieldValueFromUserInfo(a,b){var c=!1;return isVarNotNull(a)&&isVarNotNull(b)&&(isVarNotNull(a[b])?c=a[b]:isVarNotNull(a.profile)&&isVarNotNull(a.profile[b])&&(c=a.profile[b])),c}function buildGenderWelcomeText(a){var b=!1;return isVarNotNull(a)&&(b="f"===a?"Bienvenida":"Bienvenido"),b}function buildFirstNameText(a){var b="##nombre##";return isVarNotNull(a)&&(b=a),b}function buildUserNameText(a){var b="";if(isVarNotNull(a)){var c=getFieldValueFromUserInfo(a,"firstName"),d=getFieldValueFromUserInfo(a,"lastName"),e=getFieldValueFromUserInfo(a,"nickname");isVarNotNull(c)&&(b=c),isVarNotNull(d)&&(b=b+" "+d),isVarNotNull(b)===!1&&(b=e)}return b}function getUserInfoFromAccountOrUser(){var a={};return isVarNotNull(account)&&isVarNotNull(account.profile)?a=account:isVarNotNull(user)&&(a=user),a}function insertPictureInDomElement(a,b,c,d){var e=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&options.hasPaywall&&options.hasEcommerce){var f="vocento-login-screen-picture-"+b,g=c,h='<img id="'+f+'" src="'+g+'" />';"undefined"!=typeof d&&d&&(h='<a href="'+d+'">'+h+"</a>");var i=$(a);"undefined"!=typeof i&&i&&i.length&&i.html(h),e=!0}return e}function resetCaptchaFirefox(a){captcha=void 0,$(".pls-container").remove(),$("#"+a).empty(),captcha=grecaptcha.render(a,{sitekey:"6LdmZgYTAAAAADQC06sXwn22WX7n0s4Nc1cuj-v7",callback:captchaVerifyCallback})}function addParentDiv(a,b,c,d){var e=!1;if("undefined"!=typeof a&&a){var f=$("."+a+":visible");if("undefined"!=typeof f&&f&&f.length){var g=f.parents('div[class^="'+c+'"]'),h=!1;if("undefined"!=typeof g&&g&&g.length&&(h=!0),!1===h){var i="";"undefined"!=typeof b&&b&&(i=i+" id='"+b+"' "),"undefined"!=typeof c&&c&&(i=i+" class='"+c+"' "),"undefined"!=typeof d&&d&&(i=i+" "+d+" "),i="<div "+i+"></div>",f.wrap(i)}e=!0}}return e}function removeParentDiv(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e=$("."+a+":visible");if("undefined"!=typeof e&&e){if("undefined"!=typeof b&&b){var f=$("#"+b);"undefined"!=typeof f&&f&&f.length&&f.remove()}if("undefined"!=typeof c&&c){var g=$("."+c);"undefined"!=typeof g&&g&&g.length&&g.remove()}d=!0}}return d}function removeVoidElement(a){var b=!1;if("undefined"!=typeof a&&a){var c="",d=0;if(c=$("."+a),"undefined"!=typeof c&&c&&c.length)for(d=0;d<c.length;d++)("undefined"==typeof c[d].children||!c[d].children||c[d].children.length<=0)&&c[d].remove();if(c=$("#"+a),"undefined"!=typeof c&&c&&c.length)for(d=0;d<c.length;d++)("undefined"==typeof c[d].children||!c[d].children||c[d].children.length<=0)&&c[d].remove()}return b}function addModalClassToScreen(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=$("."+a+":visible");"undefined"!=typeof d&&d&&d.length&&(d.addClass(b),c=!0)}return c}function getEventScreenName(a){var b=!1,c="";return"undefined"!=typeof a&&a&&("string"!==a.nextScreen&&a.nextScreen&&(c=a.nextScreen),"string"!==a.currentScreen&&a.currentScreen&&(c=a.currentScreen),"string"!==a.screen&&a.screen&&(c=a.screen),b=c),b}function findFieldInScreenByName(a,b){var c=!1,d="";return"string"!==b&&b&&"string"!==a&&a&&(d=$("#"+b+'[data-screenset-element-id="'+b+'"] *[name="'+a+'"]:first'),"string"!==d&&d&&0!==d.length||(d=$('[data-screenset-element-id="'+b+'"] *[name="'+a+'"]:first')),"string"!==d&&d&&0!==d.length||(d=$("#"+b+' input[name="'+a+'"]:first')),"string"!==d&&d&&d.length&&(c=d)),c}function getFieldValueInScreenByName(a,b){var c=!1;if("string"!==b&&b&&"string"!==a&&a){var d=findFieldInScreenByName(a,b);"undefined"!=typeof d&&d&&d.length&&(c=d.val())}return c}function findFieldInScreen(a,b){var c=!1;if("undefined"!=typeof b&&b){var d="",e="";d=getEventScreenName(b),"string"!==d&&d&&(e=$("#"+d+'[data-screenset-element-id="'+d+'"] *[name="'+a+'"]:first'),"string"!==e&&e&&0!==e.length||(e=$('[data-screenset-element-id="'+d+'"] *[name="'+a+'"]:first'))),"string"!==e&&e&&e.length&&(c=e)}return c}function scrollScreenToElementPosition(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=getEventScreenName(b);if(!1!==d){var e=findFieldInScreen(a,b),f=$("#header");if(!1!==e&&"undefined"!=typeof f&&f&&f.length){var g=e.offset().top,h=$("#header").offset().top,i=g-h;$("html, body").animate({scrollTop:i},200),c=!0}}}return c}function isValidMail(a){var b=!0,c="email",d=findFieldInScreen(c,a);if(!1!==d){var e=d.val(),f="/verify_unique_email/",g=options.authServer+f;try{$.ajax({url:g+e,type:"GET",async:!1,dataType:"json",success:function(f){if(!1===f.result){var g=getEventScreenName(a);if(!1!==g){var h=$("#"+g),i=h.find(".gigya-error-msg[data-bound-to="+c+"]"),j=window.location.protocol+"//"+window.location.host+options.route.loginURL,k=window.location.protocol+"//"+window.location.host+options.route.recoveryURL,l='<a href="'+j+'"> Iniciar sesi&oacute;n </a>',m='<a href="'+k+'">recordar tu contrase&ntilde;a </a>',n="El correo electr&oacute;nico ya existe, <br />  Te ayudamos a "+m+" o "+l;i.html(n),i.css("visibility","visible"),protectedFunctions.simpleStorageDependency.set("user.email",e,{TTL:3e5}),"undefined"!=typeof d.offset&&d.offset()&&"undefined"!=typeof d.offset().top&&scrollScreenToElementPosition(c,a)}}b=f.result},error:function(a){}})}catch(h){}}if(!1===b){var i=$("form."+a.form+":visible input[type=submit]");i.val("Corrige los errores")}return b}function isVarNotNull(a){var b=!1;return"undefined"!=typeof a&&a&&(b=!0),b}function thirdPartyCookiesBlocked(){var a=!1;return"undefined"!=typeof vocento_cd3&&"0"===vocento_cd3&&(a=!0),a}function gigyaCnameEnable(){var a=!1;return isVarNotNull(options)&&isVarNotNull(options.enableCNAME)&&!0===thirdPartyCookiesBlocked()&&(a=!0,isVarNotNull(gigya)&&isVarNotNull(gigya.thisScript)&&isVarNotNull(gigya.thisScript.globalConf)&&(gigya.thisScript.globalConf.enableSSOToken=options.enableCNAME)),a}function gigyaCnameSetSsoToken(){var a=!1;if(isVarNotNull(options)&&isVarNotNull(options.enableCNAME)){var b=userUtils.webBrowserDetector();if(b.indexOf("Safari")>-1||b.indexOf("Mobile")>-1||b.indexOf("-?")>-1){a=!0;gigya.setSSOToken({redirectURL:window.location.href})}}return a}function getUrlParamValue(a){var b=null;if(!0===isVarNotNull(a)){var c={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,b,d){c[b]=d});!0===isVarNotNull(c)&&"undefined"!=typeof c[a]&&(b=c[a])}return b}function setEmailVerifiedMessage(a){var b=!1,c=window.location.href,d="comun/html/2014/verificacion-email.html";if(c.indexOf(d)>-1){var e=$("#gigya-vocento-container label"),f="Ha habido un error en la verificación de tu correo electrónico, por favor inténtelo más tarde.";if(!0===isVarNotNull(e)&&e.length){var g=[];"undefined"!=typeof a&&a?g[0]="¡Gracias! Tu correo electrónico ha sido verificado.":g[0]="¡Gracias! Tu correo electrónico ha sido verificado y ya puedes iniciar sesión en la web o en la app. Recuerda navegar siempre identificado.",g[403002]="Este enlace ha caducado y tu registro, por seguridad, fue eliminado. Por favor, regístrate de nuevo.",g[400010]="Se ha producido un error en la verificación de la cuenta. Por favor, regístrate de nuevo.",g[400006]="El enlace no es correcto, por favor comprueba que has seleccionado el enlace completo. Si el problema continúa, podamos enviarte un nuevo mail para activar tu cuenta: intenta iniciar sesión y sigue las instrucciones.",g[206005]="¡Gracias! Tu correo electrónico ha sido verificado.";var h=getUrlParamValue("errorCode");!0===isVarNotNull(h)&&"undefined"!=typeof g[h]&&(f=g[h]),e.text(f),b=!0}}return b}function actionsAfterLogin(a){var b=!1,c=setLastLogin({callback:function(){account=a,"undefined"!=typeof user&&user||(user=a)}});return c.then(function(b){return protectedFunctions.evolokIdAndSynchronizeProductsOnLogin(a),"undefined"!=typeof options.hasPaywall&&options.hasPaywall||reloadOnLoginForEcommerce(),options.reloadOnLogin||getAccountInfo({}),!0}),b}function facebookTrackInit(a){var b=!1,c=!1,d="1571136016517980";return"undefined"!=typeof a&&a&&(d=a),"undefined"!=typeof fevents&&!0===fevents&&(c=!0),!function(a,b,c,d,e,f,g){a.fbq||(e=a.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},a._fbq||(a._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],f=b.createElement(c),f.async=!0,f.src=d,g=b.getElementsByTagName(c)[0],g.parentNode.insertBefore(f,g))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),"function"==typeof fbq&&!1===c&&(fbq("init",d),b=!0),b}function facebookTrackEvent(a){var b=!1;return"undefined"!=typeof a&&a&&"function"==typeof fbq&&(fbq("track",a),b=!0),b}function facebookInyectTrackingPixelHtml(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e="",f="1571136016517980";"undefined"!=typeof b&&b&&(f=b);var g=document.createElement("img");g.height="1",g.width="1",g.style="display:none",g.src="https://www.facebook.com/tr?id="+f+"&ev="+a+"&noscript=1";var h=document.createElement("noscript");"undefined"!=typeof h&&h&&(h.appendChild(g),"undefined"!=typeof c&&c?(e=document.getElementById(c),"undefined"!=typeof e&&e||(e=document.body)):e=document.body,e.appendChild(h),d=!0)}return d}function addService(a,b){if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){protectedFunctions.setCurrentService(a),protectedFunctions.checkService(b);var c={e:b,account:account};eventServiceAdd.resolve(c)}}function getGigyaResponse(a){var b=null;return"undefined"!=typeof a&&a&&("undefined"!=typeof a.gigya_event&&a.gigya_event&&(b=a.gigya_event),"undefined"!=typeof a.response&&a.response&&(b=a.response),null===b&&(b=a)),b}function setUserNewslettersByFieldAdsMedia(a){var b=!1;if("undefined"!=typeof a&&a){var c=getGigyaResponse(a),d=!1;if("undefined"!=typeof c.data&&c.data&&"undefined"!=typeof c.data.adsMedia&&(d=c.data.adsMedia),"undefined"!=typeof d&&d){var e={UID:c.UID,UIDSignature:c.UIDSignature,signatureTimestamp:c.signatureTimestamp},f=options.authServerVocCore+"/vocuser/v1/media/newsletter/user/suscribe/byfield/adsmedia";$.ajax({url:f,type:"POST",data:e,async:!0,dataType:"json",success:function(a){b=a},error:function(a){b=a,log("setUserNewslettersByFieldAdsMedia:: Llamada a la api ajax errónea.","error")}})}}return b}function newslettersAutosuscribe(a){var b=options.authServerVocCore+"/vocuser/v1/user/newsletters/autosubscribe";try{"undefined"!=typeof a&&a&&"object"==typeof a&&$.ajax({url:b,type:"POST",data:a,async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(c){}}function updateDeleteUserNotificationFrecuency(a){var b=options.authServerVocCore+"/vocuser/v1/user/notifications_removal_freq/update";if("undefined"!=typeof a.UID&&a.UID&&"undefined"!=typeof a.UIDSignature&&a.UIDSignature&&"undefined"!=typeof a.signatureTimestamp&&a.signatureTimestamp){var c={UID:a.UID,UIDSignature:a.UIDSignature,signatureTimestamp:a.signatureTimestamp,frequency:"weekly"};try{$.ajax({url:b,type:"POST",data:c,async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(d){}}}function createUserInSelligent(a){var b=options.authServerVocCore+"/vocuser/v1/user/selligent/add",c=protectedFunctions.getCookieAutoNewsletters();"undefined"!=typeof a&&a&&(c=a);var d={UID:c};try{""==options.envVoccore&&$.ajax({url:b,type:"POST",data:JSON.stringify(d),async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(e){}}function updateUserCommunicationsInSelligent(){if(""===options.envVoccore){var a=protectedFunctions.getCookieAutoNewsletters(),b={UID:a},c=options.authServerVocCore+"/vocuser/v1/user/selligent/update";try{$.ajax({url:c,type:"POST",data:JSON.stringify(b),async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(d){}}}function compareGigyaErrorCode(a,b){var c=!1;return"undefined"!=typeof a&&"undefined"!=typeof b&&a==b&&(c=!0),c}function hideElement(a){var b=!1;if("undefined"!=typeof a&&a){var c=$(a);"undefined"!=typeof c&&c&&(c.hide(),b=!0)}return b}function showElement(a){var b=!1;if("undefined"!=typeof a&&a){var c=$(a);"undefined"!=typeof c&&c&&(c.show(),b=!0)}return b}function checkUserServiceAlreadyRegistered(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof b[options.ssoGroup]&&b[options.ssoGroup])for(var d=b[options.ssoGroup].split(","),e=0;e<d.length;e++)a===d[e]&&(c=!0);else c=!1;return c}function getCustomerServiceFromCookieAndUpdateOptions(){var a=!1,b=getCookieVocUserInformation("customerService");return"undefined"!=typeof b&&b&&("undefined"!=typeof b.serviceReference&&b.serviceReference&&(options.serviceReference=b.serviceReference),"undefined"!=typeof b&&b&&"undefined"!=typeof b.serviceId&&b.serviceId&&(options.serviceId=b.serviceId.toString(),a=!0)),a}function updateCustomerServiceInCookieVocUser(a,b){var c=!1;if("undefined"!=typeof a&&a){var d={serviceId:a};"undefined"!=typeof b&&b&&(d.serviceReference=b),c=updateFieldInCookieVocUser("customerService",d,!0)}return c}function buildUrlContenidoExtra(a){var b="",c=getSubdomainContenidoExtra(),d="http://"+c+"."+domains[options.ssoGroup];return b="undefined"!=typeof a&&a&&"string"==typeof a?d+"/"+a+"/on-extra/?buscaedicion="+a:d+"/on-extra/"}function buildNavigationListSubMenuContenidoExtraComponent(){var a=!1,b=reactFw.createClass({propTypes:{id:reactFw.PropTypes.string.isRequired,options:reactFw.PropTypes.array.isRequired},getDefaultProps:function(){return{id:"vocUserHeaderMenuNavigationListSubMenuContenidoExtraComponent",options:null,valueField:"value",labelField:"label"}},render:function(){var a=[],b=getSubdomainContenidoExtra(),c="http://"+b+"."+domains[options.ssoGroup],d=protectedFunctions.buildNavigationMenuOption(c+"/on-extra/musica/","Musi-k","Musi-k",options.addSubmenuOptionMusiK),e=protectedFunctions.buildNavigationMenuOption(c+"/on-extra/butaca/","La Butaca","La Butaca",options.addSubmenuOptionLaButaca),f=protectedFunctions.buildNavigationMenuOption(c+"/on-extra/dinero/","Dinero","Dinero",options.addSubmenuOptionDinero),g=protectedFunctions.buildNavigationMenuOption(c+"/on-extra/territorios/","Territorios","Territorios",options.addSubmenuOptionTerritorio),h=protectedFunctions.buildNavigationMenuOption(c+"/on-extra/evasion/","Evasion","Evasion",options.addSubmenuOptionEvasion);"undefined"!=typeof d&&d&&a.push(d),"undefined"!=typeof e&&e&&a.push(e),"undefined"!=typeof f&&f&&a.push(f),"undefined"!=typeof g&&g&&a.push(g),"undefined"!=typeof h&&h&&a.push(h);var i=a,j=[];return j.push(reactFw.createElement("span",{},"Contenido Extra")),j.push(reactFw.createElement("ul",{},reactFw.Children.map(i,function(a,b){return a}))),reactFw.createElement("li",null,reactFw.createElement("h4",null,reactFw.Children.map(j,function(a,b){return a})))}}),c=[{description:"This is option A",code:"a"},{description:"This is option B",code:"b"}],d={id:"vocUserHeaderMenuNavigationListSubMenuContenidoExtraComponent",options:c},e=reactFw.createElement(b,d);return a=e}function setFieldInScreenForm(a,b,c){var d=!1;if("undefined"!=typeof b&&b&&"undefined"!=typeof a&&a){var e=findFieldInScreenByName(a,b);"undefined"!=typeof e&&e&&e.length&&(e.val(c),d=!0)}return d}function initEventListener(a){var b=!1,c=$("body");return"undefined"!=typeof a&&a&&(c=a),b=c}function getMainEventListener(){return mainEventListener}function initEventNamespace(){return eventPrefixNamespace+eventPrefixSeparator+eventProjectNamespace+eventSeparator}function getEventNamespaceForBody(){var a="",b="vocento",c=".",d="gigya",e=".";return a=b+c+d+e}function getEventNamespaceForVoonto(){var a="",b="vocento",c=".",d="vocuser",e=":";return a=b+c+d+e}function getEventNamespace(){return eventNamespace}function getEventSeparator(){return eventSeparator}function createNewParticipation(a,b,c,d,e){var f=options.authServerVocCore+"/vocuser/v1/participants";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof d&&d&&"undefined"!=typeof e&&e){var g={referenceId:a,clientOrigin:"GG",UID:b,email:e,UIDSignature:c,signatureTimestamp:d,status:"finished"};$.ajax({url:f,type:"POST",dataType:"json",data:g,success:function(a){}})}}function getParticipationCount(a,b){var c="",d=options.authServerVocCore+"/vocuser/v1/participants/count/";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var e={referenceId:a,clientOrigin:"GG",UID:b};c=$.ajax({url:d+a+"/GG/"+b,type:"GET",dataType:"json",data:e,success:function(a){},error:function(a,b,c){log("Error "+c)}})}return c}function createAndSendAdditionalDataFilledAndJoinContest(a){var b={},c=protectedFunctions.prepareDataForAdditionalFilledMark(a);return b=protectedFunctions.setAccountInfo({data:c})}function getCookieOriginalContent(a){var b=!1;if(document.cookie.length>0){var c=document.cookie.indexOf(a+"=");if(-1!==c){c=c+a.length+1;var d=document.cookie.indexOf(";",c);-1===d&&(d=document.cookie.length),b=document.cookie.substring(c,d)}}return b}function vocUserGetData(a){var b=$.cookie("voc_uid"),c="",d="";if("undefined"!=typeof b&&b){"undefined"!=typeof gigyaUX&&gigyaUX&&"undefined"!=typeof userUtils&&userUtils&&"undefined"!=typeof userUtils.webBrowserDetector&&(d=userUtils.webBrowserDetector(),(d.indexOf("Safari")>-1||d.indexOf("Mobile")>-1||d.indexOf("-?")>-1)&&(b=decodeURIComponent(b)));var e={cookie:b};c=decodeJsonCookieToObject(e),!1===c&&(c=decodeJsonCookieToObject(e))}return"undefined"==typeof c||"undefined"==typeof a?c:c[a]}function setCookiePureJS(a,b,c,d,e,f){var g,h=!1;if(c){var i=new Date;i.setTime(i.getTime()+24*c*60*60*1e3),g="; expires="+i.toUTCString()}else g="";return!0===f?(document.cookie=a+"="+b+g+"; path="+e+"; domain="+d,h=!0):(null===$.cookie(a)||"undefined"==typeof $.cookie(a))&&(document.cookie=a+"="+b+g+"; path="+e+"; domain="+d,h=!0),h}function getCookiePureJS(a){var b=!1;if(document.cookie.length>0){var c=document.cookie.indexOf(a+"=");if(-1!==c){c=c+a.length+1;var d=document.cookie.indexOf(";",c);-1===d&&(d=document.cookie.length),b=decodeURI(document.cookie.substring(c,d))}}return b}function getProducts(a){return protectedFunctions.getProducts(a)}function flushProducts(a,b){return protectedFunctions.flushProducts(a,b)}function getTrials(a){return protectedFunctions.getTrials(a)}var version=("v3"===vocento.vocuser.VERSION?"3":"4")+".27.0",authenticated=!1,user=null,account=null,eventProductsOnReady=$.Deferred(),eventSetAccountInfoCallback=$.Deferred(),eventCheckService=$.Deferred(),eventServiceAdd=$.Deferred(),eventRedirectToBackUrlOnLogin=$.Deferred(),eventAccountsOnLogin=$.Deferred(),eventSocializeOnLogin=$.Deferred(),eventGetAccountInfo=$.Deferred(),eventGetUserInfo=$.Deferred(),eventLastActionBeforeRedirect=$.Deferred(),eventAdditionalData=$.Deferred(),loginAttemps=0,captcha,options={},isFirstComment=!1,mainEventListener=initEventListener(voontoApp),promiseNamespace=initPromiseNamespace(),eventPrefixNamespace="vocento",eventPrefixSeparator=".",eventProjectNamespace="v3"===vocento.vocuser.VERSION?"gigya":"vocuser",eventSeparator="v3"===vocento.vocuser.VERSION?".":":",eventNamespace=initEventNamespace(),reactFw=initReactFramework(voontoApp),reactDOM=initReactDOMFramework(voontoApp),reactIsLoaded=reactLoaded(),urlAreaPersonal="",simpleStorageDependency=initSimpleStorage(externalDependencies),protectedFunctionsSimpleStorageDependency=getSimpleStorageDependency();userUtils=initUserUtils(userUtils);var log=function(){},safeInvoke=function(){};userUtils.safeInvoke&&(safeInvoke=userUtils.safeInvoke);var getContext=function(){};userUtils.getContext&&(getContext=userUtils.getContext);var translateError=function(){};userUtils.translateError&&(translateError=userUtils.translateError);var enableAdditionalDataPage=!1,additionalDataActivatedBy="",showInterestsFields=!1,showNewslettersFields=!1,additionalManifest={},customInterestsFields={},customNewsLettersFields={},newslettersChecksBox=[],userNewslettersList=[],dataValidationZipObject={},className=getClassName(),QUEID_COOKIE_NAME="queid_log",REG_COOKIE_NAME="registro",UID_COOKIE_NAME="voc_uid",EDITION_COOKIE_NAME="voc_edition",NFRYL_COOKIE_NAME="vocuser_nfryl_volver_al_origen",NEWSLETTERS_COOKIE_NAME="vocuser_arealibre_newsletters",VOCUSER_COOKIE_NAME="vocuser_information",VOCUSER_THANKYOU_COOKIE_NAME="vocuser_user_email",AUTO_NEWSLETTERS_COOKIE_NAME="vocuser_autosuscripcion_newsletters",RESEND_EMAIL_COOKIE_NAME="vocuser_resend_email_verfication",FROM_QUALIFIO_COOKIE_NAME="vocuser_referrer_from_qualifio",flows=[],vocServicesPath={voccore:{crossdomain:{GET:"/vocuser/v1/crossdomain",POST:"/vocuser/v1/crossdomain",UPDATE:"/vocuser/v1/crossdomain",DELETE:"/vocuser/v1/crossdomain",OPTIONS:"/vocuser/v1/crossdomain"}},"media-data-transfer-service":{"data-transfer":{GET:"/media-data-transfer/data-transfer",POST:"/media-data-transfer/data-transfer",UPDATE:"/media-data-transfer/data-transfer",DELETE:"/media-data-transfer/data-transfer",OPTIONS:"/media-data-transfer/data-transfer"}}},vocServicesSubdomain={voccore:"voccore","voccore-sevilla":"voccore-sevilla","media-data-transfer-service":"api"},vocServicesEnvironmentPrefix={voccore:{local:"des",des:"des",dev:"des",pre:"pre",pro:""},"media-data-transfer-service":{local:"des",des:"des",dev:"des",pre:"pre",pro:""}},vocServicesPrefix={voccore:{local:"-",des:"-",dev:"-",pre:"-",pro:""},"voccore-sevilla":{local:"-",des:"-",dev:"-",pre:"-",pro:""},"media-data-transfer-service":{local:"-",des:"-",dev:"-",pre:"-",pro:""}},domains={abc:"abc.es",csvocento:"csvocento.com",sur:"diariosur.es",diariovasco:"diariovasco.com",elcomercio:"elcomercio.es",correo:"elcorreo.com",elcorreo:"elcorreo.com",diariomontanes:"eldiariomontanes.es",nortedecastilla:"elnortedecastilla.es",finanzas:"finanzas.com",grada360:"grada360.com",hoy:"hoy.es",ideal:"ideal.es",larioja:"larioja.com",lasprovincias:"lasprovincias.es",laverdad:"laverdad.es",lavoz:"lavozdigital.es",hoymujer:"mujerhoy.com",leonoticias:"leonoticias.com",surinenglish:"surinenglish.com",eslang:"eslang.es",xlsemanal:"xlsemanal.com",codeanyapp:"diariovasco.com",burgosconecta:"burgosconecta.es"},captchaVerifyCallback=function(a){var b=$("#g-recaptcha").find("iframe"),c=$("#g-recaptcha-login").find("iframe");b.removeAttr("name"),c.removeAttr("name");var d=$("#g-recaptcha").find("textarea"),e=$("#g-recaptcha-login").find("textarea"),f=$("#g-recaptcha-response");f.removeAttr("name"),d.removeAttr("name"),e.removeAttr("name"),$("#vocento-error-captcha-msg").html(""),$("#vocento-error-captcha-msg").removeClass("gigya-error-msg gigya-error-msg-active")},protectedFunctions={showLogin:showLogin,showRegistration:showRegistration,showProfile:showProfile,showChangePasswdProfile:showChangePasswdProfile,showProfileUpdated:showProfileUpdated,logout:logout,showScreenSet:showScreenSet,setAccountInfo:setAccountInfo,socialLogin:socialLogin,safeEncodeUserSignature:safeEncodeUserSignature,setCurrentService:setCurrentService,getCurrentService:getCurrentService,insertPictureInDomElement:insertPictureInDomElement,getDomainForSsoGroup:getDomainForSsoGroup,getAreaPersonalDomain:getAreaPersonalDomain,addParentDiv:addParentDiv,removeParentDiv:removeParentDiv,addModalClassToScreen:addModalClassToScreen,removeSimpleStorage:removeSimpleStorage,findFieldInScreen:findFieldInScreen,removeVoidElement:removeVoidElement,getEventProductsOnReady:function(){return eventProductsOnReady},getAccount:function(){return account},getUser:function(){return user},getReactFramework:function(){return reactFw},getReactDOM:function(){return reactDOM},createCookie:createCookie,fireEvent:fireEvent,getUserSignature:getUserSignature,getUserType:getUserType,checkService:checkService,resetCaptchaFirefox:resetCaptchaFirefox,captchaVerifyCallback:captchaVerifyCallback,getSectionsWithExternalFields:getSectionsWithExternalFields,buscarCampoEnMongoDeUsuario:buscarCampoEnMongoDeUsuario,thirdPartyCookiesBlocked:thirdPartyCookiesBlocked,facebookTrackInit:facebookTrackInit,facebookTrackEvent:facebookTrackEvent,facebookInyectTrackingPixelHtml:facebookInyectTrackingPixelHtml,addService:addService,setUserNewslettersByFieldAdsMedia:setUserNewslettersByFieldAdsMedia,isFirstLogin:isFirstLogin,userCreatedWithinTenMinutes:userCreatedWithinTenMinutes,isSiteAreaPersonal:isSiteAreaPersonal,resendVerificationCode:resendVerificationCode,resetPassword:resetPassword,switchScreen:switchScreen,getNfrylCookie:getNfrylCookie,createCookieForNfryl:createCookieForNfryl,removeNfrylCookie:removeNfrylCookie,findFieldInScreenByName:findFieldInScreenByName,getFieldValueInScreenByName:getFieldValueInScreenByName,hideScreenSet:hideScreenSet,registerUI:registerUI,saveLastServiceInCookieVocUser:saveLastServiceInCookieVocUser,getLastServiceFromVocUserInformationCookie:getLastServiceFromVocUserInformationCookie,onScreenSubmitScrollToFirstError:onScreenSubmitScrollToFirstError,onScreenSubmitChangeSubmitButtonText:onScreenSubmitChangeSubmitButtonText,showAllErrorsOnFieldTab:showAllErrorsOnFieldTab,setButtonMessage:setButtonMessage,showLoadingSpinner:showLoadingSpinner,getUrlRegisterConfirmationScreen:getUrlRegisterConfirmationScreen,getUrlRegisterPendingConfirmationScreen:getUrlRegisterPendingConfirmationScreen,getUrlPasswdSendScreen:getUrlPasswdSendScreen,getUrlPasswordChangedScreen:getUrlPasswordChangedScreen,getUrlInterestsScreen:getUrlInterestsScreen,getUrlProfileScreen:getUrlProfileScreen,createCookieVocUserTemporal:createCookieVocUserTemporal,getCookieVocUserTemporal:getCookieVocUserTemporal,removeCookieVocUserTemporal:removeCookieVocUserTemporal,getDomainTldFromUrl:getDomainTldFromUrl,getSubDomainDomainTldFromUrl:getSubDomainDomainTldFromUrl,createCookieAutoNewsletters:createCookieAutoNewsletters,getCookieAutoNewsletters:getCookieAutoNewsletters,removeAutoNewslettersCookie:removeAutoNewslettersCookie,updateUserCommunicationsInSelligent:updateUserCommunicationsInSelligent,createUserInSelligent:createUserInSelligent,updateDeleteUserNotificationFrecuency:updateDeleteUserNotificationFrecuency,newslettersAutosuscribe:newslettersAutosuscribe,bindOnClickEventToDomElement:bindOnClickEventToDomElement,bindOnClickEventToDomElementName:bindOnClickEventToDomElementName,redirectToUrl:redirectToUrl,redirectToBackUrl:redirectToBackUrl,redirectOnCallVocUserService:redirectOnCallVocUserService,updateLastestBackUrlWithUserFieldReturnUrl:updateLastestBackUrlWithUserFieldReturnUrl,updateReturnUrlInVocUserCookie:updateReturnUrlInVocUserCookie,updateReturnUrlTimeoutInVocUserCookie:updateReturnUrlTimeoutInVocUserCookie,getCookieVocUserInformation:getCookieVocUserInformation,compareGigyaErrorCode:compareGigyaErrorCode,checkUserFlowUrlsContains:checkUserFlowUrlsContains,checkBackUrlCookieContains:checkBackUrlCookieContains,hideElement:hideElement,showElement:showElement,checkUserServiceAlreadyRegistered:checkUserServiceAlreadyRegistered,sendCustomerService:sendCustomerService,getCustomerServiceFromCookieAndUpdateOptions:getCustomerServiceFromCookieAndUpdateOptions,saveLastActionInVocUserCookie:saveLastActionInVocUserCookie,saveExtensionFlowUrlInVocUserCookie:saveExtensionFlowUrlInVocUserCookie,updateCustomerServiceInCookieVocUser:updateCustomerServiceInCookieVocUser,setFieldInScreenForm:setFieldInScreenForm,saveRegTokenOnRegister:saveRegTokenOnRegister,updateFieldInCookieVocUser:updateFieldInCookieVocUser,saveServiceAndServices:saveServiceAndServices,getMainEventListener:getMainEventListener,showLoginAdditionalDataPage:showLoginAdditionalDataPage,getUrlAdditionalDataScreen:getUrlAdditionalDataScreen,checkAdditionalDataFilled:checkAdditionalDataFilled,setAdditionalDataStructure:setAdditionalDataStructure,enableAdditionalData:enableAdditionalData,isActivatedAdditionalData:isActivatedAdditionalData,getEventAdditionalData:getEventAdditionalData,objectHasProperties:objectHasProperties,getValueFromObjectProperties:getValueFromObjectProperties,getInterestsActivationStatus:getInterestsActivationStatus,mustToShowAdditionalDataPage:mustToShowAdditionalDataPage,getAdditionalManifest:getAdditionalManifest,prepareDataForAdditionalFilledMark:prepareDataForAdditionalFilledMark,activateAdditionalData:activateAdditionalData,getDataFromNewsLettersCookie:getDataFromNewsLettersCookie,getNlsFreeZone:getNlsFreeZone,saveNlsOnLogin:saveNlsOnLogin,saveNlsOnRegister:saveNlsOnRegister,createStringResponseForCookie:createStringResponseForCookie,getNewslettersFieldsChecked:getNewslettersFieldsChecked,getNewslettersChecksBox:getNewslettersChecksBox,loadNewslettersListFromResponse:loadNewslettersListFromResponse,validateZipNumberAndGetData:validateZipNumberAndGetData,simpleStorageDependency:protectedFunctionsSimpleStorageDependency,getEventNamespace:getEventNamespace,getEventSeparator:getEventSeparator,addDataValidation:addDataValidation,dataValidation:dataValidation,getResendEmailCookie:getResendEmailCookie,hasToResendEmailCookieFound:hasToResendEmailCookieFound,updateFieldInCookieResend:updateFieldInCookieResend,updateSendedInResendCookie:updateSendedInResendCookie,hasToRemoveCookieResend:hasToRemoveCookieResend,removeResendMailVerficationCookie:removeResendMailVerficationCookie,getGigyaResponse:getGigyaResponse,updateAccountData:updateAccountData,setCookiePureJS:setCookiePureJS,voontoPromised:voontoPromised,getVoontoApp:getVoontoApp,reloadOnLoginForEcommerce:reloadOnLoginForEcommerce,getCookiePureJS:getCookiePureJS,checkPaywallId:function(){},sincronizarLlamadasEcommercePaywall:function(){},getSuscriptionsFromProducts:function(){},getTrialsFromProducts:function(){},evolokIdAndSynchronizeProductsOnLogin:function(){},getVocPaywallCookie:function(){},createCookieEvolok:function(){},removePaywallCookies:function(){},bindOnClickEventToLogin:bindOnClickEventToLogin,bindOnClickEventToLogout:bindOnClickEventToLogout,getFieldValueFromUserInfo:getFieldValueFromUserInfo,isVarNotNull:isVarNotNull,getUserInfoFromAccountOrUser:getUserInfoFromAccountOrUser,
getUserTypeFromCookieOrSimpleStorage:getUserTypeFromCookieOrSimpleStorage,createNewParticipation:createNewParticipation,getParticipationCount:getParticipationCount,createAndSendAdditionalDataFilledAndJoinContest:createAndSendAdditionalDataFilledAndJoinContest,vocUserGetData:vocUserGetData,buildGenderWelcomeText:buildGenderWelcomeText,buildFirstNameText:buildFirstNameText,getSubdomainContenidoExtra:getSubdomainContenidoExtra,getVocEdition:getVocEdition,getDomains:function(){return domains},buildUserNameText:buildUserNameText,deleteCookie:deleteCookie,getCookieOriginalContent:getCookieOriginalContent,removeFromQualifioCookie:removeFromQualifioCookie},objectUnitTesting={getUrlParamValue:getUrlParamValue,getUidUsuarioGigya:getUidUsuarioGigya,checkUserFlowUrlsContains:checkUserFlowUrlsContains,saveRegTokenOnRegister:saveRegTokenOnRegister,saveLastActionInVocUserCookie:saveLastActionInVocUserCookie,saveExtensionFlowUrlInVocUserCookie:saveExtensionFlowUrlInVocUserCookie,init:init,checkUserServiceAlreadyRegistered:checkUserServiceAlreadyRegistered,updateCustomerServiceInCookieVocUser:updateCustomerServiceInCookieVocUser,findFieldInScreenByName:findFieldInScreenByName,getFieldValueInScreenByName:getFieldValueInScreenByName,setFieldInScreenForm:setFieldInScreenForm,getCustomerServiceFromCookieAndUpdateOptions:getCustomerServiceFromCookieAndUpdateOptions,updateFieldInCookieVocUser:updateFieldInCookieVocUser,saveLastServiceInCookieVocUser:saveLastServiceInCookieVocUser,saveServiceAndServices:saveServiceAndServices,initEventListener:initEventListener},publicFunctions={showLogin:showLogin,showRegistration:showRegistration,showProfile:showProfile,getUserType:getUserType,vocUserGetData:vocUserGetData,getAuthServer:getAuthServer,getProducts:getProducts,getTrials:getTrials,flushProducts:flushProducts,showSocialLoginCheckOut:showSocialLoginCheckOut,logout:function(a){return logout(a)},registerFlow:function(a){return registerFlow(a)},init:function(){return init()},version:function(){return version},className:function(){return className},isFirstComment:function(){return isFirstComment},sendCustomerService:sendCustomerService,updateCustomerServiceInCookieVocUser:updateCustomerServiceInCookieVocUser,getObjectUnitTesting:function(){return objectUnitTesting}};return publicFunctions}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.Gigya=vocuser),vocuser}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.baseFlow",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a,b){function c(){return"BaseFlow"}function d(){return{legaltermsLastUpdate:"20130723",screenName:{updateLegalTerms:"gigya-update-legalterms-screen",verifyNickname:"gigya-change-nickname-screen",updateThankyou:"gigya-update-thanks-screen"}}}function e(){var a={fields:{registration_ssoGroup:new b.Row({field:{attr:{type:"hidden",name:"data.registration.ssoGroup",value:"options.ssoGroup"}}}),registration_service:new b.Row({field:{attr:{type:"hidden",name:"data.registration.service",value:"options.service"}}}),registration_domain:new b.Row({field:{attr:{type:"hidden",name:"data.registration.domain",value:"window.location.hostname"}}}),registration_url:new b.Row({field:{attr:{type:"hidden",name:"data.registration.url",value:"window.location.href"}}}),registration_browser:new b.Row({field:{attr:{type:"hidden",name:"data.registration.browserAgent",value:"navigator.userAgent"}}}),registration_nick:new b.Row({field:{attr:{type:"hidden",name:"profile.nickname"}}}),registration_privacy_policy:new b.Row({field:{attr:{type:"hidden",name:"data.registration.privacyPolicy",value:"20161115"}}}),registration_province:new b.Row({field:{attr:{type:"hidden",name:"data.province",value:""}}}),registration_city:new b.Row({field:{attr:{type:"hidden",name:"profile.city",value:""}}}),registration_municipality:new b.Row({field:{attr:{type:"hidden",name:"data.municipality",value:""}}}),legalterms_last_update:new b.Row({field:{attr:{type:"hidden",name:"data.legaltermsLastUpdate",value:"options.legaltermsLastUpdate"}}}),imported:new b.Row({field:{attr:{type:"hidden",name:"data.isImported",value:"false"}}}),province:new b.Row({field:{attr:{type:"text",name:"data.province",value:"",placeholder:"Provincia"}}}),legalterms:new b.Row({field:{attr:{type:"hidden",name:"data.legalterms."+n.ssoGroup,value:"true"}}}),services:new b.Row({field:{attr:{type:"hidden",name:"data.services."+n.ssoGroup,value:"options.service"}}}),adsGroup:new b.Row({field:{displayText:"Deseo recibir noticias de "+n.siteName+", as&iacute; como novedades sobre servicios exclusivos de "+n.siteName+' y su <a target="_blank" href="http://www.vocento.com"><strong>grupo</strong></a>, incluso por v&iacute;a electr&oacute;nica',attr:{type:"checkbox",name:"data.adsGroup",value:"data.adsGroup",onNewValue:"false"}}}),adsThirdparty:new b.Row({field:{displayText:'Deseo recibir novedades y comunicaciones relativas a terceras empresas de <a target="_blank" href="http://www.vocento.com/sectores"><strong>estos sectores</strong></a>, incluso por v&iacute;a electr&oacute;nica',attr:{type:"checkbox",name:"data.adsThirdparty",value:"data.adsThirdparty",onNewValue:"false"}}}),adsMedia:new b.Row({field:{attr:{type:"hidden",name:"data.adsMedia."+n.ssoGroup,value:"data.adsMedia."+n.ssoGroup,onNewValue:"false"}}})},fieldsGroup:{registrationHiddenFields:["registration_ssoGroup","registration_service","registration_domain","registration_url","registration_browser","registration_nick","imported","registration_privacy_policy","legalterms_last_update","registration_city","registration_province","registration_municipality","legalterms","services"],province:["province"],adsFields:["adsGroup","adsMedia","adsThirdparty"],communicationFields:["adsGroup","adsMedia","adsThirdparty"]},screens:{}};return a.screens[n.screenName.registration]=[{group:"registrationHiddenFields",lastRow:!0},{group:"adsFields",elementId:"vocento-div-ads"}],a.screens[n.screenName.completeRegistration]=[{group:"registrationHiddenFields",lastRow:!0},{group:"adsFields",elementId:"vocento-div-ads"}],a.screens[n.screenName.profile]=[{group:"adsFields",elementId:"vocento-div-ads"}],a.screens[n.screenName.additionalData]=[{group:"communicationFields",elementId:"vocento-vocuser-additional-ads-fields"}],a}function f(){return!0}function g(){return{"profile.firstName":b.customValidation._requiredField,"profile.nickname":b.customValidation._requiredField,"profile.zip":b.customValidation._isZip,"profile.lastName":f}}function h(a){var b=document.head,c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=a,b.appendChild(c)}function i(){var b=p.getMainEventListener(),c=p.getEventNamespace(),d=p.getEventSeparator(),e=p.getEventProductsOnReady(),f=a.Deferred();a.when(f).done(function(a){var b=q(),c={},d=p.getNfrylCookie();c.initLoginComplete={url:d,timestamp:b.timestamp},p.setAccountInfo({data:c})}),a.when(e,f).done(function(a,b){if(!0===n.progressiveProfile){var c=p.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&p.showScreenSet({screenSet:n.screenSet.web.profile,mobileScreenSet:n.screenSet.mobile.profile,startScreen:n.screenName.progressiveProfile})}}),b.on(c+"user"+d+"firstLogin",function(a){f.resolve(a)});var g=a.Deferred();a.when(e,g).done(function(a,b){var c=p.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&p.showScreenSet({screenSet:n.screenSet.web.profile,mobileScreenSet:n.screenSet.mobile.profile,startScreen:n.screenName.updateLegalTerms})}),b.on(c+"user"+d+"legaltermsOutOfDate",function(a){g.resolve(a)});var h=a.Deferred();a.when(e,h).done(function(a,b){var c=p.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&p.showScreenSet({screenSet:n.screenSet.web.profile,mobileScreenSet:n.screenSet.mobile.profile,startScreen:n.screenName.verifyNickname})}),b.on(c+"user"+d+"duplicateNickname",function(a){h.resolve(a)});var i=a.Deferred();a.when(e,i).done(function(a,b){var c=p.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&p.showScreenSet({screenSet:n.screenSet.web.profile,mobileScreenSet:n.screenSet.mobile.profile,startScreen:n.screenName.verifyNickname})}),b.on(c+"user"+d+"noNickname",function(a){i.resolve(a)}),b.on(c+"sso"+d+"servicesNotSaved",function(a){o("Defaults => Ejecutando acción de evento (sso servicesNotSaved)");var b=a.gigya_event;"undefined"!=typeof a.service&&a.service&&p.setCurrentService(a.service),p.checkService(b)})}function j(){var b=n.authServerVocCore+"/vocuser/v1/customer-service/device-and-platform";try{a.ajax({url:b,type:"POST",async:!0,dataType:"json",success:function(a){n.device=a.result.device,n.platform=a.result.platform},error:function(a){}})}catch(c){}var d=n.envVoccore.replace(".","-"),e=window.location.protocol+"//"+d+"catalogo.vocento.com/rest/site/siteid",f=p.getNfrylCookie();"undefined"!=typeof f&&f&&"/"!==f||(f=window.location.href),"undefined"!=typeof f&&f&&"/"===f[f.length-1]&&(f=f.substring(0,f.length-1));var g={url:f};try{a.ajax({url:e,type:"POST",data:JSON.stringify(g),async:!0,dataType:"json",success:function(a){n.siteId=""===a.result?n.siteId:a.result},error:function(a){}})}catch(c){}}function k(a,b){var c=!1,d="/comun/vocuser/v3/resources/css",e="vocento.com";switch("abc"===a&&(e="abc.es"),"finanzas"===a&&(e="finanzas.com"),"mujerhoy"===a&&(e="mujerhoy.com"),b){case"des":c="//des-cabeceras."+e+d+"/vocuser-additional-data.css";break;case"pre":c="//pre-cabeceras."+e+d+"/vocuser-additional-data.css";break;case"pro":c="//cabeceras."+e+d+"/vocuser-additional-data.css"}return c}function l(){return{onErrorHandler:function(a){},onBeforeScreenLoadHandler:function(a){if(a.currentScreen===(n.screenName.login||n.screenName.formulario)&&a.nextScreen===n.screenName.completo&&"nortedecastilla"===n.ssoGroup){var b="https://"+window.location.host+"/css/vocuser-additional-data.css",c="",d=window.location.host;/^des-/.test(d)&&(c="des",b=k(n.ssoGroup,c)),/^pre/.test(d)&&(c="pre",b=k(n.ssoGroup,c)),/^www/.test(d)&&(c="pro",b=k(n.ssoGroup,c)),h("https:"+b)}},onAfterScreenLoadHandler:function(b){var c="";if(b.currentScreen===n.screenName.updateLegalTerms&&a('form:visible input[name="data.legaltermsLastUpdate"]').val(n.legaltermsLastUpdate),b.currentScreen===n.screenName.completeRegistration&&(n.saveGigyaCustomerServices&&j(),"undefined"!=typeof b.profile.email&&b.profile.email&&b.profile.email.search("@")>0&&(c=a('form:visible input[name="profile.nickname"]'),c.val(b.profile.email.split("@")[0]+"_"+(new Date).getMilliseconds()+Math.floor(10*Math.random()+1)))),b.currentScreen===n.screenName.profile&&"undefined"!=typeof b.profile.thumbnailURL&&(a(".gigya-photo-upload-image").css("background-image","url("+b.profile.thumbnailURL+")"),a(".gigya-attach-file-upload-form").css("cursor","default"),a(".gigya-attach-file-upload-file-input").css("cursor","pointer")),b.currentScreen===n.screenName.registration){n.saveGigyaCustomerServices&&j(),c=a('form:visible input[name="profile.nickname"]');var d=a('form:visible input[name="email"]').val();c.val(d.split("@")[0]+"_"+(new Date).getMilliseconds()+Math.floor(10*Math.random()+1))}b.currentScreen===n.screenName.verifyNickname&&a("#"+b.currentScreen).find(".gigya-user-name").text("undefined"!=typeof b.profile.firstName&&b.profile.firstName?b.profile.firstName:b.profile.nickname),p.registerUI(),p.onScreenSubmitScrollToFirstError()},onFieldChangedHandler:function(c){var d=a("#"+c.form);if(d="undefined"!=typeof d&&d&&d.length?d.attr("class"):a("."+c.form).attr("class").split(" ")[0],a("form."+d+':visible input[name="data.adsMedia.'+n.ssoGroup+'"]').val(a("form."+d+':visible input[name="data.adsGroup"]').is(":checked")),c.screen===n.screenName.registration&&"email"===c.field&&c.value.search("@")>0){var e=a("form."+d+':visible input[name="profile.nickname"]');e.val(c.value.split("@")[0]+"_"+(new Date).getMilliseconds()+Math.floor(10*Math.random()+1))}if("profile.nickname"===c.field&&c.value){var f=!1;if(f=p.simpleStorageDependency.get("verifyUniqueNicknameFlushed"),"undefined"==typeof f||!0!==f){var g=n.authServer+"/verify_unique_nickname.html?UID="+p.getUser().UID+"&nickname="+encodeURIComponent(c.value)+"&callback=?";a.getJSON(g,function(e){if(e.isValid){var f={nickname:c.value};p.setAccountInfo({profile:f})}else a("form."+d+':visible input[name="profile.nickname"]').val(p.getUser().nickname),b.customValidation.showError(a("form."+d+':visible input[name="profile.nickname"]'),a('[data-bound-to="profile.nickname"]'),'El nickname "'+c.value+'" pertenece a otro usuario')})}}"data.adsGroup"===c.field&&a("form."+d+':visible input[name="data.adsMedia.'+n.ssoGroup+'"]').val(a("form."+d+':visible input[name="data.adsGroup"]').is(":checked")),p.showAllErrorsOnFieldTab(),p.onScreenSubmitChangeSubmitButtonText(c)},onBeforeSubmitHandler:function(a){},onAfterSubmitHandler:function(a){"undefined"!=typeof a.screen&&(p.compareGigyaErrorCode(a.response.errorCode,0)&&(p.saveRegTokenOnRegister(a.response.regToken,a.screen),"gigya-login-screen"===a.screen&&p.removeSimpleStorage(),("gigya-login-screen"===a.screen||"gigya-register-screen"===a.screen||"gigya-complete-registration-screen"===a.screen||"gigya-link-account-screen"===a.screen)&&p.showLoadingSpinner()),p.compareGigyaErrorCode(a.response.errorCode,"206001")&&"gigya-complete-registration-screen"===a.screen&&p.showLoadingSpinner())},onHideHandler:function(a){},onSocialLoginHandler:function(a){}}}var m="4.0.0",n={},o=function(){},p={},q=b.getContext?b.getContext:function(){},r=c();return{getOptions:d,getInsertCustomField:e,getCustomValidationFields:g,setOptions:function(a){return n=a,o=n.debug&&b.log?b.log:function(){},this},screenSetHandlers:l(),setProtectedFunctions:function(a){return p=a,this},getProtectedFunctions:function(){return p},execute:i,version:function(){return m},className:function(){return r}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.BaseFlow=a),a}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.abcFlow",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a,b){function c(){return"AbcFlow"}function d(){return{hasPaywall:!1,screenSet:{web:{auth:"Login-web",profile:"Profile-web"},mobile:{auth:"Login-mobile",profile:"Profile-mobile"}},screenName:{progressiveProfile:"gigya-progressive-profile-screen-1",updateProfile:"gigya-update-profile-screen"},parentDivClass:"vocento-gigya-parent-abc"}}function e(){return{fields:{},fieldsGroup:{},screens:{}}}function f(){return{}}function g(){o.getMainEventListener(),o.getEventNamespace(),o.getEventSeparator()}function h(){return{onErrorHandler:function(a){},onBeforeScreenLoadHandler:function(c){"gigya-quick-thank-you-screen"===c.nextScreen&&a("span.medioConcreto").text(b.getMainDomain()),o.addModalClassToScreen("gigya-screen-dialog-inner","vocento-modal")},onAfterScreenLoadHandler:function(b){if(i("#navbar .navbar-inner","header"),o.addParentDiv("gigya-screen-dialog","",l.parentDivClass),o.addParentDiv("gigya-screen-dialog-mobile","",l.parentDivClass),"gigya-login-screen"===b.currentScreen||"gigya-register-screen"===b.currentScreen){var c=a(document).height();j(b.currentScreen,"footer.container",c)}if("gigya-update-profile-screen"===b.currentScreen){gigya.socialize.showAddConnectionsUI({containerID:"gigya-add-connections-profile",width:140,height:25,showTermsLink:!1,hideGigyaLink:!0,showEditLink:!1,enabledProviders:l.enabledProviders,requiredCapabilities:l.requiredCapabilities});var d=[{selector:"form:visible span.gigya-user-first-name",data:o.getUser().firstName},{selector:"form:visible span.gigya-user-last-name",data:o.getUser().lastName},{selector:"form:visible label.gigya-user-email",data:o.getUser().email}];a.each(d,function(b,c){a(c.selector).html(c.data)})}"gigya-update-profile-screen"===b.currentScreen&&"site"!==o.getAccount().loginProvider&&a("form:visible #vocento-div-change-password").hide()},onFieldChangedHandler:function(a){},onBeforeSubmitHandler:function(a){},onAfterSubmitHandler:function(a){},onHideHandler:function(a){},onSocialLoginHandler:function(a){}}}function i(b,c){if(b&&a(b).length>0&&c&&a(c).length>0){var d=a(b).offset();if("undefined"!=typeof d){d.top+=a(b).height(),d.left=a(c).position().left;var e=a(".gigya-screen-dialog");e.css("top",d.top),e.css("left",d.left),e.css("z-index",a("#navbar").css("z-index")-1)}}}function j(b,c,d){var e=a("#"+b).offset().top;"undefined"!=typeof d&&d&&(e=d)}var k="4.0.0",l={},m=c(),n=function(){},o={};b.getContext?b.getContext:function(){};return{getOptions:d,getInsertCustomField:e,getCustomValidationFields:f,setOptions:function(a){return l=a,n=l.debug&&b.log?b.log:function(){},this},screenSetHandlers:h(),setProtectedFunctions:function(a){return o=a,this},getProtectedFunctions:function(){return o},execute:g,version:function(){return k},className:function(){return m}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.AbcFlow=a),a}),function(a,b){"use strict";window.vocUserRequirejsNamespace={};var c,d=null;"undefined"!=typeof Voonto&&"undefined"!=typeof Voonto.VERSION&&(c=Voonto.getInstance().define,d=Voonto.getInstance().require),"undefined"!=typeof c&&c||(c="undefined"!=typeof define&&define?define:null),"undefined"!=typeof d&&d||(d="undefined"!=typeof require&&require?require:null),window.vocUserRequirejsNamespace.define=c,window.vocUserRequirejsNamespace.require=d,"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof c&&c.amd?vocUserRequirejsNamespace.define("vocento.siteFlow",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a,b){function c(){return"SiteFlow"}function d(){return{hasPaywall:!1,hasEcommerce:!1,siteName:"ABC",enableCNAME:!0,htmlLegalText:'Al crear tu cuenta, aceptas la <a href="http://www.vocento.com/politica-privacidad/" target="_blank"><strong>pol&iacute;tica de privacidad</strong></a> y la <a href="http://www.vocento.com/politica-cookies/" target="_blank"><strong>pol&iacute;tica de cookies</strong></a> de Vocento y las <a href="http://www.abc.es/contacto/condiciones.html" target="_blank"><strong>condiciones de uso</strong></a> del portal.',facebookPixelId:"1571136016517980",htmlBenefits:'<ul class="vocuser-listchecks"><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Reg&iacute;strate para personalizar tu portada ABC 24h</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Seguir&aacute;s a tus autores favoritos</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Recibir newsletters con contenido exclusivo en tu email</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Guardar y comentar noticias</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Participar en concursos, sorteos y promociones</span></li></ul>',siteId:"0100",saveGigyaCustomerServices:!0,autosubscribeConfig:{www:{hasAutomaticNewsletters:!0,query_string:"abc-editoriales"},sevilla:{hasAutomaticNewsletters:!0,query_string:"abcsevilla-editoriales"},"desnlocal-vocuser":{hasAutomaticNewsletters:!0,query_string:"abc-editoriales"},"desnlocal-vocuser-sevilla":{hasAutomaticNewsletters:!0,query_string:"abcsevilla-editoriales"},desn:{hasAutomaticNewsletters:!0,query_string:"abc-editoriales"},"desn.sevilla":{hasAutomaticNewsletters:!0,query_string:"abcsevilla-editoriales"},pren:{hasAutomaticNewsletters:!0,query_string:"abc-editoriales"},"pren.sevilla":{hasAutomaticNewsletters:!0,query_string:"abcsevilla-editoriales"}},enableHttps:!0}}function e(){return{fields:{legaltext:new b.Row({field:{displayText:j.htmlLegalText,attr:{type:"label"}}}),newslettersMornig:new b.Row({field:{displayText:"Edici&oacute;n matinal. Recibe las noticias m&aacute;s importantes por la ma&ntilde;ana.",attr:{type:"checkbox",name:"data.newslettersMorning.abc",value:"checked"}}}),newslettersEvening:new b.Row({field:{displayText:"Edici&oacute;n vespertina. Recibe las noticias m&aacute;s importantes por la tarde.",attr:{type:"checkbox",name:"data.newslettersEvening.abc",value:"checked"}}}),newslettersHeadlines:new b.Row({field:{displayText:"Titulares, env&iacute;o a las 8:00 de la ma&ntilde;ana. Recibe a primera hora las noticias m&aacute;s importantes del d&iacute;a.",attr:{type:"checkbox",name:"data.newslettersHeadlines.abc",value:"checked"}}}),disableAccount:new b.Row({field:{displayText:""}})},fieldsGroup:{legalTextFields:["legaltext"],newslettersFields:["newslettersMornig","newslettersEvening","newslettersHeadlines"],disableAccount:["disableAccount"]},screens:{"gigya-register-screen":[{group:"legalTextFields",elementId:"vocento-div-legaltext"}],"gigya-complete-registration-screen":[{group:"legalTextFields",elementId:"vocento-div-legaltext"}],"gigya-update-profile-screen-2":[{group:"newslettersFields",elementId:"vocento-div-newsletters"}],"gigya-progressive-profile-screen-2":[{group:"newslettersFields",elementId:"vocento-div-newsletters"}],"gigya-deactivate-account-screen":[{group:"disableAccount",elementId:"vocento-div-disable-account"}]}}}function f(){return{}}function g(){var b=m.getMainEventListener();m.getEventNamespace(),m.getEventSeparator();m.checkUserFlowUrlsContains("sevilla",window.location.href)&&(j.newslettersAuto="abcsevilla-editoriales"),b.on("click",".vocento-submit-button",function(){a(".vocento-submit-nickname").trigger("click");var b=a("#gigya-update-profile-screen input[name='oldPassword']").val(),c=a("#gigya-update-profile-screen input[name='newPassword']").val(),d=a("#gigya-update-profile-screen input[name='passwordRetype']").val();return(void 0!==typeof b&&b||void 0!==typeof c&&c||void 0!==typeof d&&d)&&a(".vocento-submit-new-password").trigger("click"),!1}),b.on("change",".vocento-checkbox",function(){return a(".vocento-submit-interests").trigger("click"),!1}),m.facebookTrackInit(j.facebookPixelId)}function h(){return{onErrorHandler:function(a){},onBeforeScreenLoadHandler:function(a){},onAfterScreenLoadHandler:function(a){var b=a.currentScreen;if("gigya-thank-you-screen"===b){var c="CompleteRegistration";m.facebookTrackEvent(c),m.createUserInSelligent();var d=m.getNfrylCookie(),e=m.getCookieVocUserInformation("returnUrl");e&&(d=e),m.redirectToUrl(d,5e3)}"gigya-update-thanks-screen"===b&&m.updateUserCommunicationsInSelligent()},onFieldChangedHandler:function(a){},onBeforeSubmitHandler:function(a){},onAfterSubmitHandler:function(a){"gigya-complete-registration-screen"===a.screen&&m.compareGigyaErrorCode(a.response.errorCode,0)&&(m.updateDeleteUserNotificationFrecuency(a.response),m.createUserInSelligent(a.response.UID))},onHideHandler:function(a){},onSocialLoginHandler:function(a){}}}var i="4.0.0",j={},k=c(),l=function(){},m={};b.getContext?b.getContext:function(){};return{getOptions:d,getInsertCustomField:e,getCustomValidationFields:f,setOptions:function(a){return j=a,l=j.debug&&b.log?b.log:function(){},this},screenSetHandlers:h(),setProtectedFunctions:function(a){return m=a,this},getProtectedFunctions:function(){return m},execute:g,version:function(){return i},className:function(){return k}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.SiteFlow=a),a}),vocUserRequirejsNamespace.define("vocento-vocuser-combined-lite",function(){});